System.register("chunks:///_virtual/AdMgr.ts",["cc","./Global.ts","./InputBlock.ts","./WxAd.ts"],(function(n){var t,i,e,o;return{setters:[function(n){t=n.cclegacy},function(n){i=n.Global},function(n){e=n.InputBlock},function(n){o=n.WxAd}],execute:function(){t._RF.push({},"89e0c3MC/ZEmatc4RZuVADt","AdMgr",void 0),n("AdMgr",function(){function n(){}return n.init=function(){var n;this.ad=o,null==(n=this.ad)||n.init()},n.showBanner=function(){var n;null==(n=this.ad)||n.showBanner()},n.hideBanner=function(){var n;null==(n=this.ad)||n.hideBanner()},n.showRewardedVideo=function(n,t,i){var o;e.setActive(2),null==(o=this.ad)||o.showRewardedVideo(n,t,i)},n.showInterstitialAd=function(n,t,o){var a;Date.now()-i.Last_Inter_Ad_Show_Time<3e4||(e.setActive(2),null==(a=this.ad)||a.showInterstitialAd(n,t,o))},n}()).ad=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"4ec22SiSCtIH5tIfhLB1ntc","ArrayUtil",void 0);var t=r("ArrayUtil",function(){function r(){}return r.has=function(r,n){return!!r&&(!(r.length<=0)&&-1!=r.indexOf(n))},r.shuffle=function(r){if(r&&!(r.length<=1))for(var n=r.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),e=[r[t],r[n]];r[n]=e[0],r[t]=e[1]}},r.remove=function(r,n){if(!r)return!1;if(r.length<=0)return!1;var t=r.indexOf(n);if(-1===t)return!1;r.splice(t,1)},r.removeMultiIdx=function(r,n){if(!n)return r;if(n.length<=0)return r;for(var t=[],e=new Set(n),i=0;i<r.length;i++)e.has(i)||t.push(r[i]);return t},r.pickItem=function(r){return r?r.length<=0?null:r[Math.floor(Math.random()*r.length)]:null},r.pickIndex=function(r){return r?r.length<=0?null:Math.floor(Math.random()*r.length):null},r.pickItems=function(r,n,t){if(void 0===t&&(t=!1),!r)return null;if(r.length<=0)return null;var e=[];if(t){for(var i=[].concat(r),u=0;u<n;u++){var l=this.pickIndex(i),f=i[l];if(e.push(f),i.splice(l,1),i.length<=0)break}return e}for(var a=0;a<n;a++){var o=this.pickItem(r);e.push(o)}return e},r.pickIndexs=function(r,n,t){if(void 0===t&&(t=!1),!r)return null;if(r.length<=0)return null;var e=[];if(t){for(var i=[].concat(r),u=0;u<n;u++){var l=this.pickIndex(i);if(e.push(l),i.splice(l,1),i.length<=0)break}return e}for(var f=0;f<n;f++){var a=this.pickIndex(r);e.push(a)}return e},r.removeSame=function(r,n,t){t||(t=function(r,n){return r===n});for(var e=[],i=[],u=1,l=1;l<r.length;l++){if(t(r[l],r[l-1])){if(++u>=n){var f=[];e.push(f);for(var a=0;a<n;a++){var o=l+a-u+1;f.push(o),i.push(o)}}}else u=1}return{removeIdxArr:e,arr:r=this.removeMultiIdx(r,i)}},r}());globalThis.ArrayUtil=t,n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./Setting.ts"],(function(i){var o,t,u,n,e,s,r,a,c,d,h;return{setters:[function(i){o=i.inheritsLoose,t=i.createClass},function(i){u=i.cclegacy,n=i._decorator,e=i.AudioSource,s=i.game,r=i.Game,a=i.Component},function(i){c=i.ResMgr},function(i){d=i.Bundle},function(i){h=i.Setting}],execute:function(){var g,l;u._RF.push({},"79432KzY8JGh7M/c0pay+I1","AudioMgr",void 0);var p=n.ccclass,f=(n.property,n.requireComponent);i("AudioMgr",p("Manager/AudioMgr")(g=f(e)(((l=function(i){function u(){return i.apply(this,arguments)||this}o(u,i);var n=u.prototype;return n.onLoad=function(){globalThis.AudioMgr=this,u._audio=this.getComponent(e),s.on(r.EVENT_HIDE,this.onHide,this),s.on(r.EVENT_SHOW,this.onShow,this)},n.onHide=function(){u.pauseBgm()},n.onShow=function(){u.resumeBgm()},u.playBgm=function(i,o){if(void 0===o&&(o=1),h.BgmEnabled&&(i||(i=this.curBgm)))if(this.curBgm===i)this._audio.volume=o,this._audio.playing||this._audio.play();else{var t=c.getRes(d.Audio,i);if(!t)return;this._audio.stop(),this.curBgm=i,this._audio.clip=t,this._audio.loop=!0,this._audio.volume=o,this._audio.play()}},u.pauseBgm=function(){this.curBgm&&this._audio.pause()},u.resumeBgm=function(){this.curBgm&&this._audio.play()},u.stopBgm=function(){this._audio.stop(),this.curBgm=null},u.playSfx=function(i,o){if(void 0===o&&(o=1),h.SfxEnabled){var t=c.getRes(d.Audio,i);t&&this._audio.playOneShot(t,o)}},t(u,null,[{key:"Audio",get:function(){return this._audio}}]),u}(a))._audio=void 0,l.curBgm=null,g=l))||g)||g);u._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./ResMgr.ts"],(function(i){var t,e,n,a,s,o,c,l,h,d,_,r,g,p,S,C,u,I,m,A;return{setters:[function(i){t=i.inheritsLoose,e=i.createForOfIteratorHelperLoose,n=i.createClass},function(i){a=i.cclegacy,s=i._decorator,o=i.Color,c=i.Vec3,l=i.Sprite,h=i.UITransform,d=i.RigidBody2D,_=i.Collider2D,r=i.view,g=i.Contact2DType,p=i.math,S=i.tween,C=i.Vec2,u=i.instantiate,I=i.Component},function(i){m=i.Global},function(i){A=i.ResMgr}],execute:function(){var R,y;a._RF.push({},"debc9sGDMRKgYdwCruu7tAU","Ball",void 0);var T=s.ccclass,L=(s.property,function(){function i(){}return i.getVec3=function(){return this._vec3Pool.pop()||new c},i.releaseVec3=function(i){this._vec3Pool.length<this.MAX_POOL_SIZE&&(i.set(0,0,0),this._vec3Pool.push(i))},i.getVec2=function(){return this._vec2Pool.pop()||new C},i.releaseVec2=function(i){this._vec2Pool.length<this.MAX_POOL_SIZE&&(i.set(0,0),this._vec2Pool.push(i))},i.preAllocate=function(){for(var i=0;i<20;i++)this._vec3Pool.push(new c),this._vec2Pool.push(new C)},i}());L._vec3Pool=[],L._vec2Pool=[],L.MAX_POOL_SIZE=50;i("Ball",T("Game/Ball")(((y=function(i){function a(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=i.call.apply(i,[this].concat(n))||this)._cachedSprite=null,t._initialColor=o.WHITE.clone(),t._cachedTransform=null,t._cachedRigidBody=null,t._cachedCollider=null,t._tweenConnect=null,t._tweenDisconnect=null,t._tweenEliminate=null,t._currentGridKey=null,t._data=null,t.isConnected=!1,t.isEliminating=!1,t._lastPosition=new c,t._staticCheckTimer=0,t.STATIC_CHECK_INTERVAL=.5,t.STATIC_VELOCITY_THRESHOLD=1,t.STATIC_POSITION_THRESHOLD=.1,t._isInViewport=!0,t.CULLING_CHECK_INTERVAL=.2,t.CULLING_VELOCITY_THRESHOLD=5,t._viewportPadding=200,t._cullingElapsed=0,t.DAMPING_FAST=.1,t.DAMPING_NORMAL=.2,t.DAMPING_SLOW=.4,t.DAMPING_STACK=.6,t.VELOCITY_FAST=150,t.VELOCITY_SLOW=30,t.VELOCITY_STACK=15,t.STACK_CHECK_RADIUS=160,t.STACK_CHECK_COUNT=4,t.VELOCITY_THRESHOLD=5,t.UPDATE_INTERVAL=8,t.updateCounter=0,t.RESTITUTION=m.PHYSICS.BALL.RESTITUTION,t.FRICTION=m.PHYSICS.BALL.FRICTION,t.REPULSION_FORCE=m.PHYSICS.BALL.COLLISION.REPULSION_FORCE,t.MIN_SEPARATION=m.PHYSICS.BALL.COLLISION.MIN_SEPARATION,t.GRAVITY_SCALE=m.PHYSICS.BALL.GRAVITY_SCALE,t.LINEAR_DAMPING=m.PHYSICS.BALL.LINEAR_DAMPING,t.ANGULAR_DAMPING=m.PHYSICS.BALL.ANGULAR_DAMPING,t.OVERLAP_THRESHOLD=.9,t._frameSkipCounter=0,t.PHYSICS_FRAME_SKIP=6,t._lastUpdateTime=0,t.MIN_UPDATE_INTERVAL=.067,t._isConnectAnimating=!1,t._connectAnimTimer=0,t.CONNECT_ANIM_DURATION=.08,t._targetScale=new c,t._originalScale=new c,t.ROTATION_DAMPING_FACTOR=.95,t._isFromPreload=!1,t._creationTime=0,t._lastActiveTime=0,t}t(a,i);var s=a.prototype;return s.onLoad=function(){try{if(a._poolInitialized||(L.preAllocate(),a._poolInitialized=!0),this._cachedSprite=this.getComponent(l),this._cachedTransform=this.getComponent(h),this._cachedRigidBody=this.getComponent(d),this._cachedCollider=this.getComponent(_),!this._cachedRigidBody||!this._cachedCollider)return;if(this._cachedSprite&&(this._initialColor=this._cachedSprite.color.clone()),!this._cachedTransform)return;var i=r.getVisibleSize();this._viewportPadding=Math.min(.25*i.width,300),this._lastPosition=this.node.position.clone(),this._cachedRigidBody&&(this._cachedRigidBody.enabledContactListener=!0,this._cachedRigidBody.gravityScale=m.PHYSICS.BALL.GRAVITY_SCALE,this._cachedRigidBody.linearDamping=m.PHYSICS.BALL.LINEAR_DAMPING,this._cachedRigidBody.angularDamping=m.PHYSICS.BALL.ANGULAR_DAMPING,this._cachedRigidBody.fixedRotation=!1),this._cachedCollider&&(this._cachedCollider.friction=m.PHYSICS.BALL.FRICTION,this._cachedCollider.restitution=m.PHYSICS.BALL.RESTITUTION,this._cachedCollider.density=m.PHYSICS.BALL.DENSITY,this._cachedCollider.on(g.BEGIN_CONTACT,this.onBeginContact,this),this._cachedCollider.on(g.PRE_SOLVE,this.onPreSolve,this)),this._isInViewport=!0,this.updateComponentsState(),this._creationTime=Date.now(),this._lastActiveTime=this._creationTime}catch(i){}},s.onDestroy=function(){try{this._cachedCollider&&(this._cachedCollider.off(g.BEGIN_CONTACT,this.onBeginContact,this),this._cachedCollider.off(g.PRE_SOLVE,this.onPreSolve,this)),this._tweenConnect&&(this._tweenConnect.stop(),this._tweenConnect=null),this._tweenDisconnect&&(this._tweenDisconnect.stop(),this._tweenDisconnect=null),this._tweenEliminate&&(this._tweenEliminate.stop(),this._tweenEliminate=null)}catch(i){}},s.checkPhysicsState=function(){if(this._cachedRigidBody&&!this.isEliminating){var i=this.node.position,t=L.getVec3();t.set(this._lastPosition);c.distance(i,t);var e=this._cachedRigidBody.linearVelocity.length(),n=this.calculateDynamicDamping(e,i);Math.abs(this._cachedRigidBody.linearDamping-n)>.015&&(this._cachedRigidBody.linearDamping=n,this._cachedRigidBody.angularDamping=Math.min(1.5*n,.85)),this._lastPosition.set(i),L.releaseVec3(t),(e>.8||this.isConnected)&&(this._lastActiveTime=Date.now())}},s.calculateDynamicDamping=function(i,t){if(this.isInStackedState(t))return this.DAMPING_STACK;if(i>this.VELOCITY_FAST)return this.DAMPING_FAST;if(i<this.VELOCITY_SLOW)return this.DAMPING_SLOW;var e=(i-this.VELOCITY_SLOW)/(this.VELOCITY_FAST-this.VELOCITY_SLOW);return p.lerp(this.DAMPING_SLOW,this.DAMPING_FAST,e)},s.checkViewportCulling=function(){if(!this.isEliminating){if(this._cachedRigidBody){var i=this._cachedRigidBody.linearVelocity;if(Math.abs(i.y)<this.CULLING_VELOCITY_THRESHOLD&&Math.abs(i.x)<this.CULLING_VELOCITY_THRESHOLD)return}var t=r.getVisibleSize(),e=r.getVisibleOrigin(),n=this.node.getWorldPosition(),a=e.x-this._viewportPadding,s=e.x+t.width+this._viewportPadding,o=e.y-300,c=e.y+t.height+800,l=this._isInViewport;this._isInViewport=n.x>=a&&n.x<=s&&n.y>=o&&n.y<=c,l!==this._isInViewport&&this.updateComponentsState()}},s.updateComponentsState=function(){if(this._cachedRigidBody&&(this._cachedRigidBody.enabled=!0,this._isInViewport&&!this.isEliminating?(this._cachedRigidBody.allowSleep=!1,this._cachedRigidBody.isAwake()||this._cachedRigidBody.wakeUp()):(this._cachedRigidBody.allowSleep=!0,this._cachedRigidBody.isAwake()&&this._cachedRigidBody.sleep())),this._cachedCollider){var i=this._isInViewport&&!this.isEliminating;this._cachedCollider.enabled=i}if(this._cachedSprite){var t=this._isInViewport||this.isConnected||this.node.active;this._cachedSprite.enabled=t}},s.connect=function(){if(!this.isEliminating&&!this.isConnected){if(this._cachedRigidBody&&(this._cachedRigidBody.linearDamping=this.DAMPING_SLOW,this._cachedRigidBody.angularDamping=1.5*this.DAMPING_SLOW),this._isInViewport=!0,this.updateComponentsState(),this.isConnected=!0,this._tweenConnect&&(this._tweenConnect.stop(),this._tweenConnect=null),this._tweenDisconnect&&(this._tweenDisconnect.stop(),this._tweenDisconnect=null),this._cachedSprite){var i=this._initialColor.clone();i.r=Math.max(0,i.r-50),i.g=Math.max(0,i.g-50),i.b=Math.max(0,i.b-50),this._cachedSprite.color=i}this._originalScale.set(m.Ball_Scale,m.Ball_Scale,this.node.scale.z),this._targetScale.set(1.15*m.Ball_Scale,1.15*m.Ball_Scale,this.node.scale.z),this._isConnectAnimating=!0,this._connectAnimTimer=0,this._lastActiveTime=Date.now()}},s.disconnect=function(){if(!this.isEliminating&&this.isConnected){this._cachedRigidBody&&(this._cachedRigidBody.linearDamping=this.DAMPING_NORMAL,this._cachedRigidBody.angularDamping=1.5*this.DAMPING_NORMAL),this._isInViewport=!0,this.updateComponentsState(),this.isConnected=!1,this._tweenConnect&&(this._tweenConnect.stop(),this._tweenConnect=null),this._tweenDisconnect&&(this._tweenDisconnect.stop(),this._tweenDisconnect=null),this._cachedSprite&&(this._cachedSprite.color=this._initialColor);var i=this.node.scale,t=m.Ball_Scale;Math.abs(i.x-t)>.01||Math.abs(i.y-t)>.01?(this._originalScale.set(i.x,i.y,i.z),this._targetScale.set(t,t,1),this._isConnectAnimating=!0,this._connectAnimTimer=0):(this._isConnectAnimating=!1,this._connectAnimTimer=0,this.node.setScale(t,t,1),this._originalScale.set(t,t,1),this._targetScale.set(1.15*t,1.15*t,1))}},s.eliminate=function(){var i=this;return this.isEliminating?Promise.resolve():(this._isInViewport=!0,this.updateComponentsState(),this.isEliminating=!0,this.isConnected=!1,new Promise((function(t){i._tweenEliminate||(i._tweenEliminate=S(i.node).to(.25,{scale:c.ZERO,eulerAngles:new c(0,0,i.node.eulerAngles.z+180)},{easing:"backIn"}).call((function(){i.recycle(),t()}))),i._tweenEliminate.start()})))},s.recycle=function(){this._cachedRigidBody&&(this._cachedRigidBody.linearDamping=this.DAMPING_NORMAL,this._cachedRigidBody.angularDamping=1.5*this.DAMPING_NORMAL),this._isInViewport=!0,this.updateComponentsState(),this.isConnected=!1,this.isEliminating=!1,this._isConnectAnimating=!1,this._connectAnimTimer=0,this._cachedSprite&&(this._cachedSprite.color=this._initialColor),this.node.scale=new c(m.Ball_Scale,m.Ball_Scale,1),this._tweenConnect&&(this._tweenConnect.stop(),this._tweenConnect=null),this._tweenDisconnect&&(this._tweenDisconnect.stop(),this._tweenDisconnect=null),this._tweenEliminate&&(this._tweenEliminate.stop(),this._tweenEliminate=null),this._cachedRigidBody&&(this._cachedRigidBody.enabled=!0,this._cachedRigidBody.linearVelocity=C.ZERO,this._cachedRigidBody.angularVelocity=0),a.shouldRecycleToPool()&&this.node&&this.node.isValid?(a.pool.push(this),this.node.active=!1):this.node&&this.node.isValid&&this.node.destroy()},a.shouldRecycleToPool=function(){return a.pool.length<a.MAX_POOL_SIZE},a.cleanupPool=function(){if(a.pool.length>a.MAX_POOL_SIZE)for(var i=a.pool.length-a.MIN_POOL_SIZE,t=0;t<i;t++){var e=a.pool.pop();e&&e.node&&e.node.isValid&&e.node.destroy()}},a.create=function(i){for(var t;a.pool.length>0;){var e=a.pool.pop();if(e&&e.node&&e.node.isValid){if((t=e).node.active=!0,t._isFromPreload=!1,t._cachedTransform&&i&&i.data){var n=i.data.getComponent(h);n&&t._cachedTransform.setContentSize(n.contentSize)}break}}t||((t=u(i).getComponent(a))._isFromPreload=!0),t._creationTime=Date.now(),t._lastActiveTime=t._creationTime,t._cachedRigidBody&&(t._cachedRigidBody.enabled=!0,t._cachedRigidBody.linearVelocity=C.ZERO,t._cachedRigidBody.angularVelocity=0);var s=m.Ball_Scale;return t.node.setScale(s,s,1),t._originalScale.set(s,s,1),t._targetScale.set(1.15*s,1.15*s,1),t.isConnected=!1,t.isEliminating=!1,t._isConnectAnimating=!1,t._connectAnimTimer=0,t._cachedSprite&&(t._cachedSprite.color=t._initialColor),t._tweenConnect&&(t._tweenConnect.stop(),t._tweenConnect=null),t._tweenDisconnect&&(t._tweenDisconnect.stop(),t._tweenDisconnect=null),t._tweenEliminate&&(t._tweenEliminate.stop(),t._tweenEliminate=null),t},s.canBeConnectedWith=function(i){return!this.isEliminating&&!i.isEliminating&&(!!(i&&this.Data&&i.Data)&&this.Data.id===i.Data.id)},s.getWorldBoundingBox=function(){return this._cachedTransform||(this._cachedTransform=this.getComponent(h),this._cachedTransform)?this._cachedTransform.getBoundingBoxToWorld():null},s.updateSprite=function(){if(this._cachedSprite&&this._data&&(a._ballAtlas||(a._ballAtlas=A.getAtlas("icon","ball/balls")),a._ballAtlas)){var i=this._data.name,t=a._ballAtlas.getSpriteFrame(i);t&&(this._cachedSprite.spriteFrame=t)}},s.isInStackedState=function(i){for(var t=a.getGridKey(i),e=a._spatialGrid.get(t)||[],n=0,s=Math.min(e.length,8),o=0;o<s;o++){var l=e[o];if(l!==this&&l.node&&l.node.isValid){var h=l.node.position;if(h.y<i.y)if(c.squaredDistance(i,h)<=this.STACK_CHECK_RADIUS*this.STACK_CHECK_RADIUS&&++n>=this.STACK_CHECK_COUNT)return!0}}return!1},a.getGridKey=function(i){return Math.floor(i.x/a.GRID_SIZE)+","+Math.floor(i.y/a.GRID_SIZE)},s.updateGridPosition=function(){var i=this._currentGridKey,t=a.getGridKey(this.node.position);if(i!==t){if(i&&a._spatialGrid.has(i)){var e=a._spatialGrid.get(i),n=e.indexOf(this);-1!==n&&(e.splice(n,1),0===e.length&&a._spatialGrid.delete(i))}a._spatialGrid.has(t)||a._spatialGrid.set(t,[]),a._spatialGrid.get(t).push(this),this._currentGridKey=t}a._gridCleanupCounter++,a._gridCleanupCounter>=a.GRID_CLEANUP_INTERVAL&&(a._gridCleanupCounter=0,a.cleanupSpatialGrid())},a.cleanupSpatialGrid=function(){for(var i,t=[],n=e(a._spatialGrid);!(i=n()).done;){var s=i.value,o=s[0];0===s[1].length&&t.push(o)}for(var c=0,l=t;c<l.length;c++){var h=l[c];a._spatialGrid.delete(h)}},s.onBeginContact=function(i,t,e){var n=t.node.getComponent(a);if(n&&this._cachedRigidBody&&n._cachedRigidBody){var s=this.node.position,o=t.node.position,l=c.distance(s,o),h=(this.node.scale.x+t.node.scale.x)*m.PHYSICS.BALL.COLLISION.MIN_SEPARATION;if(l<h){var d=L.getVec3();c.subtract(d,s,o),d.normalize();var _=.4*(h-l),r=d.multiplyScalar(m.PHYSICS.BALL.COLLISION.REPULSION_FORCE*_),g=L.getVec2(),p=L.getVec2();g.set(r.x,r.y),p.set(-r.x,-r.y),this._cachedRigidBody.applyForceToCenter(g,!0),n._cachedRigidBody.applyForceToCenter(p,!0);var S=m.PHYSICS.BALL.COLLISION.VELOCITY_DAMPING;this._cachedRigidBody.linearVelocity=this._cachedRigidBody.linearVelocity.multiplyScalar(S),n._cachedRigidBody.linearVelocity=n._cachedRigidBody.linearVelocity.multiplyScalar(S),L.releaseVec3(d),L.releaseVec2(g),L.releaseVec2(p)}this._lastActiveTime=Date.now(),n._lastActiveTime=Date.now()}},s.onPreSolve=function(i,t,e){var n;t.node.getComponent(a)&&(((null==(n=this._cachedRigidBody)?void 0:n.linearVelocity.length())||0)>100?(e.setRestitution(.5*this.RESTITUTION),e.setFriction(1.5*this.FRICTION)):(e.setRestitution(this.RESTITUTION),e.setFriction(this.FRICTION)))},s.handleStacking=function(){if(this._cachedRigidBody)for(var i,t=this.getNearbyBalls(),n=e(t);!(i=n()).done;){var a=i.value;if(a!==this&&a._cachedRigidBody)if(c.distance(this.node.position,a.node.position)<45*(this.node.scale.x+a.node.scale.x)){var s=L.getVec3();c.subtract(s,this.node.position,a.node.position),s.normalize();var o=s.multiplyScalar(.4*this.REPULSION_FORCE),l=L.getVec2();l.set(o.x,o.y),this._cachedRigidBody.applyForceToCenter(l,!0),this._cachedRigidBody.linearDamping=Math.min(this._cachedRigidBody.linearDamping+.08,.85),L.releaseVec3(s),L.releaseVec2(l)}}},s.getNearbyBalls=function(){var i=a.getGridKey(this.node.position);return a._spatialGrid.get(i)||[]},s.update=function(i){if(this._cachedRigidBody&&this._isInViewport){Math.abs(this._cachedRigidBody.angularVelocity)>90&&(this._cachedRigidBody.angularVelocity=90*Math.sign(this._cachedRigidBody.angularVelocity)),Math.abs(this._cachedRigidBody.angularVelocity)<5&&(this._cachedRigidBody.angularVelocity=0);try{if(this._frameSkipCounter++,this._frameSkipCounter>=this.PHYSICS_FRAME_SKIP&&(this._frameSkipCounter=0,this.handleStacking(),this.updatePhysicsState()),this._isConnectAnimating)if(this._connectAnimTimer+=i,this._connectAnimTimer>=this.CONNECT_ANIM_DURATION){if(this.isConnected)this.node.setScale(this._targetScale);else{var t=m.Ball_Scale;this.node.setScale(t,t,1)}this._isConnectAnimating=!1,this._connectAnimTimer=0}else{var e=this._connectAnimTimer/this.CONNECT_ANIM_DURATION,n=new c;this.isConnected,c.lerp(n,this._originalScale,this._targetScale,e),this.node.setScale(n)}this._cullingElapsed+=i,this._cullingElapsed>=this.CULLING_CHECK_INTERVAL&&(this._cullingElapsed=0,this.checkViewportCulling())}catch(i){}}},s.updatePhysicsState=function(){if(this._cachedRigidBody&&this._cachedRigidBody.isValid)try{var i=this.node.position,t=(c.distance(i,this._lastPosition),this._cachedRigidBody.linearVelocity.length()),e=this.calculateDynamicDamping(t,i);Math.abs(this._cachedRigidBody.linearDamping-e)>.01&&(this._cachedRigidBody.linearDamping=e,this._cachedRigidBody.angularDamping=Math.min(1.5*e,.8)),this._lastPosition.set(i)}catch(i){}},s.debugBallState=function(){var i=this.node.scale,t=m.Ball_Scale,e=this.node.position,n=this._cachedRigidBody?this._cachedRigidBody.linearVelocity:C.ZERO;return"球体调试信息:\n- 当前缩放: ("+i.x.toFixed(2)+", "+i.y.toFixed(2)+", "+i.z.toFixed(2)+")\n- 全局缩放: "+t.toFixed(2)+"\n- 位置: ("+e.x.toFixed(1)+", "+e.y.toFixed(1)+")\n- 速度: ("+n.x.toFixed(1)+", "+n.y.toFixed(1)+")\n- 是否连接: "+this.isConnected+"\n- 是否消除中: "+this.isEliminating+"\n- 来源: "+(this._isFromPreload?"新创建":"对象池")},s.getBallStatus=function(){var i,t;return{id:null==(i=this.Data)?void 0:i.id,name:null==(t=this.Data)?void 0:t.name,isFromPreload:this._isFromPreload,creationTime:this._creationTime,lastActiveTime:this._lastActiveTime,isConnected:this.isConnected,isEliminating:this.isEliminating,isInViewport:this._isInViewport}},a.getPoolStatus=function(){return{poolSize:a.pool.length,maxPoolSize:a.MAX_POOL_SIZE,minPoolSize:a.MIN_POOL_SIZE,spatialGridSize:a._spatialGrid.size}},n(a,[{key:"Data",get:function(){return this._data},set:function(i){this._data=i,this.updateSprite(),this._isInViewport=!0,this.updateComponentsState()}}]),a}(I)).pool=[],y.MAX_POOL_SIZE=200,y.MIN_POOL_SIZE=50,y._ballAtlas=null,y.GRID_SIZE=200,y._spatialGrid=new Map,y._gridCleanupCounter=0,y.GRID_CLEANUP_INTERVAL=600,y._poolInitialized=!1,R=y))||R);a._RF.pop()}}}));

System.register("chunks:///_virtual/BallBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ball.ts","./EventMgr.ts","./EventType.ts","./ResMgr.ts","./Bundle.ts","./GameMgr.ts","./Global.ts","./cfg_ball.ts","./GameMode.ts"],(function(t){var a,e,l,n,i,o,r,s,h,u,c,I,B,f,_,C,L,d,A,T,g,O,N,E;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,l=t.initializerDefineProperty,n=t.assertThisInitialized,i=t.createForOfIteratorHelperLoose,o=t.createClass,r=t.asyncToGenerator},function(t){s=t.cclegacy,h=t._decorator,u=t.Node,c=t.PhysicsSystem2D,I=t.Vec2,B=t.Component,f=t.math,_=t.RigidBody2D},function(t){C=t.Ball},function(t){L=t.EventMgr},function(t){d=t.EventType},function(t){A=t.ResMgr},function(t){T=t.Bundle},function(t){g=t.GameMgr},function(t){O=t.Global},function(t){N=t.CfgBall},function(t){E=t.GameMode}],execute:function(){var m,p,R,S,y;s._RF.push({},"8e1e9Q72kBMIKbiO8GfKOuu","BallBox",void 0);var M=h.ccclass,v=h.property;t("BallBox",(m=M("Game/BallBox"),p=v(u),m((y=a((S=function(t){function a(){for(var a,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return a=t.call.apply(t,[this].concat(i))||this,l(a,"ballRoot",y,n(a)),a._balls=[],a.BALL_GENERATION_CONFIG={INITIAL_BALLS:70,MAX_BALLS_ON_SCREEN:100,REFILL_MODE:"IMMEDIATE"},a.waitBalls=[],a.isCreating=!1,a._eliminatedCount=0,a._isInitialLoadComplete=!1,a._currentBallCount=0,a.PHYSICS_FIXED_TIME_STEP=.05,a.VELOCITY_ITERATIONS=2,a.POSITION_ITERATIONS=1,a.GRAVITY_SCALE=-250,a._ballCreationDelay=.05,a}e(a,t);var s=a.prototype;return s.getBallCount=function(){return this._currentBallCount},s.syncBallCount=function(){var t=this.node.children.length;this._currentBallCount!==t&&(this._currentBallCount=t)},s.onLoad=function(){this.initPhysicsSystem(),L.on(d.UseSkillMove,this.onUseSkillMove,this),L.on(d.ReqCreateBall,this.onReqCreateBall,this),L.on(d.BallDestroy,this.onBallDestroy,this),L.on(d.GameStart,this.onGameStart,this)},s.initPhysicsSystem=function(){var t=c.instance;t&&(t.fixedTimeStep=this.PHYSICS_FIXED_TIME_STEP,t.velocityIterations=this.VELOCITY_ITERATIONS,t.positionIterations=this.POSITION_ITERATIONS,t.gravity=new I(0,this.GRAVITY_SCALE),t.allowSleep=!0,t.debugDrawFlags=0)},s.onDestroy=function(){this.unscheduleAllCallbacks(),L.off(d.UseSkillMove,this.onUseSkillMove,this),L.off(d.ReqCreateBall,this.onReqCreateBall,this),L.off(d.BallDestroy,this.onBallDestroy,this),L.off(d.GameStart,this.onGameStart,this)},s.onGameStart=function(){this.loadInitialBalls()},s.loadInitialBalls=function(){var t=r((function*(){this._isInitialLoadComplete||(this.generateBallData(this.BALL_GENERATION_CONFIG.INITIAL_BALLS),yield this.createBallBatch(this.BALL_GENERATION_CONFIG.INITIAL_BALLS),this._isInitialLoadComplete=!0,this._currentBallCount=this.node.children.length)}));return function(){return t.apply(this,arguments)}}(),s.generateBallData=function(t){if(this.waitBalls=[],g.ballData&&g.ballData.length>0){for(var a=0;a<Math.min(t,g.ballData.length);a++)this.waitBalls.push(g.ballData[a]);if(this.waitBalls.length<t){g.generateBallData(t-this.waitBalls.length);for(var e=0;e<Math.min(t-this.waitBalls.length,g.ballData.length);e++)this.waitBalls.push(g.ballData[e])}}else{g.generateBallData(t);for(var l=0;l<Math.min(t,g.ballData.length);l++)this.waitBalls.push(g.ballData[l])}},s.onBallDestroy=function(t){this._eliminatedCount+=t,this._currentBallCount-=t,t>0&&this._isInitialLoadComplete&&this.refillBalls(t)},s.checkBallCount=function(){this._isInitialLoadComplete&&!1===O.Performance_Mode&&this.syncBallCount()},s.refillBalls=function(){var t=r((function*(t){this.isCreating||(this.generateBallData(t),yield this.createBallBatch(t))}));return function(a){return t.apply(this,arguments)}}(),s.createBallBatch=function(){var t=r((function*(t){var a=this;if(!this.isCreating){this.isCreating=!0;for(var e=O.PHYSICS.BALL.SPAWN,l=0,n=t||this.waitBalls.length,i=function*(){var t=Math.min(e.BATCH_SIZE,a.waitBalls.length,n-l),i=a.waitBalls.splice(0,t),o=new Set,s=i.map(r((function*(t){var n,i=A.getRes(T.Game,t.name,"ball/"),r=C.create(i),s=r.node;do{n=f.randomRangeInt(0,e.COLUMNS.length)}while(o.has(n));o.add(n);var h=e.COLUMNS[n]+f.randomRange(-e.COLUMN_RANDOM_OFFSET,e.COLUMN_RANDOM_OFFSET),u=e.INITIAL_HEIGHT+f.randomRange(0,e.HEIGHT_RANDOM_OFFSET);s.setPosition(h,u,0);var c=f.randomRange(e.ROTATION.INITIAL_ANGLE.MIN,e.ROTATION.INITIAL_ANGLE.MAX);s.setRotationFromEuler(0,0,c);var B=s.getComponent(_);B&&(B.linearVelocity=new I(f.randomRange(e.VELOCITY.HORIZONTAL.MIN,e.VELOCITY.HORIZONTAL.MAX),f.randomRange(e.VELOCITY.DROP.MIN,e.VELOCITY.DROP.MAX)),B.angularVelocity=f.randomRange(e.ROTATION.ANGULAR_VELOCITY.MIN,e.ROTATION.ANGULAR_VELOCITY.MAX)),a.node.addChild(s),r.Data=t,l++,a._currentBallCount++})));yield Promise.all(s);var h=a._isInitialLoadComplete?e.BATCH_DELAY:.5*e.BATCH_DELAY;yield new Promise((function(t){return setTimeout(t,h)}))};this.waitBalls.length>0&&l<n;)yield*i();this.isCreating=!1}}));return function(a){return t.apply(this,arguments)}}(),s.onReqCreateBall=function(t){if(void 0===t&&(t=1),g.ballData.length<=0)this.generateBallData(t);else{t=Math.min(g.ballData.length,t);for(var a=0;a<t&&!(g.ballData.length<=0);a++){var e=g.ballData.shift();e&&this.waitBalls.push(e)}}this.createBallBatch(t)},s.onUseSkillMove=function(){for(var t=0;t<g.curIdArr.length;t++){var a=g.curIdArr[t],e=N[a];this.waitBalls.push(e)}g.curIdArr=[],this.createBallBatch()},s.isPositionOccupied=function(t,a,e){if(void 0===e&&(e=50),!this.node)return!1;for(var l,n=this.node.children,o=i(n);!(l=o()).done;){var r=l.value.position,s=r.x-t,h=r.y-a;if(s*s+h*h<e*e)return!0}return!1},s.getCurrentConfig=function(){return{mode:g.Mode===E.Super?"终极模式":"普通模式",initialLoad:this.BALL_GENERATION_CONFIG.INITIAL_BALLS,currentCount:this._currentBallCount,eliminatedCount:this._eliminatedCount,isInitialLoadComplete:this._isInitialLoadComplete}},o(a,[{key:"balls",get:function(){return this._balls}},{key:"IsEmpty",get:function(){return this._currentBallCount<=0}},{key:"MAX_CONCURRENT_BALLS",get:function(){return this.BALL_GENERATION_CONFIG.MAX_BALLS_ON_SCREEN}}]),a}(B)).prototype,"ballRoot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=S))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/BallType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"9dee6zox8dMOq7pAQQPBgb7","BallType",void 0);e("BallType",function(e){return e.Misc="misc",e.Red="red",e.Yellow="yellow",e.Blue="blue",e.Orange="orange",e.Green="green",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/BtnExtend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./EventType.ts"],(function(t){var n,e,i,o,c,s,r,l,a,u,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){c=t.cclegacy,s=t._decorator,r=t.Button,l=t.Node,a=t.Component},function(t){u=t.AudioMgr},function(t){f=t.EventType}],execute:function(){var h,p,d,S,v,b,k,y;c._RF.push({},"e858boYmuRNtaUbAZS8rSGo","BtnExtend",void 0);var E=s.ccclass,x=s.property,T=s.disallowMultiple,g=s.requireComponent;t("BtnExtend",(h=E("UIExtend/BtnExtend"),p=T(!0),d=g(r),S=x({range:[0,1,.1],slide:!0}),h(v=p(v=d((k=n((b=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),s=0;s<e;s++)c[s]=arguments[s];return n=t.call.apply(t,[this].concat(c))||this,i(n,"safeTime",k,o(n)),i(n,"clickSfx",y,o(n)),n.btn=null,n.clickEvents=void 0,n.isSafe=!0,n}e(n,t);var c=n.prototype;return c.onLoad=function(){this.btn=this.getComponent(r),this.btn.node.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.btn.node.on(f.Click,this.onClick,this)},c.onTouchStart=function(){this.handleClickSfx()},c.onClick=function(){this.handleSafe()},c.handleSafe=function(){var t=this;this.isSafe&&(this.isSafe=!1,this.clickEvents=this.btn.clickEvents,this.btn.clickEvents=[],this.scheduleOnce((function(){t.isSafe=!0,t.btn.clickEvents=t.clickEvents}),this.safeTime))},c.handleClickSfx=function(){this.clickSfx&&u.playSfx(this.clickSfx)},n}(a)).prototype,"safeTime",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),y=n(b.prototype,"clickSfx",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"btnClick"}}),v=b))||v)||v)||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/BtnSkillBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,o=t.Component}],execute:function(){var c;e._RF.push({},"cc488Uu20VLroNqBBDCYkpS","BtnSkillBase",void 0);var l=r.ccclass;r.property,t("BtnSkillBase",l("BtnSkillBase")(c=function(t){function e(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).iconAdd=null,n}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Bundle.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"105baVpUGlOC7EYBCfoZ7kt","Bundle",void 0);e("Bundle",function(e){return e.Resources="resources",e.UI="ui",e.Game="game",e.Level="level",e.Font="font",e.Audio="audio",e.Icon="icon",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_ball.ts",["cc"],(function(e){var y;return{setters:[function(e){y=e.cclegacy}],execute:function(){y._RF.push({},"22e3ccX91xCf70rNO5Pwfx4","cfg_ball",void 0);e("SpecialSoundBalls",["紫色黄角双眼怪兽","方形黄色小怪兽","粉色黄角小怪兽","红色单眼小怪兽","粉色小怪兽","橙色小怪兽","恐龙","紫色黑角小怪兽","紫色小怪兽","绿色小怪兽","可爱小怪兽","椭圆小怪兽"]),e("CfgBall",[{id:0,name:"nike短袖",type:"green"},{id:1,name:"丸子头",type:"orange"},{id:2,name:"云朵",type:"blue"},{id:3,name:"五角星",type:"blue"},{id:4,name:"冰淇凌",type:"misc"},{id:5,name:"圆形音响",type:"orange"},{id:6,name:"头套小怪兽",type:"yellow"},{id:7,name:"套圈",type:"red"},{id:8,name:"套套圈",type:"red"},{id:9,name:"小狗",type:"red"},{id:10,name:"小狮子狗",type:"blue"},{id:11,name:"小花",type:"blue"},{id:12,name:"手柄",type:"red"},{id:13,name:"收银机",type:"red"},{id:14,name:"方形黄色小怪兽",type:"yellow"},{id:15,name:"椭圆小怪兽",type:"yellow"},{id:16,name:"椭圆小熊",type:"yellow"},{id:17,name:"橙色小女孩",type:"misc"},{id:18,name:"橙色小怪兽",type:"yellow"},{id:19,name:"橙色小熊",type:"yellow"},{id:20,name:"橙色小男孩",type:"blue"},{id:21,name:"橙色小鱼",type:"blue"},{id:22,name:"橙黄丸子",type:"red"},{id:23,name:"武士小男孩",type:"red"},{id:24,name:"水壶",type:"blue"},{id:25,name:"灰色小猫",type:"misc"},{id:26,name:"电竞小子",type:"red"},{id:27,name:"白人粉头发",type:"blue"},{id:28,name:"白色小动物",type:"red"},{id:29,name:"白色粉色萌宠",type:"green"},{id:30,name:"粉色冰淇凌",type:"blue"},{id:31,name:"粉色小怪兽",type:"yellow"},{id:32,name:"粉色小猫咪",type:"yellow"},{id:33,name:"粉色黄角小怪兽",type:"blue"},{id:34,name:"紫粉丸子",type:"green"},{id:35,name:"紫色小女孩",type:"blue"},{id:36,name:"紫色小怪兽",type:"red"},{id:37,name:"紫色小鸡",type:"blue"},{id:38,name:"紫色黄角双眼怪兽",type:"blue"},{id:39,name:"紫色黑角小怪兽",type:"yellow"},{id:40,name:"红心",type:"yellow"},{id:41,name:"红心蛋",type:"misc"},{id:42,name:"红橙丸子",type:"blue"},{id:43,name:"红色单眼小怪兽",type:"blue"},{id:44,name:"红色大眼表情",type:"misc"},{id:45,name:"红色小男孩",type:"yellow"},{id:46,name:"红色旅行",type:"yellow"},{id:47,name:"红萝不",type:"blue"},{id:48,name:"红黄游泳圈",type:"green"},{id:49,name:"绿棕丸子",type:"yellow"},{id:50,name:"绿色小怪兽",type:"yellow"},{id:51,name:"绿色小男孩",type:"orange"},{id:52,name:"绿色电视",type:"red"},{id:53,name:"小树",type:"red"},{id:54,name:"可爱小怪兽",type:"yellow"},{id:55,name:"背带裤",type:"blue"},{id:56,name:"胶囊",type:"red"},{id:57,name:"恐龙",type:"green"},{id:58,name:"草莓",type:"green"},{id:59,name:"萌萌蓝色小女孩",type:"blue"},{id:60,name:"蓝色出租车",type:"red"},{id:61,name:"蓝色哈哈丸",type:"yellow"},{id:62,name:"蓝色小女孩",type:"red"},{id:63,name:"蓝色小男孩",type:"yellow"},{id:64,name:"蓝色小鱼",type:"blue"},{id:65,name:"蓝色收音机",type:"red"},{id:66,name:"蓝黑丸子",type:"misc"},{id:67,name:"蘑菇头紫色脸",type:"blue"},{id:68,name:"蘑菇拳套",type:"red"},{id:69,name:"螃蟹",type:"blue"},{id:70,name:"西瓜苹果",type:"blue"},{id:71,name:"车",type:"misc"},{id:72,name:"遮阳伞",type:"yellow"},{id:73,name:"饮料",type:"yellow"},{id:74,name:"黄色小丸子",type:"yellow"},{id:75,name:"黄色小动物",type:"yellow"},{id:76,name:"黄色小猫",type:"yellow"},{id:77,name:"黄色肉丸",type:"yellow"},{id:78,name:"黑人黄头发",type:"yellow"},{id:79,name:"黑色照相机",type:"misc"}]);y._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_collection_unlock.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"396d8iPP2hNfpm2QKYGWENe","cfg_collection_unlock",void 0);e("CfgCollectionUnlock",[{collectionId:4,requiredCount:1e3},{collectionId:5,requiredCount:1e3},{collectionId:6,requiredCount:1e3},{collectionId:7,requiredCount:1e3},{collectionId:8,requiredCount:1e3},{collectionId:9,requiredCount:1e3},{collectionId:10,requiredCount:1e3},{collectionId:11,requiredCount:1e3},{collectionId:12,requiredCount:1e3},{collectionId:13,requiredCount:1e3},{collectionId:14,requiredCount:1e3},{collectionId:15,requiredCount:1e3}]);o._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_gashapon.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"09a5bk0WWpBJJyRh89ouys/","cfg_gashapon",void 0);t("CfgGashapon",[{id:0,itemId:0,cnt:50,weight:20},{id:1,itemId:0,cnt:100,weight:15},{id:2,itemId:0,cnt:250,weight:10},{id:3,itemId:0,cnt:400,weight:5},{id:4,itemId:1,cnt:1,weight:10},{id:5,itemId:2,cnt:1,weight:20},{id:6,itemId:3,cnt:1,weight:15},{id:7,itemId:4,cnt:1,weight:.5},{id:8,itemId:5,cnt:1,weight:.5},{id:9,itemId:6,cnt:1,weight:.5},{id:10,itemId:7,cnt:1,weight:.5},{id:11,itemId:8,cnt:1,weight:.5},{id:12,itemId:9,cnt:1,weight:.5},{id:13,itemId:10,cnt:1,weight:.5},{id:14,itemId:11,cnt:1,weight:.5},{id:15,itemId:12,cnt:1,weight:.5},{id:16,itemId:13,cnt:1,weight:.5},{id:17,itemId:14,cnt:1,weight:.5},{id:18,itemId:15,cnt:1,weight:.5}]);i._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_level.ts",["cc"],(function(p){var r;return{setters:[function(p){r=p.cclegacy}],execute:function(){r._RF.push({},"589e3TdcuNGWZgjWDycD6B7","cfg_level",void 0);p("CfgNormalLevel",[{id:1,group:5,pigGroup:2,pairGroup:10,time:50,targetScore:300},{id:2,group:10,pigGroup:4,pairGroup:20,time:150,targetScore:400},{id:3,group:15,pigGroup:6,pairGroup:30,time:160,targetScore:500},{id:4,group:20,pigGroup:8,pairGroup:45,time:165,targetScore:600},{id:5,group:25,pigGroup:10,pairGroup:60,time:170,targetScore:800},{id:6,group:30,pigGroup:12,pairGroup:65,time:175,targetScore:1e3},{id:7,group:35,pigGroup:14,pairGroup:70,time:180,targetScore:1200},{id:8,group:40,pigGroup:15,pairGroup:75,time:185,targetScore:1300},{id:9,group:45,pigGroup:15,pairGroup:78,time:190,targetScore:1400},{id:10,group:50,pigGroup:16,pairGroup:80,time:195,targetScore:1500},{id:11,group:55,pigGroup:0,pairGroup:85,time:200,targetScore:1600},{id:12,group:60,pigGroup:0,pairGroup:90,time:210},{id:13,group:65,pigGroup:0,pairGroup:95,time:220},{id:14,group:70,pigGroup:0,pairGroup:100,time:225},{id:15,group:75,pigGroup:0,pairGroup:105,time:235},{id:16,group:80,pigGroup:0,pairGroup:110,time:245},{id:17,group:80,pigGroup:0,pairGroup:115,time:250},{id:18,group:85,pigGroup:0,pairGroup:42,time:250},{id:19,group:90,pigGroup:0,pairGroup:45,time:265},{id:20,group:100,pigGroup:24,pairGroup:50,time:275,targetScore:2500},{id:21,group:105,pigGroup:0,pairGroup:50,time:295},{id:22,group:110,pigGroup:0,pairGroup:55,time:315},{id:23,group:115,pigGroup:0,pairGroup:55,time:325},{id:24,group:120,pigGroup:0,pairGroup:60,time:340},{id:25,group:135,pigGroup:29,pairGroup:67,time:345},{id:26,group:90,pigGroup:0,pairGroup:45,time:350},{id:27,group:120,pigGroup:0,pairGroup:55,time:355},{id:28,group:110,pigGroup:0,pairGroup:55,time:360},{id:29,group:125,pigGroup:0,pairGroup:60,time:370},{id:30,group:135,pigGroup:29,pairGroup:67,time:380,targetScore:3500},{id:31,group:90,pigGroup:0,pairGroup:45,time:390},{id:32,group:120,pigGroup:0,pairGroup:55,time:400},{id:33,group:120,pigGroup:0,pairGroup:55,time:400},{id:34,group:125,pigGroup:0,pairGroup:60,time:410},{id:35,group:135,pigGroup:29,pairGroup:67,time:420},{id:36,group:90,pigGroup:0,pairGroup:45,time:430},{id:37,group:120,pigGroup:0,pairGroup:55,time:440},{id:38,group:100,pigGroup:0,pairGroup:50,time:450},{id:39,group:125,pigGroup:0,pairGroup:60,time:460},{id:40,group:135,pigGroup:29,pairGroup:67,time:470,targetScore:4500},{id:41,group:90,pigGroup:0,pairGroup:45,time:480},{id:42,group:120,pigGroup:0,pairGroup:55,time:490},{id:43,group:120,pigGroup:0,pairGroup:55,time:500},{id:44,group:125,pigGroup:0,pairGroup:60,time:510},{id:45,group:135,pigGroup:29,pairGroup:67,time:520},{id:46,group:90,pigGroup:0,pairGroup:45,time:520},{id:47,group:120,pigGroup:0,pairGroup:55,time:540},{id:48,group:120,pigGroup:0,pairGroup:55,time:560},{id:49,group:125,pigGroup:0,pairGroup:60,time:580},{id:50,group:135,pigGroup:29,pairGroup:67,time:600,targetScore:5500},{id:51,group:90,pigGroup:0,pairGroup:45,time:620},{id:52,group:120,pigGroup:0,pairGroup:55,time:640},{id:53,group:100,pigGroup:0,pairGroup:50,time:660},{id:54,group:125,pigGroup:0,pairGroup:60,time:680},{id:55,group:135,pigGroup:29,pairGroup:67,time:700},{id:56,group:90,pigGroup:0,pairGroup:45,time:720},{id:57,group:120,pigGroup:0,pairGroup:55,time:740},{id:58,group:120,pigGroup:0,pairGroup:55,time:760},{id:59,group:125,pigGroup:0,pairGroup:60,time:780},{id:60,group:135,pigGroup:29,pairGroup:67,time:800,targetScore:6500},{id:61,group:90,pigGroup:0,pairGroup:45,time:840},{id:62,group:120,pigGroup:0,pairGroup:55,time:860},{id:63,group:100,pigGroup:0,pairGroup:50,time:880},{id:64,group:125,pigGroup:0,pairGroup:60,time:900},{id:65,group:135,pigGroup:29,pairGroup:67,time:920},{id:66,group:90,pigGroup:0,pairGroup:45,time:940},{id:67,group:120,pigGroup:0,pairGroup:55,time:960},{id:68,group:96,pigGroup:0,pairGroup:48,time:980},{id:69,group:125,pigGroup:0,pairGroup:60,time:1e3},{id:70,group:140,pigGroup:29,pairGroup:70,time:1020,targetScore:7500}]),p("CfgSuperLevel",[{id:1,group:150,time:1080,pairGroup:75,targetScore:8e3}]);r._RF.pop()}}}));

System.register("chunks:///_virtual/cfg_passReward.ts",["cc"],(function(s){var n;return{setters:[function(s){n=s.cclegacy}],execute:function(){n._RF.push({},"d2576gg+39CgpNSYy24NLn8","cfg_passReward",void 0);s("CfgPassReward",[{id:0,passLevel:10,coinCnt:150,skillCnt:1},{id:1,passLevel:20,coinCnt:300,skillCnt:1},{id:2,passLevel:30,coinCnt:500,skillCnt:2},{id:3,passLevel:40,coinCnt:750,skillCnt:2},{id:4,passLevel:50,coinCnt:900,skillCnt:2},{id:5,passLevel:60,coinCnt:900,skillCnt:2},{id:6,passLevel:70,coinCnt:1e3,skillCnt:3}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/CfgDec.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"549a6XmI0xN9Ik2DDiFPD4z","CfgDec",void 0);e("DefaultDec",[0]),e("CfgDec",[{id:0,needCatchedPigCnt:0},{id:1,needCatchedPigCnt:2},{id:2,needCatchedPigCnt:5},{id:3,needCatchedPigCnt:10}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/CfgItem.ts",["cc","./Bundle.ts","./ItemType.ts","./SkillType.ts"],(function(e){var i,n,o,t;return{setters:[function(e){i=e.cclegacy},function(e){n=e.Bundle},function(e){o=e.ItemType},function(e){t=e.PowerType}],execute:function(){i._RF.push({},"2ef25I11RRIUrJ+H0hYm0Ro","CfgItem",void 0);e("CfgItem",[{id:0,type:o.Coin,name:"钻石币",icon:"zzb"},{id:1,type:o.Skill,name:"冰冻",icon:"icon_bd",skillType:t.IceFreezer},{id:2,type:o.Skill,name:"消除",icon:"icon_pd",skillType:t.BallEraser},{id:3,type:o.Skill,name:"移出",icon:"icon_yc",skillType:t.BallMover},{id:4,name:"紫色黄角双眼怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img1_1"},{id:5,name:"方形黄色小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img2_1"},{id:6,name:"粉色黄角小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img3_1"},{id:7,name:"红色单眼小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img4_1"},{id:8,name:"粉色小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img5_1"},{id:9,name:"橙色小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img6_1"},{id:10,name:"恐龙",type:o.Collection,bundle:n.Icon,icon:"item/img7_1"},{id:11,name:"紫色黑角小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img8_1"},{id:12,name:"紫色小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img9_1"},{id:13,name:"绿色小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img10_1"},{id:14,name:"可爱小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img11_1"},{id:15,name:"椭圆小怪兽",type:o.Collection,bundle:n.Icon,icon:"item/img12_1"}]);i._RF.pop()}}}));

System.register("chunks:///_virtual/CfgName.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d4df6IN2hZEfIi9HnJ2TljV","CfgName",void 0);e("CfgName",["机器人爱好者","修行者","旅行侦探","潇洒走一回","飞天小猪","菜鸟大人","大大怪将军","蜜语甜心","甜点兔兔","星星狐语","冷酷王子","牛奶小草莓","琉璃仙子","萤火之歌","女巫的黑猫","风之少女梦","星空女神","秋水长天","飘渺的尘埃","梦中轻音","天地霸主","黑妞爱狗蛋"]);t._RF.pop()}}}));

System.register("chunks:///_virtual/CirclePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,a,c,s,o,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){c=e.cclegacy,s=e._decorator,o=e.Vec2,l=e.PageView}],execute:function(){var n,h,u;c._RF.push({},"c1980SyL21EuZWTY8iRps3w","CirclePageView",void 0);var g=s.ccclass,p=s.property;e("CirclePageView",g("UIExtend/CirclePageView")((u=i((h=function(e){function i(){for(var i,t=arguments.length,c=new Array(t),s=0;s<t;s++)c[s]=arguments[s];return i=e.call.apply(e,[this].concat(c))||this,r(i,"circle",u,a(i)),i}return t(i,e),i.prototype._autoScrollToPage=function(){var e=this._startBounceBackIfNeeded();if(!this.circle&&e){var i=this._getHowMuchOutOfBoundary();this._clampDelta(i),(i.x>0||i.y<0)&&(this._curPageIdx=0===this._pages.length?0:this._pages.length-1),(i.x<0||i.y>0)&&(this._curPageIdx=0),this.indicator&&this.indicator._changedState()}else{var t=new o;o.subtract(t,this._touchBeganPosition,this._touchEndPosition);var r=this._curPageIdx,a=r+this._getDragDirection(t),c=this.pageTurningSpeed*Math.abs(r-a);if(this.circle){if(-1===a)return void this.scrollToPage(this._pages.length-1,c);if(a===this._pages.length)return void this.scrollToPage(0,c)}if(a<this._pages.length){if(this._isScrollable(t,r,a))return void this.scrollToPage(a,c);var s=this._calculateTouchMoveVelocity();if(this._isQuicklyScrollable(s))return void this.scrollToPage(a,c)}this.scrollToPage(r,c)}},i}(l)).prototype,"circle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n=h))||n);c._RF.pop()}}}));

System.register("chunks:///_virtual/CoinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./CoinMgr.ts","./LabelTick.ts","./ResMgr.ts","./Bundle.ts","./AudioMgr.ts"],(function(i){var t,n,e,o,s,a,c,r,u,l,h,d,f,p,C,m,v,g,b;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,a=i._decorator,c=i.math,r=i.tween,u=i.v3,l=i.Node,h=i.Sprite,d=i.Component},function(i){f=i.EventMgr},function(i){p=i.EventType},function(i){C=i.CoinMgr},function(i){m=i.LabelTick},function(i){v=i.ResMgr},function(i){g=i.Bundle},function(i){b=i.AudioMgr}],execute:function(){var y,I,k,S,w;s._RF.push({},"c3b43fuycJEPLI1Et7usH3D","CoinItem",void 0);var M=a.ccclass,T=a.property;i("CoinItem",(y=M("Item/CoinItem"),I=T(m),y((w=t((S=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"labelTick",w,o(t)),t.coin=0,t}n(t,i);var s=t.prototype;return s.onLoad=function(){f.emit(p.CoinItemShow,this),f.on(p.CoinItemShow,this.onShow,this),f.on(p.CoinItemHide,this.onHide,this),f.on(p.UpdateCoin,this.updateCoin,this)},s.onDisable=function(){this.unscheduleAllCallbacks()},s.onDestroy=function(){f.emit(p.CoinItemHide,this),this.unscheduleAllCallbacks(),f.off(p.UpdateCoin,this.updateCoin,this),f.off(p.CoinItemShow,this.onShow,this),f.off(p.CoinItemHide,this.onHide,this)},s.onShow=function(i){this!==i&&(this.node.active=!1)},s.onHide=function(i){this!==i&&(this.node.active=!0,this.init(i.coin))},s.addCoin=function(){this.node.active&&(C.CurCoin+=1e3,this.updateCoin(C.CurCoin))},s.init=function(i){this.coin=i,this.labelTick.init(i)},s.updateCoin=function(i,t){var n=this;if(void 0===t&&(t=!0),this.node.active){this.coin=i,this.labelTick.tickLabel(i);t&&(b.playSfx("a获得金币"),this.schedule((function(){var i=n.createFlyCoin(),t=c.randomRangeInt(-50,50),e=c.randomRangeInt(-100,-50),o=r(i);o.to(.5,{position:u(t,e)},{easing:"cubicOut"}),o.to(1,{position:n.node.position},{easing:"backIn"}),o.call((function(){b.playSfx("a获得金币1"),i.destroy()})),o.start()}),.1,5))}},s.createFlyCoin=function(){var i=new l;return i.addComponent(h).spriteFrame=v.getSpriteFrame(g.UI,"zzb","image/common/"),this.node.parent.addChild(i),i},t}(d)).prototype,"labelTick",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=S))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/CoinMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemMgr.ts"],(function(n){var t,e,r,i;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,r=n.math},function(n){i=n.ItemMgr}],execute:function(){e._RF.push({},"dad9e++GnNNAq62LJJad40y","CoinMgr",void 0);var o=n("CoinMgr",function(){function n(){}return t(n,null,[{key:"CurCoin",get:function(){var n;return null!=(n=i.ItemDic[0])?n:0},set:function(n){i.setItem(0,r.clamp(n,0,9999999))}}]),n}());o.fakeCoin=0,globalThis.CoinMgr=o,e._RF.pop()}}}));

System.register("chunks:///_virtual/CollectItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./UIMgr.ts","./UI.ts","./CollectMgr.ts"],(function(t){var e,i,n,o,r,s,a,l,c,u,h,p,d,g,f,m,b,k,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,a=t._decorator,l=t.Sprite,c=t.Node,u=t.Material,h=t.Color,p=t.Button,d=t.UITransform,g=t.Component},function(t){f=t.ResMgr},function(t){m=t.Bundle},function(t){b=t.UIMgr},function(t){k=t.UI},function(t){M=t.CollectMgr}],execute:function(){var y,C,v,I,P,w,z,S,U,B,F,D,N;s._RF.push({},"16629z24clDnq9SUQ4n483F","CollectItem",void 0);var R=a.ccclass,_=a.property;t("CollectItem",(y=R("Item/CollectItem"),C=_(l),v=_(l),I=_(c),P=_(u),w=_(u),y((U=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"bg",U,o(e)),n(e,"icon",B,o(e)),n(e,"redPoint",F,o(e)),n(e,"matNormal",D,o(e)),n(e,"matBlack",N,o(e)),e.btn=null,e.progressMask=null,e.progressColor=new h(247,95,74,255),e.data=null,e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.btn=this.getComponent(p),this.initProgressMask()},s.initProgressMask=function(){if(this.icon&&this.icon.node&&this.icon.node.isValid){this.progressMask&&this.progressMask.node&&this.progressMask.node.destroy();var t=new c("ProgressMask");this.progressMask=t.addComponent(l),t.parent=this.icon.node,t.layer=this.icon.node.layer;var e=this.icon.node.getComponent(d),i=t.getComponent(d);e&&i&&(i.setContentSize(e.width,e.height),i.setAnchorPoint(.5,0),t.setPosition(0,-e.height/2)),t.active=!1}},s.updateState=function(){if(this.node&&this.node.isValid&&this.icon&&this.bg){var t=this.data,e=t.id,i=t.bundle,n=t.icon,o=(t.type,M.has(e)),r=M.canUnlock(e),s=M.isUnlocked(e),a=s?"tjdk1":"tjdk2";this.redPoint&&(this.redPoint.active=o&&r&&!s),this.btn&&(this.btn.interactable=o&&(r||s)),this.icon.spriteFrame=f.getSpriteFrame(i,n),this.bg.spriteFrame=f.getSpriteFrame(m.UI,a,"image/uiCollect/"),this.progressMask&&this.progressMask.node&&(this.progressMask.node.active=!1),this.icon.material=s?this.matNormal:this.matBlack}},s.onDestroy=function(){this.progressMask&&this.progressMask.node&&this.progressMask.node.destroy()},s.onClick=function(){b.open(k.CollectInfo,this.data),M.unlock(this.data.id),this.updateState()},r(e,[{key:"Data",get:function(){return this.data},set:function(t){this.data=t,this.node&&this.node.isValid&&this.updateState()}}]),e}(g)).prototype,"bg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(S.prototype,"icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(S.prototype,"redPoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(S.prototype,"matNormal",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(S.prototype,"matBlack",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=S))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/CollectMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemType.ts","./StorageUtil.ts","./ItemMgr.ts","./cfg_collection_unlock.ts","./EventMgr.ts","./EventType.ts"],(function(t){var n,e,i,o,c,r,l,u;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){i=t.ItemType},function(t){o=t.StorageUtil},function(t){c=t.ItemMgr},function(t){r=t.CfgCollectionUnlock},function(t){l=t.EventMgr},function(t){u=t.EventType}],execute:function(){e._RF.push({},"86733B7PQJM/rcNX4QqBl+D","CollectMgr",void 0);var s=t("CollectMgr",function(){function t(){}return t.init=function(){this.unlockedArr=o.getObj("unlockedCollectArr",[]),this.eliminateCountMap=o.getObj("eliminateCountMap",{})},t.has=function(t){return!!c.ItemDic[t]},t.isUnlocked=function(t){return this.unlockedArr.includes(t)},t.getEliminateCount=function(t){return this.eliminateCountMap[t]||0},t.addEliminateCount=function(t){this.eliminateCountMap[t]||(this.eliminateCountMap[t]=0),this.eliminateCountMap[t]++,o.setObj("eliminateCountMap",this.eliminateCountMap),this.checkUnlockCondition(t)},t.checkUnlockCondition=function(t){if(!this.isUnlocked(t)){var n=r.find((function(n){return n.collectionId===t}));if(n)this.getEliminateCount(t)>=n.requiredCount&&this.unlock(t)}},t.canUnlock=function(t){if(!this.has(t)||this.isUnlocked(t))return!1;var n=r.find((function(n){return n.collectionId===t}));return!!n&&this.getEliminateCount(t)>=n.requiredCount},t.add=function(t){this.has(t)||c.setItem(t,1)},t.unlock=function(t){this.isUnlocked(t)||(this.unlockedArr.push(t),this.unlockedArr.sort(),o.setObj("unlockedCollectArr",this.unlockedArr),l.emit(u.UnlockCollection,t))},t.hasAvailableCollectionUnlocks=function(){var t=this;return r.filter((function(n){var e=!t.isUnlocked(n.collectionId),i=t.getEliminateCount(n.collectionId)>=n.requiredCount;return e&&i})).length>0},t.hasCollectCanUnlock=function(){return this.hasAvailableCollectionUnlocks()},t.getUnlockProgress=function(t){var n=r.find((function(n){return n.collectionId===t}));return n?{current:this.getEliminateCount(t),required:n.requiredCount}:{current:0,required:0}},t.checkAndUnlockCollections=function(){var t=this,n=function(n){var e=t.eliminateCountMap[parseInt(n)],i=r.find((function(t){return t.collectionId===parseInt(n)}));i&&e>=i.requiredCount&&!t.isUnlocked(parseInt(n))&&t.unlock(parseInt(n))};for(var e in this.eliminateCountMap)n(e)},t.collect=function(t){this.isUnlocked(t)||(this.unlockedArr.push(t),this.unlockedArr.sort(),o.setObj("unlockedCollectArr",this.unlockedArr),l.emit(u.UnlockCollection,t))},n(t,null,[{key:"UnlockedArr",get:function(){return this.unlockedArr}},{key:"Cnt",get:function(){var t=0,n=c.ItemDic;for(var e in c.ItemDic)if(Object.prototype.hasOwnProperty.call(n,e)){var o=Number(e);c.getType(o)===i.Collection&&t++}return t}}]),t}());s.unlockedArr=[],s.eliminateCountMap={},globalThis.CollectMgr=s,e._RF.pop()}}}));

System.register("chunks:///_virtual/Debug.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(n){var e,r,o;return{setters:[function(n){e=n.createClass},function(n){r=n.cclegacy},function(n){o=n.Global}],execute:function(){r._RF.push({},"24152lr7B5ApJuM1SRUJV/V","Debug",void 0);n("Debug",function(){function n(){}return n.Log=function(e){var r;if(n.enabled){for(var o=arguments.length,t=new Array(o>1?o-1:0),a=1;a<o;a++)t[a-1]=arguments[a];(r=console).log.apply(r,[e+" --\x3e "].concat(t))}},n.Warn=function(e){var r;if(n.enabled){for(var o=arguments.length,t=new Array(o>1?o-1:0),a=1;a<o;a++)t[a-1]=arguments[a];(r=console).warn.apply(r,[e+" --\x3e "].concat(t))}},n.Error=function(e){var r;if(n.enabled){for(var o=arguments.length,t=new Array(o>1?o-1:0),a=1;a<o;a++)t[a-1]=arguments[a];(r=console).error.apply(r,[e+" --\x3e "].concat(t))}},e(n,null,[{key:"enabled",get:function(){return!o.IS_PRODUCTION}}]),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/DecItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgDec.ts","./DecMgr.ts","./ResMgr.ts","./Bundle.ts","./CollectMgr.ts"],(function(e){var t,i,n,r,a,o,l,c,s,u,d,p,g,f,b,h,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.Sprite,s=e.Node,u=e.Button,d=e.Label,p=e.Material,g=e.Component},function(e){f=e.CfgDec},function(e){b=e.DecMgr},function(e){h=e.ResMgr},function(e){m=e.Bundle},function(e){y=e.CollectMgr}],execute:function(){var U,k,D,v,C,I,M,z,w,F,L,_,B,N,P,S,T,R,Y,j,x,A,H,X,q;o._RF.push({},"59c6frXevhPlYLPMCYvF4a7","DecItem",void 0);var E=l.ccclass,G=l.property;e("DecItem",(U=E("Item/DecItem"),k=G(c),D=G(c),v=G(c),C=G(c),I=G(s),M=G(s),z=G(u),w=G(u),F=G(d),L=G(p),_=G(p),U((P=t((N=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"bg",P,r(t)),n(t,"decType",S,r(t)),n(t,"decName",T,r(t)),n(t,"decDes",R,r(t)),n(t,"decUsing",Y,r(t)),n(t,"decLocked",j,r(t)),n(t,"btnUse",x,r(t)),n(t,"btnUnlock",A,r(t)),n(t,"lbCondition",H,r(t)),n(t,"normalMat",X,r(t)),n(t,"grayMat",q,r(t)),t.data=null,t.id=0,t.isUsing=!1,t.isUnlocked=!1,t}i(t,e);var o=t.prototype;return o.updateData=function(){var e=this.id;this.IsUnlocked=b.isUnlocked(e),this.IsUsing=b.isUsing(e);var t=y.Cnt,i=f[e].needCatchedPigCnt,n=b.canUnlock(e);this.btnUse.node.active=!this.isUsing&&this.isUnlocked,this.btnUnlock.node.active=n&&!this.isUnlocked,this.lbCondition.node.active=!n,this.lbCondition.string="累计消灭"+t+"/"+i+"只怪兽"},o.onBtnUseClick=function(){b.use(this.id);for(var e=this.node.parent.getComponentsInChildren(t),i=0;i<e.length;i++){e[i].updateData()}},o.onBtnUnlockClick=function(){b.unlock(this.id);for(var e=this.node.parent.getComponentsInChildren(t),i=0;i<e.length;i++){e[i].updateData()}},a(t,[{key:"Data",get:function(){return this.data},set:function(e){this.data=e;var t=e.id;this.id=t,this.decType.spriteFrame=h.getSpriteFrame(m.UI,"type_"+t,"image/uiDecoration/"),this.decName.spriteFrame=h.getSpriteFrame(m.UI,"name_"+t,"image/uiDecoration/"),this.decDes.spriteFrame=h.getSpriteFrame(m.UI,"des_"+t,"image/uiDecoration/"),this.updateData()}},{key:"IsUsing",get:function(){return this.isUsing},set:function(e){this.isUsing=e,this.decUsing.active=e}},{key:"IsUnlocked",get:function(){return this.isUnlocked},set:function(e){this.isUnlocked=e,this.decLocked.active=!e;var t=e?this.normalMat:this.grayMat;this.bg.material=t,this.decType.material=t,this.decName.material=t,this.decDes.material=t}}]),t}(g)).prototype,"bg",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(N.prototype,"decType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(N.prototype,"decName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"decDes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(N.prototype,"decUsing",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(N.prototype,"decLocked",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"btnUse",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"btnUnlock",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(N.prototype,"lbCondition",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(N.prototype,"normalMat",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(N.prototype,"grayMat",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=N))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/DecMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgDec.ts","./Debug.ts","./StorageUtil.ts","./CollectMgr.ts"],(function(e){var c,t,n,s,u,i,o;return{setters:[function(e){c=e.createClass},function(e){t=e.cclegacy},function(e){n=e.DefaultDec,s=e.CfgDec},function(e){u=e.Debug},function(e){i=e.StorageUtil},function(e){o=e.CollectMgr}],execute:function(){t._RF.push({},"8f355jD+SlLT4ZLFyEhMuQZ","DecMgr",void 0);var r="unlockedDecs",l="curUseDec",D=e("DecMgr",function(){function e(){}return e.init=function(){this.unlockedDecs=i.getObj(r,[].concat(n)),i.setObj(r,this.unlockedDecs),this.CurUseDec=i.getItem(l,0)},e.unlock=function(e){this.isUnlocked(e)||(this.unlockedDecs.push(e),i.setObj(r,this.unlockedDecs))},e.use=function(e){this.curUseDec!==e?this.CurUseDec=e:u.Warn("DecMgr","id为"+e+"的装饰已被使用，无需重复使用")},e.isUnlocked=function(e){return this.unlockedDecs.includes(e)},e.isUsing=function(e){return this.curUseDec===e},e.canUnlock=function(e){var c=o.Cnt,t=s[e].needCatchedPigCnt,n=Math.max(e-1,0),u=this.isUnlocked(n);return c>=t&&u},e.reset=function(){this.CurUseDec=0,this.unlockedDecs=[].concat(n),i.setObj(r,this.unlockedDecs)},c(e,null,[{key:"UnlockedDecs",get:function(){return this.unlockedDecs}},{key:"CurUseDec",get:function(){return this.curUseDec},set:function(e){this.curUseDec=e,i.setItem(l,this.curUseDec)}}]),e}());D.unlockedDecs=[],D.curUseDec=0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Decoration.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./DecMgr.ts"],(function(e){var t,r,i,n,o,c,s,a,u,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,s=e.Sprite,a=e.Component},function(e){u=e.ResMgr},function(e){p=e.Bundle},function(e){l=e.DecMgr}],execute:function(){var f,g,h;o._RF.push({},"1a125Jr8ahDSoBq1GfSpUfu","Decoration",void 0);var y=c.ccclass,D=c.property;e("Decoration",y("Misc/Decoration")((h=t((g=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"key",h,n(t)),t.sp=void 0,t}return r(t,e),t.prototype.onLoad=function(){this.sp=this.getComponent(s),this.sp.spriteFrame=u.getSpriteFrame(p.Game,""+this.key+l.CurUseDec,"image/")},t}(a)).prototype,"key",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=g))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/DtoBall.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"90cf5r+GBVHcJydx9ajvtX4","DtoBall",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoGashapon.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"890486apslJApxl33QqOnoV","DtoGashapon",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoLevel.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5b305Wteo9FVZwuHI3GFyn1","DtoLevel",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DtoPassReward.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"93fb6FVmrxD4amnZOdFWZ9V","DtoPassReward",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoRank.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a0e4aeAv0FF4a011MT/srQm","DtoRank",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DtoReward.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"858f0EjULFKeZbkcqeyYP2/","DtoReward",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/EffectAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./AudioMgr.ts"],(function(i){var t,e,n,o,c,s,r,l;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator,o=i.UIOpacity,c=i.Component},function(i){s=i.EventMgr},function(i){r=i.EventType},function(i){l=i.AudioMgr}],execute:function(){var a;e._RF.push({},"9cc75GPyNhPbrMCf9SM9JDq","EffectAlert",void 0);var h=n.ccclass;n.property,i("EffectAlert",h("Game/EffectAlert")(a=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).uiOpacity=null,t._blinkTimer=0,t._isBlinking=!1,t.BLINK_INTERVAL=.5,t._blinkDirection=1,t}t(e,i);var n=e.prototype;return n.onLoad=function(){this.uiOpacity=this.getComponent(o),s.on(r.TimeTick,this.onTimeTick,this),s.on(r.UseSkillFreeze,this.onUseSkillFreeze,this),this.node.active=!1},n.start=function(){this._isBlinking=!0,this.uiOpacity.opacity=255},n.update=function(i){this._isBlinking&&this.node.active&&(this._blinkTimer+=i,this._blinkTimer>=this.BLINK_INTERVAL&&(this._blinkTimer=0,this._blinkDirection*=-1,this.uiOpacity.opacity=this._blinkDirection>0?255:50))},n.onDestroy=function(){this._isBlinking=!1,s.off(r.TimeTick,this.onTimeTick,this),s.off(r.UseSkillFreeze,this.onUseSkillFreeze,this)},n.onTimeTick=function(i){var t=this.node.active,e=i>0&&i<=5;this.node.active=e,!t&&e&&l.playSfx("a倒计时")},n.onUseSkillFreeze=function(){this.node.active=!1},e}(c))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/EffectFreeze.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./EventType.ts","./EventMgr.ts","./AudioMgr.ts"],(function(e){var t,n,o,i,s,r,c,u,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.isValid,s=e.Component},function(e){r=e.Global},function(e){c=e.EventType},function(e){u=e.EventMgr},function(e){l=e.AudioMgr}],execute:function(){var f;n._RF.push({},"2e5d7SFu5lLq6y6HumTkSLl","EffectFreeze",void 0);var a=o.ccclass;o.property,e("EffectFreeze",a("Game/EffectFreeze")(f=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onLoad=function(){u.on(c.UseSkillFreeze,this.onRemove,this)},o.onDestroy=function(){u.off(c.UseSkillFreeze,this.onRemove,this),this.unscheduleAllCallbacks()},o.start=function(){this.scheduleOnce(this.onRemove,r.Freeze_Time),l.playSfx("a冰冻道具")},o.onRemove=function(){i(this.node)&&this.node.destroy()},n}(s))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectMgr.ts",["cc"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy,n=t.instantiate}],execute:function(){e._RF.push({},"99a40aze3xOO67617VY8NcF","EffectMgr",void 0);t("EffectMgr",function(){function t(){}return t.create=function(t,e,c){var r=n(t);return e.addChild(r),c&&r.setWorldPosition(c),r},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Egg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./ArrayUtil.ts","./EventMgr.ts","./EventType.ts"],(function(t){var n,o,i,s,r,a,e,h,p,c,g,u,l;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,s=t.RigidBody2D,r=t.Sprite,a=t.v2,e=t.math,h=t.Component},function(t){p=t.ResMgr},function(t){c=t.Bundle},function(t){g=t.ArrayUtil},function(t){u=t.EventMgr},function(t){l=t.EventType}],execute:function(){var d;o._RF.push({},"9ef1bqkvYxOko3rB7h0hSZe","Egg",void 0);var y=i.ccclass;i.property,t("Egg",y("Item/Egg")(d=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).rigidBody=null,n.sp=null,n.orgPos=null,n}n(o,t);var i=o.prototype;return i.onLoad=function(){this.rigidBody=this.getComponent(s),this.sp=this.getComponent(r),this.rigidBody.gravityScale=0;var t=g.pickItem([1,2,3]),n=p.getSpriteFrame(c.UI,"niuidan"+t,"image/uiGashapon/");this.sp.spriteFrame=n,this.orgPos=this.node.getPosition(),u.on(l.StartGashapon,this.onStartGashapon,this),u.on(l.EndGashapon,this.onEndGashapon,this)},i.onDestroy=function(){u.off(l.StartGashapon,this.onStartGashapon,this),u.off(l.EndGashapon,this.onEndGashapon,this)},i.onStartGashapon=function(){var t=a();t.x=e.randomRange(-50,50),t.y=50,t.normalize().multiplyScalar(50),this.rigidBody.linearVelocity=t},i.onEndGashapon=function(){this.node.setPosition(this.orgPos),this.rigidBody.linearVelocity=a()},o}(h))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/EnergyMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageUtil.ts","./Global.ts","./TimeUtil.ts","./EventType.ts","./EventUtil.ts"],(function(e){var t,n,r,i,s,y,g,o,a,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,i=e._decorator,s=e.Component},function(e){y=e.StorageUtil},function(e){g=e.Global},function(e){o=e.TimeUtil},function(e){a=e.EventType},function(e){c=e.EventUtil}],execute:function(){var E,u;r._RF.push({},"84722e8aWpAS6xbNSALQyUA","EnergyMgr",void 0);var m=i.ccclass,h=(i.property,3e5);e("EnergyMgr",m("Manager/EnergyMgr")(((u=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.onLoad=function(){window&&(window.EnergyMgr=r),r._node=this.node,r.init()},r.init=function(){this.MaxEnergy=y.getItem("maxEnergy",g.Default_Max_Energy),this.CurEnergy=y.getItem("curEnergy",g.Default_Max_Energy),this.EnergyRecoveryTimestamp=y.getItem("energyRecoveryTimestamp",-1)},i.update=function(e){r.Enabled&&r.updateEnergy(e)},r.updateEnergy=function(e){if(!(this._curEngery>=this._maxEngergy)){var t=o.getCurrTimeStamp();-1===this.EnergyRecoveryTimestamp&&(this.EnergyRecoveryTimestamp=t);var n=t-this.EnergyRecoveryTimestamp;if(n>=h){var r=Math.floor(n/h);this.CurEnergy=Math.min(this._curEngery+r,this._maxEngergy),this.EnergyRecoveryTimestamp=t-n%h}}},r.clearTimers=function(){c.clearTimers(a.UpdateEnergy)},n(r,null,[{key:"Enabled",get:function(){return this._node.active},set:function(e){this._node.active=e}},{key:"CurEnergy",get:function(){return this._curEngery},set:function(e){var t=this._curEngery;this._curEngery=e,this._curEngery<0&&(this._curEngery=0),this._curEngery>t&&(this.EnergyRecoveryTimestamp=-1),c.throttleEmit(a.UpdateEnergy,this.ENERGY_UPDATE_THROTTLE),y.setItem("curEnergy",this._curEngery)}},{key:"MaxEnergy",get:function(){return this._maxEngergy},set:function(e){this._maxEngergy=e,c.throttleEmit(a.UpdateEnergy,this.ENERGY_UPDATE_THROTTLE),y.setItem("maxEnergy",this._maxEngergy)}},{key:"EnergyRecoveryTimestamp",get:function(){return this._energyRecoveryTimestamp},set:function(e){this._energyRecoveryTimestamp=e,y.setItem("energyRecoveryTimestamp",this._energyRecoveryTimestamp)}},{key:"isEmpty",get:function(){return!!this.Enabled&&this._curEngery<=0}}]),r}(s))._node=void 0,u.ENERGY_UPDATE_THROTTLE=100,u._curEngery=10,u._maxEngergy=10,u._energyRecoveryTimestamp=-1,E=u))||E);r._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,i,r;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.director,r=n.Component}],execute:function(){var c,s;e._RF.push({},"9a7eeGxAlpJtL+cEC8eYEST","EventMgr",void 0);var u=o.ccclass;o.property,n("EventMgr",u("Manager/EventMgr")(((s=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.onLoad=function(){e._node=this.node,i.addPersistRootNode(this.node)},e.on=function(n,t,e,o){this._node.on(n,t,e,o)},e.once=function(n,t,e,o){this._node.once(n,t,e,o)},e.emit=function(n,t,e,o,i,r){this._node.emit(n,t,e,o,i,r)},e.off=function(n,t,e,o){this._node.off(n,t,e,o)},e.offAll=function(n){this._node.targetOff(n)},e.has=function(n,t,e){return this._node.hasEventListener(n,t,e)},e}(r))._node=void 0,c=s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventType.ts",["cc"],(function(e){var l;return{setters:[function(e){l=e.cclegacy}],execute:function(){l._RF.push({},"c7fa9QGmtBBIYbVwCza1OPL","EventType",void 0);e("EventType",function(e){return e.Click="click",e.WxOnShow="WxOnShow",e.WxOnHide="WxOnHide",e.UpdateRedPoint="UpdateRedPoint",e.UpdateEnergy="UpdateEnergy",e.Pause="Pause",e.Resume="Resume",e.OpenUI="OpenUI",e.CloseUI="CloseUI",e.GameStart="GameStart",e.SelectBall="SelectBall",e.ReqCreateBall="ReqCreateBall",e.TimeTick="TimeTick",e.TimeOut="TimeOut",e.TimeReset="TimeReset",e.Revive="Revive",e.Win="Win",e.Fail="Fail",e.GameOver="game_over",e.UseSkillFreeze="UseSkillFreeze",e.UseSkillErase="UseSkillErase",e.UseSkillMove="UseSkillMove",e.AddSkillFreeze="AddSkillFreeze",e.AddSkillErase="AddSkillErase",e.AddSkillMove="AddSkillMove",e.UpdateSkillCnt="UpdateSkillCnt",e.AddSkill="AddSkill",e.UpdateLevel="UpdateLevel",e.UpdateCoin="UpdateCoin",e.UpdateScore="UpdateScore",e.StartGashapon="StartGashapon",e.EndGashapon="EndGashapon",e.UnlockHomePeice="UnlockHomePeice",e.UnlockCollection="UnlockCollection",e.CoinItemShow="CoinItemShow",e.CoinItemHide="CoinItemHide",e.BallDestroy="BallDestroy",e}({}));l._RF.pop()}}}));

System.register("chunks:///_virtual/EventUtil.ts",["cc","./EventMgr.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.EventMgr}],execute:function(){t._RF.push({},"5c317hKLxhMgJJRh6/2F65h","EventUtil",void 0);var i=e("EventUtil",function(){function e(){}return e.throttleEmit=function(e,t){var i=Date.now(),n=this.throttleTimers.get(e)||0;if(i-n>=t){for(var c=arguments.length,o=new Array(c>2?c-2:0),s=2;s<c;s++)o[s-2]=arguments[s];r.emit.apply(r,[e].concat(o)),this.throttleTimers.set(e,i)}},e.debounceEmit=function(e,t){for(var i=this,n=arguments.length,c=new Array(n>2?n-2:0),o=2;o<n;o++)c[o-2]=arguments[o];var s=this.debounceTimers.get(e);s&&clearTimeout(s);var u=setTimeout((function(){r.emit.apply(r,[e].concat(c)),i.debounceTimers.delete(e)}),t);this.debounceTimers.set(e,u)},e.clearTimers=function(e){this.throttleTimers.delete(e);var t=this.debounceTimers.get(e);t&&(clearTimeout(t),this.debounceTimers.delete(e))},e.clearAllTimers=function(){this.throttleTimers.clear(),this.debounceTimers.forEach((function(e){return clearTimeout(e)})),this.debounceTimers.clear()},e}());i.throttleTimers=new Map,i.debounceTimers=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/FailType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1e1a9ehIeNOm6QF1fszV/ky","FailType",void 0);e("FailType",function(e){return e[e.TimeOut=0]="TimeOut",e[e.SlotFull=1]="SlotFull",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Floaty.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,i,n,a,l,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.tween,s=t.v3,c=t.Component}],execute:function(){var f,u,p,h;n._RF.push({},"eaa9aoMVFhCBY75R+3rE22h","Floaty",void 0);var y=a.ccclass,v=a.property;t("Floaty",y("Misc/Floaty")((p=e((u=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"floatInterval",p,i(e)),o(e,"floatOffset",h,i(e)),e}return r(e,t),e.prototype.start=function(){l(this.node).sequence(l(this.node).by(this.floatInterval,{position:s(0,this.floatOffset,0)}),l(this.node).by(this.floatInterval,{position:s(0,-this.floatOffset,0)})).repeatForever().start()},e}(c)).prototype,"floatInterval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),h=e(u.prototype,"floatOffset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=u))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./ResMgr.ts","./Bundle.ts","./StorageUtil.ts","./TimeMgr.ts","./GameMode.ts","./UI.ts","./cfg_ball.ts","./Global.ts","./ArrayUtil.ts","./cfg_level.ts","./TrackMgr.ts","./ScoreMgr.ts","./InputBlock.ts","./UIMgr.ts"],(function(e){var t,l,r,a,s,i,n,o,u,c,h,d,f,g,v,p,_,L,m,M,B,S,I,y,C,b,D;return{setters:[function(e){t=e.inheritsLoose,l=e.extends,r=e.createClass,a=e.asyncToGenerator},function(e){s=e.cclegacy,i=e._decorator,n=e.instantiate,o=e.math,u=e.Component},function(e){c=e.EventMgr},function(e){h=e.EventType},function(e){d=e.ResMgr},function(e){f=e.Bundle},function(e){g=e.StorageUtil},function(e){v=e.TimeMgr},function(e){p=e.GameMode,_=e.ModeName},function(e){L=e.UI},function(e){m=e.CfgBall},function(e){M=e.Global},function(e){B=e.ArrayUtil},function(e){S=e.CfgNormalLevel,I=e.CfgSuperLevel},function(e){y=e.TrackMgr},function(e){C=e.ScoreMgr},function(e){b=e.InputBlock},function(e){D=e.UIMgr}],execute:function(){var T,A;s._RF.push({},"fc7ab3uDQZMAr967dLrCODL","GameMgr",void 0);var G=i.ccclass,N=(i.property,e("GameMgr",G("Manager/GameMgr")(((A=function(e){function s(){return e.apply(this,arguments)||this}t(s,e),s.setRandomBallRange=function(){var e=11*Math.floor(this.MAX_BALL_TYPES/11)-11,t=11*Math.floor(Math.random()*(e/11));this._currentBallStartId=t,this._currentBallEndId=t+10},s.getCurrentRangeBalls=function(){for(var e=[],t=this._currentBallStartId;t<=this._currentBallEndId;t++)m[t]&&e.push(m[t]);return e};var i=s.prototype;return i.onLoad=function(){globalThis.GameMgr=s,s._node=this.node,d.preloadAtlas("icon","ball/balls").then((function(){})).catch((function(e){}))},s.createStage=function(){var e=d.getRes(f.Game,"Stage");this.stage=n(e),this._node.addChild(this.stage)},s.startGame=function(){var e=a((function*(){g.getItem("hasStartedBefore",!1)?(this.curLevel=g.getItem("curLevel",1),this.superLevel=g.getItem("superLevel",1)):this.init(),C.init(),M.Is_Test_Level=!1,this.ballData=[],this.curIdArr=[],this.Mode===p.Super&&this.setRandomBallRange(),this.Mode===p.Super?this.selectSuperModeBalls():this.selectNormalModeBalls(),c.emit(h.OpenUI,L.Transition),y.track("start_game",{mode:this.CurrentModeTitle,level:this.GameLevelId}),yield v.delay(.5),this.stage&&this.stage.destroy(),yield v.delay(),this.createStage(),this.initLevelConfig();var e=this.getCurrentLevelData();e&&e.targetScore&&C.setTargetScore(e.targetScore),C.startLevel(),C.resetScore(),this.generateBallData(this.getInitialBallCount()),c.emit(h.ReqCreateBall,this.getInitialBallCount()),b.Active=!0,yield v.delay(1.2),b.Active=!1,D.open(L.Game),this.startBallMonitor(),this.Mode===p.Super?D.open(L.StageTip,"终极模式开启"):this.isHardLevel&&D.open(L.StageTip,"困难关卡"),c.emit(h.TimeReset)}));return function(){return e.apply(this,arguments)}}(),s.quitGame=function(){var e=a((function*(){this.stage&&(this.ballData=[],this.curIdArr=[],c.emit(h.OpenUI,L.Transition),yield v.delay(.5),this.stage&&this.stage.destroy(),this.stage=null)}));return function(){return e.apply(this,arguments)}}(),s.getFirst10Balls=function(){for(var e=[],t=0;t<10;t++)m[t]&&e.push(m[t]);return e},s.getNormalModeBallTypes=function(){return this.CurLevel<=5?5:this.CurLevel<=10?6:this.CurLevel<=19?7:this.CurLevel<=40?8:9},s.getInitialBallCount=function(){var e=M.Ball_Scale;return e>=1?this.MIN_INITIAL_BALLS:e>=.9?65:e>=.8?70:this.MAX_INITIAL_BALLS},s.generateBallData=function(e){if(0===this.ballData.length&&(e=this.getInitialBallCount()),this.ballData=[],this.Mode===p.Normal){B.shuffle(this._selectedNormalModeBalls);for(var t=0;t<e;t++){var l=B.pickItem(this._selectedNormalModeBalls);this.ballData.push(l)}}else{B.shuffle(this._selectedSuperModeBalls);for(var r=0;r<e;r++){var a=B.pickItem(this._selectedSuperModeBalls);this.ballData.push(a)}}B.shuffle(this.ballData)},s.initLevelConfig=function(){var e=function(e){return e<=10?1:e<=20?.9:e<=40?.8:.7},t=0,l=null;if(M.Is_Test_Level)switch(this.Mode){case p.Normal:t=this.CurLevel-1,M.Ball_Scale=e(this.CurLevel),M.Max_Group=20;break;case p.Super:M.Ball_Scale=Math.max(.7,M.Min_Ball_Scale),M.Max_Group=20}else switch(this.Mode){case p.Normal:t=this.CurLevel>70?o.randomRangeInt(50,70):this.CurLevel-1,l=S[t],M.Ball_Group=20,M.Pig_Group=0,M.Pair_Group=Math.floor(M.Ball_Group*Math.max(.3,.5-.01*t)),M.Level_Time=l.time,M.Ball_Scale=e(this.CurLevel),M.Max_Group=20;break;case p.Super:l=I[0],M.Ball_Group=20,M.Pig_Group=0,M.Pair_Group=6,M.Level_Time=l.time,M.Ball_Scale=Math.max(.7,M.Min_Ball_Scale),M.Max_Group=20}},i.start=function(){},i.onCheckWin=function(){C.CurrentScore>=C.TargetScore&&(this.unschedule(this.onCheckWin),c.emit(h.Win))},s.printBallData=function(){for(var e=new Map,t=0;t<this.ballData.length;t++){var l=this.ballData[t].name;e.has(l)||e.set(l,0);var r=e.get(l);e.set(l,r+1)}},s.printCurIdArr=function(){for(var e=0;e<this.curIdArr.length;e++)this.curIdArr[e]},s.getCurrentLevelData=function(){var e,t={id:1,group:15,pigGroup:2,pairGroup:10,time:50,targetScore:300};try{switch(this.Mode){case p.Normal:var r=this.CurLevel-1;if(r>=0&&r<S.length){var a=S[r];e=l({},a,{targetScore:a.targetScore||t.targetScore})}else e=t;break;case p.Super:var s=this.SuperLevel-1;if(s>=0&&s<I.length){var i=I[s];e=l({},i,{pigGroup:0,targetScore:i.targetScore})}else e=t;break;default:e=t}}catch(l){e=t}return e},s.startBallMonitor=function(){var e=this;this._ballDestroyListener&&(c.off(h.BallDestroy,this._ballDestroyListener),this._ballDestroyListener=null),this._ballDestroyListener=function(t){if(e.stage&&!e.Pause){if(e.ballData=[],e.Mode===p.Normal){B.shuffle(e._selectedNormalModeBalls);for(var l=0;l<t;l++){var r=B.pickItem(e._selectedNormalModeBalls);e.ballData.push(r)}}else{B.shuffle(e._selectedSuperModeBalls);for(var a=0;a<t;a++){var s=B.pickItem(e._selectedSuperModeBalls);e.ballData.push(s)}}B.shuffle(e.ballData),c.emit(h.ReqCreateBall,t)}},c.on(h.BallDestroy,this._ballDestroyListener)},s.stopBallMonitor=function(){this._ballDestroyListener&&(c.off(h.BallDestroy,this._ballDestroyListener),this._ballDestroyListener=null)},s.reset=function(){this.stopBallMonitor(),this.ballData=[],this.curIdArr=[],this._selectedSuperModeBalls=[],this._selectedNormalModeBalls=[],this.curLevel=1,this.mode=p.Normal,this.Pause=!1},s.selectSuperModeBalls=function(){var e=m.slice(0,this.MAX_BALL_TYPES);B.shuffle(e),this._selectedSuperModeBalls=e.slice(0,this.SUPER_MODE_TYPES)},s.selectNormalModeBalls=function(){var e=m.slice(0,this.MAX_BALL_TYPES);B.shuffle(e);var t=this.getNormalModeBallTypes();this._selectedNormalModeBalls=e.slice(0,t)},s.init=function(){this.curLevel=g.getItem("curLevel",1),this.superLevel=g.getItem("superLevel",1),g.setItem("hasStartedBefore",!0)},r(s,null,[{key:"Pause",get:function(){return this._pause},set:function(e){this._pause=e,c.emit(h.Pause,e)}},{key:"CurLevel",get:function(){return this.curLevel},set:function(e){this.curLevel=Math.max(1,e),g.setItem("curLevel",this.curLevel),c.emit(h.UpdateLevel,this.curLevel)}},{key:"SuperLevel",get:function(){return this.superLevel},set:function(e){this.superLevel=Math.max(1,e),g.setItem("superLevel",this.superLevel),c.emit(h.UpdateLevel,this.superLevel)}},{key:"Mode",get:function(){return this.mode},set:function(e){this.mode=e}},{key:"CurrentModeTitle",get:function(){return _[this.mode]}},{key:"GameLevelId",get:function(){switch(this.mode){case p.Normal:return this.curLevel;case p.Super:return this.superLevel}}},{key:"isHardLevel",get:function(){return this.curLevel>1&&this.curLevel%5==0}},{key:"MinConnectCount",get:function(){return this._minConnectCount}}]),s}(u))._node=void 0,A._pause=!1,A.MIN_INITIAL_BALLS=60,A.MAX_INITIAL_BALLS=80,A.MAX_BALL_TYPES=80,A.SUPER_MODE_TYPES=10,A._selectedSuperModeBalls=[],A._selectedNormalModeBalls=[],A.stage=null,A.slotBox=null,A.curLevel=1,A.superLevel=1,A.mode=p.Normal,A.ballData=[],A.curIdArr=[],A._minConnectCount=3,A._currentBallStartId=0,A._currentBallEndId=9,A._ballDestroyListener=null,T=A))||T));globalThis.GameMgr=N,s._RF.pop()}}}));

System.register("chunks:///_virtual/GameMode.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"d8c753sxMRLdryLDTONtJ6d","GameMode",void 0);e("GameMode",function(e){return e[e.Normal=0]="Normal",e[e.Super=1]="Super",e}({})),e("ModeName",["normal","super"]);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtil.ts",["cc","./Global.ts","./cfg_ball.ts"],(function(t){var e,n,c,i,o;return{setters:[function(t){e=t.cclegacy,n=t.sys,c=t.game},function(t){i=t.qg},function(t){o=t.CfgBall}],execute:function(){e._RF.push({},"b956eqLejpFnJDRlZtO5TSN","GameUtil",void 0);t("GameUtil",function(){function t(){}return t.getBallsByType=function(t){return o.filter((function(e){return e.type==t}))},t.isType=function(t,e){var n=o[t];return!!n&&n.type==e},t.exit=function(){switch(n.platform){case n.Platform.MOBILE_BROWSER:case n.Platform.DESKTOP_BROWSER:case n.Platform.ANDROID:c.end();break;case n.Platform.OPPO_MINI_GAME:i.exitApplication({data:"",success:function(){},fail:function(t){}})}},t.getCollectId=function(t){return t>=75&&t<=79?t-71:-1},t.someMethod=function(){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GashaponMgr.ts",["cc","./cfg_gashapon.ts","./MathUtil.ts"],(function(n){var t,e,a;return{setters:[function(n){t=n.cclegacy},function(n){e=n.CfgGashapon},function(n){a=n.MathUtil}],execute:function(){t._RF.push({},"2c746c99KhC2pE9Udsq66Dg","GashaponMgr",void 0);n("GashaponMgr",function(){function n(){}return n.getRandId=function(){for(var n=[],t=0;t<e.length;t++){var r=e[t];n.push(r.weight)}return a.randWeight(n)},n.generateRandomReward=function(){var n=this.selectRandomGashaponIndex(),t=e[n];return this.createRewardFromGashapon(t)},n.selectRandomGashaponIndex=function(){var n=e.map((function(n){return n.weight}));return a.randWeight(n)},n.createRewardFromGashapon=function(n){return{itemId:n.itemId,cnt:n.cnt}},n.getRandReward=function(){return this.generateRandomReward()},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Global.ts",["cc"],(function(_){var e;return{setters:[function(_){e=_.cclegacy}],execute:function(){e._RF.push({},"8b9a7NpOe9NkL6FuWN5ugvn","Global",void 0);var l=_("Global",(function(){}));l.Version="1.0.0",l.Default_Item={0:0,1:1,2:1,3:1},l.Default_Max_Energy=10,l.Level_Time=30,l.Is_Hard_Level=!1,l.Ball_Group=3,l.Pig_Group=0,l.Pair_Group=0,l.Is_Test_Level=!1,l.Freeze_Time=30,l.Slot_Cnt=7,l.Max_Group=20,l.Ball_Scale=1,l.Ball_Shrink_Scale=.025,l.Min_Ball_Scale=.6,l.Normal_Level_Coin_Default_Cnt=50,l.Normal_Level_Coin_Add_Cnt=5,l.Super_Level_Coin_Default_Cnt=1e3,l.Gashapon_One_Cost=500,l.Gashapon_Ten_Cost=4500,l.HomePeice_Unlock_Cost=2233,l.SideBar_Reward_Coin=150,l.Share_Record_Coin=150,l.Last_Inter_Ad_Show_Time=0,l.IS_PRODUCTION=!1,l.Performance_Mode=!0,l.Max_Visible_Balls=35,l.Physics_Update_Rate=10,l.Ball_Update_Rate=10,l.Touch_Sample_Rate=20,l.Enable_Ball_Culling=!0,l.Enable_Physics_Sleep=!0,l.Grid_Size=250,l.PHYSICS={SYSTEM:{FIXED_TIME_STEP:.05,VELOCITY_ITERATIONS:2,POSITION_ITERATIONS:1,GRAVITY:-250},BALL:{RESTITUTION:.03,FRICTION:.7,GRAVITY_SCALE:1,LINEAR_DAMPING:.7,ANGULAR_DAMPING:.85,DENSITY:.7,COLLISION:{MIN_SEPARATION:30,REPULSION_FORCE:35,VELOCITY_DAMPING:.5},SPAWN:{BATCH_SIZE:4,BATCH_DELAY:400,COLUMNS:[-300,-150,0,150,300],COLUMN_RANDOM_OFFSET:8,INITIAL_HEIGHT:1200,HEIGHT_RANDOM_OFFSET:50,VELOCITY:{DROP:{MIN:-50,MAX:-35},HORIZONTAL:{MIN:-10,MAX:10}},ROTATION:{INITIAL_ANGLE:{MIN:-15,MAX:15},ANGULAR_VELOCITY:{MIN:-15,MAX:15}}}}};_("ks",globalThis.ks),_("wx",globalThis.wx),_("qq",globalThis.qq),_("qg",globalThis.qg),_("tt",globalThis.tt),_("my",globalThis.my),_("TAPTAP",!1);e._RF.pop()}}}));

System.register("chunks:///_virtual/HomeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HomePieceItem.ts","./HomeMgr.ts","./CoinMgr.ts","./Global.ts","./UIMgr.ts","./UI.ts","./EventMgr.ts","./EventType.ts","./AudioMgr.ts","./Bundle.ts","./EffectMgr.ts","./ResMgr.ts"],(function(e){var t,n,i,o,r,c,l,a,s,u,f,m,p,d,g,h,k,U,b,v,y,H,I,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.Prefab,a=e.Node,s=e.instantiate,u=e.ParticleSystem2D,f=e.v2,m=e.Component},function(e){p=e.HomePieceItem},function(e){d=e.HomeMgr},function(e){g=e.CoinMgr},function(e){h=e.Global},function(e){k=e.UIMgr},function(e){U=e.UI},function(e){b=e.EventMgr},function(e){v=e.EventType},function(e){y=e.AudioMgr},function(e){H=e.Bundle},function(e){I=e.EffectMgr},function(e){P=e.ResMgr}],execute:function(){var C,M,E,S,_,R,z,A,D,w,B;r._RF.push({},"65609U4HQBDio5HR5ZkjAY1","HomeItem",void 0);var x=c.ccclass,T=c.property;e("HomeItem",(C=x("Item/HomeItem"),M=T(l),E=T(a),S=T(a),_=T(a),C((A=t((z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"homePieceItemPre",A,o(t)),i(t,"btnUnlock",D,o(t)),i(t,"lock",w,o(t)),i(t,"content",B,o(t)),t.id=0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){b.on(v.UnlockHomePeice,this.updateState,this)},r.start=function(){this.id=this.node.getSiblingIndex();for(var e=0;e<9;e++){var t=s(this.homePieceItemPre);this.content.addChild(t),t.getComponent(p).Id=this.id}this.updateState()},r.onDestroy=function(){b.off(v.UnlockHomePeice,this.updateState,this)},r.onBtnUnlockClick=function(){if(g.CurCoin<h.HomePeice_Unlock_Cost)k.open(U.Toast,"金币不足");else if(y.playSfx("a家园解锁"),g.CurCoin-=h.HomePeice_Unlock_Cost,b.emit(v.UpdateCoin,g.CurCoin,!1),d.unlock(this.id),this.triggerHomeElementUnlockEvent(),d.isAllUnlocked(this.id)){var e=P.getRes(H.UI,"Shinning","particle/"),t=I.create(e,this.node).getComponent(u);t.posVar=f(360,800),t.totalParticles=30,t.emissionRate=15,y.playSfx("a通关成功")}},r.triggerHomeElementUnlockEvent=function(){b.emit(v.UnlockHomePeice)},r.updateState=function(){var e=d.canUnlock(this.id),t=d.isAllUnlocked(this.id);this.btnUnlock.active=e&&!t,this.lock.active=!e},t}(m)).prototype,"homePieceItemPre",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"btnUnlock",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(z.prototype,"lock",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(z.prototype,"content",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=z))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/HomeMgr.ts",["cc","./ArrayUtil.ts","./StorageUtil.ts","./TrackMgr.ts"],(function(n){var e,t,o,c;return{setters:[function(n){e=n.cclegacy},function(n){t=n.ArrayUtil},function(n){o=n.StorageUtil},function(n){c=n.TrackMgr}],execute:function(){e._RF.push({},"9f2bbwUKxtHE4nzX2C8klWK","HomeMgr",void 0);var r=n("HomeMgr",function(){function n(){}return n.init=function(){this.unlockedHome=o.getObj("unlockedHome",{0:[]})},n.unlock=function(n){this.unlockedHome.hasOwnProperty(n)||(this.unlockedHome[n]=[]);var e=this.unlockedHome[n],r=t.removeMultiIdx([0,1,2,3,4,5,6,7,8],e);if(!(r.length<=0)){var u=t.pickItem(r);e.push(u),e.sort(),o.setObj("unlockedHome",this.unlockedHome),c.track("unlock_home")}},n.isUnlocked=function(n,e){var t=this.unlockedHome[n];return t?t.includes(e):null},n.isAllUnlocked=function(n){var e=this.unlockedHome[n];return!!e&&e.length>=9},n.canUnlock=function(n){if(n<=0)return!0;var e=n-1,t=this.unlockedHome[e];return!!t&&t.length>=9},n}());r.unlockedHome={},globalThis.HomeMgr=r,e._RF.pop()}}}));

System.register("chunks:///_virtual/HomePieceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts","./HomeMgr.ts","./EventMgr.ts","./EventType.ts","./EffectMgr.ts"],(function(e){var t,n,i,o,c,s,r,u,a,l,f,h;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,o=e._decorator,c=e.Sprite,s=e.Component},function(e){r=e.ResMgr},function(e){u=e.Bundle},function(e){a=e.HomeMgr},function(e){l=e.EventMgr},function(e){f=e.EventType},function(e){h=e.EffectMgr}],execute:function(){var p;i._RF.push({},"1bee2+Mu+FNnaZgBFaEZsj7","HomePieceItem",void 0);var d=o.ccclass;o.property,e("HomePieceItem",d("Item/HomePieceItem")(p=function(e){function i(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).sp=null,t.id=0,t.isUnlocked=!1,t}t(i,e);var o=i.prototype;return o.onLoad=function(){this.sp=this.getComponent(c),l.on(f.UnlockHomePeice,this.onUnlockHomePeice,this)},o.onDestroy=function(){l.off(f.UnlockHomePeice,this.onUnlockHomePeice,this)},o.updateState=function(){var e=this.node.getSiblingIndex(),t=a.isUnlocked(this.id,e);this.isUnlocked=t;var n=t?""+e:e+"_1",i=r.getSpriteFrame(u.UI,n,"image/uiHome/"+this.id+"/");this.sp.spriteFrame=i},o.onUnlockHomePeice=function(){var e=this.isUnlocked;if(this.updateState(),!e&&this.isUnlocked){var t=r.getRes(u.UI,"Shinning","particle/");h.create(t,this.node)}},n(i,[{key:"Id",get:function(){return this.id},set:function(e){this.id=e,this.updateState()}}]),i}(s))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/InputBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,c,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,c=t._decorator,o=t.BlockInputEvents,s=t.Component}],execute:function(){var u,l;i._RF.push({},"9b7dfe7eXxHR4G7BQOM8lL3","InputBlock",void 0);var r=c.ccclass,p=c.requireComponent,a=c.disallowMultiple;t("InputBlock",r("Misc/InputBlock")(u=a(!0)(u=p(o)(((l=function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i.prototype.onLoad=function(){i._inst=this,i.Active=!1},i.setActive=function(t){this._inst.unscheduleAllCallbacks(),this.Active=!0,this._inst.scheduleOnce((function(){i.Active=!1}),t)},e(i,null,[{key:"Active",set:function(t){this._inst.node.active=t}}]),i}(s))._inst=void 0,u=l))||u)||u)||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./CfgItem.ts","./StorageUtil.ts"],(function(t){var i,e,c,n,s;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){c=t.Global},function(t){n=t.CfgItem},function(t){s=t.StorageUtil}],execute:function(){e._RF.push({},"8a5f49UPdhHBq9JLMhh6us4","ItemMgr",void 0);var u=t("ItemMgr",function(){function t(){}return t.init=function(){this.itemDic=s.getObj("itemDic",c.Default_Item),s.setObj("itemDic",this.itemDic)},t.setItem=function(t,i){return this.itemDic[t]||(this.itemDic[t]=0),this.itemDic[t]=i,s.setObj("itemDic",this.itemDic),this.itemDic[t]},t.updateItem=function(t,i){return this.itemDic[t]||(this.itemDic[t]=0),this.itemDic[t]+=i,s.setObj("itemDic",this.itemDic),this.itemDic[t]},t.getType=function(t){return n[t].type},t.getCnt=function(t){return this.itemDic[t]},i(t,null,[{key:"ItemDic",get:function(){return this.itemDic}}]),t}());u.itemDic={},globalThis.ItemMgr=u,e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"41e94mhPxZNyIeHSVzn2TyK","ItemType",void 0);e("ItemType",function(e){return e[e.Coin=0]="Coin",e[e.Skill=1]="Skill",e[e.Collection=2]="Collection",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,u,n,s,l,a,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,u=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.Label,a=e.CCInteger,c=e.Component}],execute:function(){var o,h,b,f,p,m,d,N;n._RF.push({},"51142RfrX9DBphTxuZVxIcR","LabelTick",void 0);var x=s.ccclass,g=s.property,v=s.requireComponent;e("LabelTick",(o=x("UIExtend/LabelTick"),h=v(l),b=g(a),o(f=h((m=i((p=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return i=e.call.apply(e,[this].concat(n))||this,r(i,"prefix",m,u(i)),r(i,"suffix",d,u(i)),r(i,"decimalPlaces",N,u(i)),i.label=null,i.curNumber=0,i.intervalPerUpdate=0,i.finalNumber=0,i}t(i,e);var n=i.prototype;return n.onLoad=function(){this.label=this.getComponent(l)},n.onEnable=function(){},n.onDisable=function(){this.unscheduleAllCallbacks()},n.onDestroy=function(){this.unscheduleAllCallbacks()},n.init=function(e){this.curNumber=e,this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix},n.tickLabel=function(e,i){void 0===i&&(i=.5),this.curNumber===e?(this.curNumber=e,this.finalNumber=e,this.label.string=""+this.prefix+this.finalNumber.toFixed(this.decimalPlaces)+this.suffix):(this.finalNumber=e,this.intervalPerUpdate=(e-this.curNumber)/(33*i),this.unschedule(this.updateForNumber),this.schedule(this.updateForNumber,.03),this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix)},n.updateForNumber=function(e){this.curNumber+=this.intervalPerUpdate,(this.intervalPerUpdate>0&&this.curNumber>this.finalNumber||this.intervalPerUpdate<0&&this.curNumber<this.finalNumber)&&(this.curNumber=this.finalNumber,this.unschedule(this.updateForNumber)),this.label.string=""+this.prefix+this.curNumber.toFixed(this.decimalPlaces)+this.suffix},n.stop=function(){this.unschedule(this.updateForNumber),this.curNumber=null,this.finalNumber=null},i}(c)).prototype,"prefix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=i(p.prototype,"suffix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=i(p.prototype,"decimalPlaces",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=p))||f)||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/Load.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bundle.ts","./ResMgr.ts","./Setting.ts","./AdMgr.ts","./CollectMgr.ts","./HomeMgr.ts","./ItemMgr.ts","./PassRewardMgr.ts","./RankMgr.ts"],(function(e){var r,t,n,i,o,s,a,l,d,u,c,g,p,f,h,y,B,M,m,R,v;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator},function(e){s=e.cclegacy,a=e._decorator,l=e.ProgressBar,d=e.math,u=e.director,c=e.Component,g=e.macro},function(e){p=e.Bundle},function(e){f=e.ResMgr},function(e){h=e.Setting},function(e){y=e.AdMgr},function(e){B=e.CollectMgr},function(e){M=e.HomeMgr},function(e){m=e.ItemMgr},function(e){R=e.DailyShareMgr},function(e){v=e.RankMgr}],execute:function(){var D,I,P,A,L;s._RF.push({},"c44ddJa9ZpJIIUxBBel/awW","Load",void 0);var S=a.ccclass,F=a.property;e("Load",(D=S("Scene/Load"),I=F(l),D((L=r((A=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,n(r,"progressBar",L,i(r)),r.loaded=!1,r}t(r,e);var s=r.prototype;return s.start=function(){var e=o((function*(){this.init(),yield this.loadBundle(),this.loadRes(),this.schedule(this.updateProgress,.3,g.REPEAT_FOREVER)}));return function(){return e.apply(this,arguments)}}(),s.init=function(){h.init(),y.init(),m.init(),B.init(),M.init(),R.init(),v.init()},s.loadBundle=function(){return Promise.all([f.loadBundle(p.Font),f.loadBundle(p.Game),f.loadBundle(p.UI),f.loadBundle(p.Audio),f.loadBundle(p.Icon)])},s.loadRes=function(){var e=o((function*(){yield f.loadDir(p.Resources),yield f.loadDir(p.Icon),yield f.loadDir(p.Font),yield f.loadDir(p.Audio),yield f.loadDir(p.UI),yield f.loadDir(p.Game),this.loaded=!0}));return function(){return e.apply(this,arguments)}}(),s.updateProgress=function(){var e=d.randomRange(.1,.3);this.progressBar.progress=Math.min(this.progressBar.progress+e,.9),this.loaded&&(this.progressBar.progress=1,this.unschedule(this.updateProgress),this.scheduleOnce((function(){u.loadScene("main")}),.1))},r}(c)).prototype,"progressBar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIMgr.ts","./UI.ts","./TrackMgr.ts","./StorageUtil.ts"],(function(t){var n,e,r,o,c,i,a,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,o=t.Component},function(t){c=t.UIMgr},function(t){i=t.UI},function(t){a=t.TrackMgr},function(t){s=t.StorageUtil}],execute:function(){var u;e._RF.push({},"ae8df2n3YhLxI5JSggXuKQc","Main",void 0);var p=r.ccclass;r.property,t("Main",p("Scene/Main")(u=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){c.open(i.Main);var t=!s.getItem("hasStartedBefore",!1);a.track("enter_game",{is_new_player:t?1:0})},e}(o))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy,r=t.math}],execute:function(){n._RF.push({},"c0d0eKNUodPMpvHFwYAailX","MathUtil",void 0);t("MathUtil",function(){function t(){}return t.IsInRange=function(t,n,r){return!(t<n)&&!(t>r)},t.randWeight=function(t){if(!t)return-1;if(t.length<=0)return-1;for(var n=[0],e=0,u=0;u<t.length;u++){var i=t[u];e+=i,n.push(n[u]+i)}for(var a=r.randomRange(0,e),c=0;c<n.length;c++)if(a>=n[c]&&a<=n[c+1])return c;return-1},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ObjUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"f8d2eYTnyVHsraF02+wD5vV","ObjUtil",void 0);t("ObjUtil",function(){function t(){}return t.isEmpty=function(t){return 0===Object.keys(t).length},t.get=function(t,n,e){return t&&t.hasOwnProperty(n)?t[n]:e},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PassRewardMgr.ts",["cc","./SkillType.ts","./UI.ts","./MathUtil.ts","./StorageUtil.ts","./CoinMgr.ts","./SkillMgr.ts","./UIMgr.ts"],(function(e){var t,a,r,l,o,n,i,s;return{setters:[function(e){t=e.cclegacy},function(e){a=e.PowerType},function(e){r=e.UI},function(e){l=e.MathUtil},function(e){o=e.StorageUtil},function(e){n=e.CoinMgr},function(e){i=e.PowerMgr},function(e){s=e.UIMgr}],execute:function(){t._RF.push({},"972853oX2xCn59czLv4ZpJC","PassRewardMgr",void 0);var d=e("DailyShareMgr",function(){function e(){}return e.init=function(){try{this.lastShareDate=localStorage.getItem("lastShareDate")||"",this.checkDailyReset(),console.log("[DailyShareMgr] Init successful")}catch(e){console.error("[DailyShareMgr] Init failed:",e),this.clearAllRelatedStorage(),this.resetToDefault(),this.checkDailyReset()}},e.clearAllRelatedStorage=function(){try{["lastShareDate","todayShared","todayReward","passRewardedArr"].forEach((function(e){try{localStorage.removeItem(e)}catch(t){console.warn("[DailyShareMgr] Failed to remove key: "+e,t)}}))}catch(e){console.warn("[DailyShareMgr] Failed to clear storage:",e)}},e.resetToDefault=function(){this.lastShareDate="",this.todayShared=!1,this.todayReward=null,console.log("[DailyShareMgr] Reset to default values")},e.clearStorage=function(){try{o.setItem("lastShareDate",""),o.setItem("todayShared","false"),o.setObj("todayReward",null),console.log("[DailyShareMgr] Storage cleared")}catch(e){console.error("[DailyShareMgr] Failed to clear storage:",e)}},e.checkDailyReset=function(){var e=this.getTodayDateString();if(this.lastShareDate!==e){this.todayShared=!1,this.todayReward=null,this.lastShareDate=e;try{localStorage.setItem("lastShareDate",e),localStorage.setItem("todayShared","false"),o.setObj("todayReward",null)}catch(e){console.warn("[DailyShareMgr] Failed to save initial data:",e)}console.log("[DailyShareMgr] Daily reset completed for:",e)}else try{var t=localStorage.getItem("todayShared")||"false";this.todayShared="true"===t,this.todayReward=o.getObj("todayReward",null)}catch(e){console.warn("[DailyShareMgr] Failed to read today data, using defaults:",e),this.todayShared=!1,this.todayReward=null}},e.getTodayDateString=function(){var e=new Date;return e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")},e.canShare=function(){return!this.todayShared},e.hasRewardToCollect=function(){return this.todayShared&&null!==this.todayReward},e.onShareComplete=function(){if(console.log("[DailyShareMgr] onShareComplete called, canShare:",this.canShare()),this.canShare()){this.todayReward=this.generateRandomReward(),this.todayShared=!0,console.log("[DailyShareMgr] Generated reward:",this.todayReward),console.log("[DailyShareMgr] Setting todayShared to true");try{localStorage.setItem("todayShared","true"),o.setObj("todayReward",this.todayReward),console.log("[DailyShareMgr] Share state saved successfully")}catch(e){console.error("[DailyShareMgr] Failed to save share state:",e)}console.log("[DailyShareMgr] Share completed, hasRewardToCollect:",this.hasRewardToCollect())}else console.log("[DailyShareMgr] Already shared today")},e.generateRandomReward=function(){var e=[{type:"coin",weight:50},{type:"erase",weight:30},{type:"freeze",weight:15},{type:"move",weight:5}],t=e.map((function(e){return e.weight}));switch(e[l.randWeight(t)].type){case"coin":return{itemId:0,cnt:50};case"erase":return{itemId:this.getSkillItemId(a.BallEraser),cnt:1};case"freeze":return{itemId:this.getSkillItemId(a.IceFreezer),cnt:1};case"move":return{itemId:this.getSkillItemId(a.BallMover),cnt:1};default:return{itemId:0,cnt:50}}},e.getSkillItemId=function(e){switch(e){case a.IceFreezer:return 1;case a.BallEraser:return 2;case a.BallMover:return 3;default:return 1}},e.getSkillTypeByItemId=function(e){switch(e){case 1:return a.IceFreezer;case 2:return a.BallEraser;case 3:return a.BallMover;default:return null}},e.getTodayReward=function(){return this.todayReward},e.collectReward=function(){if(this.hasRewardToCollect()){var e=this.todayReward;if(0===e.itemId)n.CurCoin+=e.cnt;else{var t=this.getSkillTypeByItemId(e.itemId);null!==t&&i.addSkill(t,e.cnt)}s.open(r.GetReward,[e]),this.todayReward=null,o.setObj("todayReward",null),console.log("[DailyShareMgr] Reward collected:",e)}else console.log("[DailyShareMgr] No reward to collect")},e.isTodayCompleted=function(){return this.todayShared&&null===this.todayReward},e}());d.lastShareDate="",d.todayShared=!1,d.todayReward=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/PerformanceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){var t,a,r,n,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,r=e._decorator,n=e.director,s=e.Component},function(e){c=e.Global}],execute:function(){var i,o;a._RF.push({},"32399grPdxF6qqeO1tXh2LA","PerformanceManager",void 0);var _=r.ccclass;e("PerformanceManager",_("Util/PerformanceManager")(((o=function(e){function a(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this)._frameTime=0,t._frameCount=0,t._lastFpsCheck=0,t._currentFps=60,t._ballCount=0,t.LOW_FPS_THRESHOLD=25,t.CRITICAL_FPS_THRESHOLD=15,t.HIGH_BALL_COUNT_THRESHOLD=80,t._temperatureCheckCounter=0,t.TEMPERATURE_CHECK_INTERVAL=5,t}t(a,e);var r=a.prototype;return r.onLoad=function(){a._instance=this,n.addPersistRootNode(this.node),c.Performance_Mode&&this.schedule(this.checkPerformance,1)},a.getInstance=function(){return a._instance},r.update=function(e){c.Performance_Mode&&(this._frameTime+=e,this._frameCount++,this._frameTime>=1&&(this._currentFps=this._frameCount/this._frameTime,this._frameTime=0,this._frameCount=0))},r.checkPerformance=function(){c.Performance_Mode&&(this._currentFps<this.CRITICAL_FPS_THRESHOLD?(a.PhysicsUpdateRate=15,a.TouchUpdateRate=20,a.RenderSkipFrames=4,a.BallUpdateInterval=10,c.Ball_Update_Rate=10):this._currentFps<this.LOW_FPS_THRESHOLD?(a.PhysicsUpdateRate=18,a.TouchUpdateRate=40,a.RenderSkipFrames=3,a.BallUpdateInterval=8,c.Ball_Update_Rate=12):this._currentFps>50&&(a.PhysicsUpdateRate=20,a.TouchUpdateRate=60,a.RenderSkipFrames=2,a.BallUpdateInterval=6,c.Ball_Update_Rate=15),this._ballCount>this.HIGH_BALL_COUNT_THRESHOLD&&(a.BallUpdateInterval=Math.max(a.BallUpdateInterval,8),a.RenderSkipFrames=Math.max(a.RenderSkipFrames,3)))},a.updateBallCount=function(e){a._instance&&(a._instance._ballCount=e)},a.getCurrentFps=function(){return a._instance?a._instance._currentFps:60},a.logPerformanceData=function(){},r.checkDeviceTemperature=function(){this._temperatureCheckCounter++,this._temperatureCheckCounter>=this.TEMPERATURE_CHECK_INTERVAL&&(this._temperatureCheckCounter=0,this._currentFps<this.LOW_FPS_THRESHOLD&&(a.PhysicsUpdateRate=15,a.TouchUpdateRate=30,a.RenderSkipFrames=4,c.Ball_Update_Rate=10))},a}(s))._instance=null,o.PhysicsUpdateRate=18,o.TouchUpdateRate=60,o.RenderSkipFrames=3,o.BallUpdateInterval=6,i=o))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/PerformanceMonitor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Global.ts"],(function(e){var t,r,n,o,a,i,l,s,u,c,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Label,s=e.director,u=e.Component},function(e){c=e.PREVIEW},function(e){f=e.Global}],execute:function(){var p,h,m,b,d,_,g,v,y;a._RF.push({},"1f387ms795BhoAVNcLT7+hC","PerformanceMonitor",void 0);var L=i.ccclass,C=i.property;e("PerformanceMonitor",(p=L("Util/PerformanceMonitor"),h=C(l),m=C(l),b=C(l),p((g=t((_=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,n(t,"fpsLabel",g,o(t)),n(t,"memoryLabel",v,o(t)),n(t,"ballCountLabel",y,o(t)),t._frameCount=0,t._lastTime=0,t._fps=0,t._updateInterval=1,t}r(t,e);var a=t.prototype;return a.onLoad=function(){f.Performance_Mode?this._lastTime=Date.now():this.node.active=!1},a.update=function(e){if(this.node.active){this._frameCount++;var t=Date.now();t-this._lastTime>=1e3*this._updateInterval&&(this._fps=Math.round(this._frameCount/this._updateInterval),this._frameCount=0,this._lastTime=t,this.updateLabels())}},a.updateLabels=function(){var e;if(this.fpsLabel){var t=this._fps>=30?"green":this._fps>=20?"yellow":"red";this.fpsLabel.string="FPS: <color="+t+">"+this._fps+"</color>"}if(this.memoryLabel&&null!=(e=window.performance)&&e.memory){var r=window.performance.memory,n=Math.round(r.usedJSHeapSize/1024/1024),o=Math.round(r.totalJSHeapSize/1024/1024);this.memoryLabel.string="内存: "+n+"/"+o+"MB"}if(this.ballCountLabel){var a=this.getBallCount(),i=a<=f.Max_Visible_Balls?"green":"red";this.ballCountLabel.string="球体数: <color="+i+">"+a+"</color>"}},a.getBallCount=function(){try{var e=s.getScene();if(!e)return 0;var t=e.getComponentsInChildren("Ball");return t?t.length:0}catch(e){return 0}},t.logPerformanceWarning=function(e,t){f.Performance_Mode&&c&&console.warn("[性能警告] "+e,void 0!==t?t:"")},t.checkBallCount=function(e){e>f.Max_Visible_Balls&&this.logPerformanceWarning("球体数量过多",e)},t}(u)).prototype,"fpsLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(_.prototype,"memoryLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(_.prototype,"ballCountLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=_))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicGroup.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"73b2czB5GhIlZ2L1pEaYN8Y","PhysicGroup",void 0);e("PhysicsGroup",function(e){return e[e.Default=1]="Default",e[e.Ball=2]="Ball",e[e.Brick=4]="Brick",e[e.Wall=8]="Wall",e[e.Paddle=16]="Paddle",e[e.Item=32]="Item",e[e.DeadArea=64]="DeadArea",e}({}));c._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsLayerType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7d5848qEvtGXqZs2vvxSF7+","PhysicsLayerType",void 0);e("PhysicsLayerType",function(e){return e[e.Active=0]="Active",e[e.SemiActive=1]="SemiActive",e[e.Static=2]="Static",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/RankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./Bundle.ts"],(function(e){var t,n,r,i,a,l,o,u,c,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Sprite,u=e.Label,c=e.Component},function(e){p=e.ResMgr},function(e){s=e.Bundle}],execute:function(){var b,m,f,g,h,y,v,I,k,R,d;a._RF.push({},"6f702w25wlLH4bCasN5JOXJ","RankItem",void 0);var w=l.ccclass,L=l.property;e("RankItem",(b=w("Item/RankItem"),m=L(o),f=L(o),g=L(u),h=L(u),b((I=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,r(t,"bg",I,i(t)),r(t,"rankIcon",k,i(t)),r(t,"lbName",R,i(t)),r(t,"lbLevel",d,i(t)),t}return n(t,e),t.prototype.init=function(e,t){var n=t.name,r=t.level,i=e<3?"ph_tiao1":"ph_tiao2";this.bg.spriteFrame=p.getSpriteFrame(s.UI,i,"image/uiRank/"),this.rankIcon.spriteFrame=p.getSpriteFrame(s.UI,"ph_mingci"+e,"image/uiRank/"),this.lbName.string=n,this.lbLevel.string=r+"关"},t}(c)).prototype,"bg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"rankIcon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(v.prototype,"lbName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(v.prototype,"lbLevel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgName.ts","./ObjUtil.ts","./StorageUtil.ts","./GameMgr.ts","./ArrayUtil.ts"],(function(t){var a,n,r,e,i,s,o,l;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy,r=t.math},function(t){e=t.CfgName},function(t){i=t.ObjUtil},function(t){s=t.StorageUtil},function(t){o=t.GameMgr},function(t){l=t.ArrayUtil}],execute:function(){n._RF.push({},"b57e9UanYBJ0bsEsLZCTaMR","RankMgr",void 0);var u=t("RankMgr",function(){function t(){}return t.init=function(){if(this.rankData=s.getObj("rankData",{}),i.isEmpty(this.rankData)){for(var t=0;t<e.length;t++){var a=e[t];this.rankData[a]=r.randomRangeInt(1,20)}s.setObj("rankData",this.rankData)}},t.getRankByName=function(t){for(var a=0;a<this.RankArr.length;a++){if(this.RankArr[a].name===t)return a}return-1},t.updateRankData=function(){for(var t in this.rankData)Object.prototype.hasOwnProperty.call(this.rankData,t)&&(this.rankData[t]+=l.pickItem([0,0,0,1,1,2]));s.setObj("rankData",this.rankData)},a(t,null,[{key:"RankArr",get:function(){var t=[];for(var a in this.rankData)if(Object.prototype.hasOwnProperty.call(this.rankData,a)){var n=this.rankData[a];t.push({name:a,level:n})}return t.push({name:"自己",level:o.CurLevel}),t.sort((function(t,a){return a.level-t.level})),t}}]),t}());u.rankData={},globalThis.RankMgr=u,n._RF.pop()}}}));

System.register("chunks:///_virtual/RedPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,c,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,c=t.macro,i=t.Component}],execute:function(){var r;e._RF.push({},"fb4bfHiHMlMQYM0H8tZquMG","RedPoint",void 0);var u=o.ccclass;o.property,t("RedPoint",u("Misc/RedPoint")(r=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(n=t.call.apply(t,[this].concat(o))||this).updateFunc=null,n}n(e,t);var o=e.prototype;return o.onDestroy=function(){this.unscheduleAllCallbacks()},o.start=function(){this.onUpdate(),this.schedule(this.onUpdate,1,c.REPEAT_FOREVER)},o.onUpdate=function(){this.updateFunc&&(this.node.active=this.updateFunc())},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/RefButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,s,p,n;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){r=e.cclegacy,s=e._decorator,p=e.Button,n=e.Component}],execute:function(){var d;r._RF.push({},"fc53cDS9gNPW7qDyGafGChJ","RefButton",void 0);var h=s.ccclass,a=(s.property,s.disallowMultiple),o=s.requireComponent;e("RefButton",h("Ref/RefButton")(d=a(!0)(d=o(p)(d=function(e){function r(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).btn=void 0,t.curNormalSprite=void 0,t.curHoverSprite=void 0,t.curPressedSprite=void 0,t.curDisabledSprite=void 0,t.isNormalSpriteChanged=!1,t.isHoverSpriteChanged=!1,t.isPressedSpriteChanged=!1,t.isDisabledSpriteChanged=!1,t}t(r,e);var s=r.prototype;return s.onLoad=function(){this.btn=this.getComponent(p),this.curNormalSprite=this.btn.normalSprite,this.curHoverSprite=this.btn.hoverSprite,this.curPressedSprite=this.btn.pressedSprite,this.curDisabledSprite=this.btn.disabledSprite},s.update=function(e){this.node.isValid&&(this.updateNormalSpriteFrame(),this.updateHoverSpriteFrame(),this.updatePressedSpriteFrame(),this.updateDisabledSpriteFrame())},s.updateNormalSpriteFrame=function(){this.curNormalSprite!==this.btn.normalSprite&&(this.isNormalSpriteChanged&&this.curNormalSprite&&this.curNormalSprite.decRef(),this.btn.normalSprite&&this.btn.normalSprite.addRef(),this.curNormalSprite=this.btn.normalSprite,this.isNormalSpriteChanged=!0)},s.updateHoverSpriteFrame=function(){this.curHoverSprite!==this.btn.hoverSprite&&(this.isHoverSpriteChanged&&this.curHoverSprite&&this.curHoverSprite.decRef(),this.btn.hoverSprite&&this.btn.hoverSprite.addRef(),this.curHoverSprite=this.btn.hoverSprite,this.isHoverSpriteChanged=!0)},s.updatePressedSpriteFrame=function(){this.curPressedSprite!==this.btn.pressedSprite&&(this.isPressedSpriteChanged&&this.curPressedSprite&&this.curPressedSprite.decRef(),this.btn.pressedSprite&&this.btn.pressedSprite.addRef(),this.curPressedSprite=this.btn.pressedSprite,this.isPressedSpriteChanged=!0)},s.updateDisabledSpriteFrame=function(){this.curDisabledSprite!==this.btn.disabledSprite&&(this.isDisabledSpriteChanged&&this.curDisabledSprite&&this.curDisabledSprite.decRef(),this.btn.disabledSprite&&this.btn.disabledSprite.addRef(),this.curDisabledSprite=this.btn.disabledSprite,this.isDisabledSpriteChanged=!0)},s.onDestroy=function(){this.isNormalSpriteChanged&&this.curNormalSprite&&this.curNormalSprite.decRef(),this.isHoverSpriteChanged&&this.curHoverSprite&&this.curHoverSprite.decRef(),this.isPressedSpriteChanged&&this.curPressedSprite&&this.curPressedSprite.decRef(),this.isDisabledSpriteChanged&&this.curDisabledSprite&&this.curDisabledSprite.decRef()},i(r,[{key:"normalSprite",set:function(e){this.btn.normalSprite=e}},{key:"hoverSprite",set:function(e){this.btn.hoverSprite=e}},{key:"pressedSprite",set:function(e){this.btn.pressedSprite=e}},{key:"disabledSprite",set:function(e){this.btn.disabledSprite=e}}]),r}(n))||d)||d)||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/RefSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,s,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,s=t._decorator,n=t.Sprite,i=t.Component}],execute:function(){var a;r._RF.push({},"06d3cxmYIlF4rgTwtMJnB++","RefSprite",void 0);var o=s.ccclass,p=s.requireComponent,u=s.disallowMultiple,h=function(){function t(){this._current=null,this._hasChanged=!1}var e=t.prototype;return e.update=function(t){return this._current!==t&&(this.release(),t&&t.addRef(),this._current=t,this._hasChanged=!0,!0)},e.release=function(){this._hasChanged&&this._current&&this._current.decRef()},e.destroy=function(){this.release(),this._current=null,this._hasChanged=!1},t}();t("RefSprite",o("Ref/RefSprite")(a=u(!0)(a=p(n)(a=function(t){function r(){for(var e,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).sp=void 0,e.spriteFrameManager=new h,e.spriteAtlasManager=new h,e}e(r,t);var s=r.prototype;return s.onLoad=function(){this.sp=this.getComponent(n),this.spriteFrameManager.update(this.sp.spriteFrame),this.spriteAtlasManager.update(this.sp.spriteAtlas)},s.update=function(t){this.node.isValid&&(this.spriteAtlasManager.update(this.sp.spriteAtlas),this.spriteFrameManager.update(this.sp.spriteFrame))},s.onDestroy=function(){this.spriteAtlasManager.destroy(),this.spriteFrameManager.destroy()},r}(i))||a)||a)||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayUtil.ts"],(function(e){var t,n,r,o,s,d,a;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.extends},function(e){o=e.cclegacy,s=e.assetManager,d=e.SpriteAtlas},function(e){a=e.ArrayUtil}],execute:function(){o._RF.push({},"18c3dVw309B54avl/M3OpJz","ResMgr",void 0);var i=e("ResMgr",function(){function e(){}return e.loadBundle=function(e,t){return void 0===t&&(t=null),new Promise((function(n,r){s.getBundle(e)?n(s.getBundle(e)):s.loadBundle(e,(function(e,o){e?r(e):(t&&t(o),n(o))}))}))},e.preloadDir=function(e,t){var r=this;return void 0===t&&(t="./"),new Promise(n((function*(n,o){var d=s.getBundle(e);d||(d=yield r.loadBundle(e)),d.preloadDir(t,(function(e,t){e?o(e):n()}))})))},e.loadDir=function(e,t,r){var o=this;return void 0===t&&(t="./"),void 0===r&&(r=!1),new Promise(n((function*(n,d){var i=s.getBundle(e);i||(i=yield o.loadBundle(e)),i.loadDir(t,(function(t,s){if(t)d(t);else{if(r){o._loadedRefRes.hasOwnProperty(e)||(o._loadedRefRes[e]=[]);for(var i=0;i<s.length;i++){var l=s[i];a.has(o._loadedRefRes[e],l)||(o._loadedRefRes[e].push(l),l.addRef())}}n()}}))})))},e.loadRes=function(e,t,r,o){var d=this;return void 0===r&&(r=""),void 0===o&&(o=!1),new Promise(n((function*(n,i){var l=r+t,u=s.getBundle(e);u||(u=yield d.loadBundle(e)),u.load(l,(function(t,r){t?i(t):(o&&(d._loadedRefRes.hasOwnProperty(e)||(d._loadedRefRes[e]=[]),a.has(d._loadedRefRes[e],r)||(d._loadedRefRes[e].push(r),r.addRef())),n(r))}))})))},e.getRes=function(e,t,n){void 0===n&&(n="");var r=s.getBundle(e);if(!r)return null;var o=n+t;return r.get(o)},e.isLoaded=function(e,t,n){void 0===n&&(n="");var r=s.getBundle(e);if(!r)return!1;var o=n+t;return!!r.get(o)},e.release=function(e){if(this._loadedRefRes.hasOwnProperty(e)){for(var t=this._loadedRefRes[e],n=t.length,r=0;r<n;r++){var o=t[r];o.isValid&&o.decRef()}delete this._loadedRefRes[e]}},e.recordAssets=function(){this.recordedAssets=r({},this.Assets._map)},e.compareAssets=function(){var e=r({},this.Assets._map);for(var t in this.recordedAssets)e.hasOwnProperty(t)||this.recordedAssets[t];for(var n in e)this.recordedAssets.hasOwnProperty(n)||e[n]},e.getSpriteFrame=function(e,t,n){return void 0===n&&(n=""),this.getRes(e,t+"/spriteFrame",n)},e.preloadAtlas=function(e,t,r){var o=this;return void 0===r&&(r=""),new Promise(n((function*(n,a){var i=r+t;try{var l=s.getBundle(e);l||(l=yield o.loadBundle(e));Date.now();l.preload(i,d,(function(e,t){if(e)a(e);else{Date.now();n()}}))}catch(e){a(e)}})))},e.loadAtlas=function(e,t,r,o){var i=this;return void 0===r&&(r=""),void 0===o&&(o=!1),new Promise(n((function*(n,l){var u=r+t;try{var f=s.getBundle(e);f||(f=yield i.loadBundle(e));Date.now();f.load(u,d,(function(t,r){if(t)l(t);else{Date.now();o&&(i._loadedRefRes.hasOwnProperty(e)||(i._loadedRefRes[e]=[]),a.has(i._loadedRefRes[e],r)||(i._loadedRefRes[e].push(r),r.addRef())),n(r)}}))}catch(e){l(e)}})))},e.getAtlas=function(e,t,n){void 0===n&&(n="");var r=s.getBundle(e);if(!r)return null;var o=n+t;return r.get(o,d)},e.preloadAtlases=function(e,t,r){var o=this;return void 0===r&&(r=""),new Promise(n((function*(n,s){try{var d=t.map((function(t){return o.preloadAtlas(e,t,r)}));yield Promise.all(d),n()}catch(e){s(e)}})))},t(e,null,[{key:"Assets",get:function(){return s.assets}},{key:"LoadedRes",get:function(){return this._loadedRefRes}}]),e}());i._loadedRefRes={},i.recordedAssets={},o._RF.pop()}}}));

System.register("chunks:///_virtual/Rotate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,n,i,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Component}],execute:function(){var s,u,p;i._RF.push({},"6b9acTOKxRPKb2/9uu/YoaF","Rotate",void 0);var l=a.ccclass,f=a.property;e("Rotate",l("Misc/Rotate")((p=t((u=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"rotate_speed",p,n(t)),t}return r(t,e),t.prototype.update=function(e){this.node.angle+=this.rotate_speed*e},t}(c)).prototype,"rotate_speed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),s=u))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./GameMgr.ts","./EventUtil.ts","./StorageUtil.ts","./GameMode.ts"],(function(e){var t,r,c,n,o,i,s,u;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy},function(e){c=e.EventMgr},function(e){n=e.EventType},function(e){o=e.GameMgr},function(e){i=e.EventUtil},function(e){s=e.StorageUtil},function(e){u=e.GameMode}],execute:function(){r._RF.push({},"0a3a1PocyxCZqvqNsV5LQvI","ScoreMgr",void 0);var S=e("ScoreMgr",function(){function e(){}return e.init=function(){this._levelScores=s.getObj("levelScores",{})},e.setTargetScore=function(e){this._targetScore=e,c.emit(n.UpdateScore,this._targetScore)},e.resetScore=function(){var e=this.getCurrentLevelKey();this._currentScore=this._levelScores[e]||0,c.emit(n.UpdateScore,this._currentScore)},e.addScore=function(e,t){var r=0;e>=3&&(r=30+15*(e-3)),this._currentScore+=r;var c=this.getCurrentLevelKey();this._levelScores[c]=this._currentScore,s.setObj("levelScores",this._levelScores),i.throttleEmit(n.UpdateScore,this.SCORE_UPDATE_THROTTLE,this._currentScore)},e.isTargetScoreReached=function(){return this._currentScore>=this._targetScore},e.clearTimers=function(){i.clearTimers(n.UpdateScore)},e.getCurrentLevelKey=function(){var e=o.Mode;return e+"_"+(e===u.Super?o.SuperLevel:o.CurLevel)},e.startLevel=function(){var e=this.getCurrentLevelKey();this._currentScore=0,this._levelScores[e]=0,s.setObj("levelScores",this._levelScores),c.emit(n.UpdateScore,this._currentScore)},t(e,null,[{key:"CurrentScore",get:function(){return this._currentScore}},{key:"TargetScore",get:function(){return this._targetScore}}]),e}());S._currentScore=0,S._targetScore=0,S.SCORE_UPDATE_THROTTLE=100,S._levelScores={},r._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./ScoreMgr.ts","./GameMgr.ts","./GameMode.ts"],(function(e){var r,t,o,i,n,a,s,l,c,u,p,g,b,d,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.ProgressBar,l=e.Label,c=e.Node,u=e.Component},function(e){p=e.EventMgr},function(e){g=e.EventType},function(e){b=e.ScoreMgr},function(e){d=e.GameMgr},function(e){f=e.GameMode}],execute:function(){var h,v,m,L,y,S,M,P,B,w,z,N,D;n._RF.push({},"eb367gGDvBMna3iVw86cpli","ScoreProgressBar",void 0);var G=a.ccclass,E=a.property;e("ScoreProgressBar",(h=G("UI/ScoreProgressBar"),v=E(s),m=E(l),L=E(l),y=E(l),S=E(c),h((B=r((P=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,o(r,"progressBar",B,i(r)),o(r,"scoreLabel",w,i(r)),o(r,"targetScoreLabel",z,i(r)),o(r,"modeLabel",N,i(r)),o(r,"levelNode",D,i(r)),r}t(r,e);var n=r.prototype;return n.onLoad=function(){p.on(g.UpdateScore,this.updateProgress,this),this.updateProgress(b.CurrentScore),d.Mode===f.Super?(this.modeLabel&&(this.modeLabel.string="终极模式",this.modeLabel.node.active=!0),this.levelNode&&(this.levelNode.active=!1)):(this.modeLabel&&(this.modeLabel.node.active=!1),this.levelNode&&(this.levelNode.active=!0))},n.onDestroy=function(){p.off(g.UpdateScore,this.updateProgress,this)},n.updateProgress=function(e){var r=b.TargetScore;this.progressBar.progress=r>0?Math.min(e/r,1):0,this.scoreLabel&&(this.scoreLabel.string=""+e),this.targetScoreLabel&&(this.targetScoreLabel.string=""+r)},r}(u)).prototype,"progressBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(P.prototype,"scoreLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(P.prototype,"targetScoreLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(P.prototype,"modeLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(P.prototype,"levelNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=P))||M));n._RF.pop()}}}));

System.register("chunks:///_virtual/Setting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageUtil.ts"],(function(e){var t,n,i,s;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,i=e.PhysicsSystem2D},function(e){s=e.StorageUtil}],execute:function(){n._RF.push({},"0e05aoaPd5CY4kLpLQPu/rr","Setting",void 0);var a=e("Setting",function(){function e(){}return e.init=function(){var e=i.instance;e.enable=!0,e.fixedTimeStep=.05,e.velocityIterations=2,e.positionIterations=1,e.allowSleep=!0,e.debugDrawFlags=0,this.sfxEnabled=s.getItem("sfxEnabled",!0),this.bgmEnabled=s.getItem("bgmEnabled",!0)},t(e,null,[{key:"SfxEnabled",get:function(){return this.sfxEnabled},set:function(e){this.sfxEnabled=e,s.setItem("sfxEnabled",e)}},{key:"BgmEnabled",get:function(){return this.bgmEnabled},set:function(e){this.bgmEnabled=e,s.setItem("bgmEnabled",e)}}]),e}());a.sfxEnabled=!0,a.bgmEnabled=!0,globalThis.Setting=a,n._RF.pop()}}}));

System.register("chunks:///_virtual/Shake.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,r,i,s,l,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,l=e.tween,o=e.Component}],execute:function(){var h,c,u,p,k;i._RF.push({},"2840flXNXFIw61GRpqk0Yl7","Shake",void 0);var g=s.ccclass,d=s.property;e("Shake",g("Misc/Shake")((u=t((c=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"shakeAngle",u,r(t)),a(t,"shakeInterval",p,r(t)),a(t,"delay",k,r(t)),t}return n(t,e),t.prototype.start=function(){l(this.node).sequence(l(this.node).delay(this.delay),l(this.node).to(this.shakeInterval,{angle:this.shakeAngle}),l(this.node).to(this.shakeInterval,{angle:-this.shakeAngle}),l(this.node).to(this.shakeInterval,{angle:this.shakeAngle}),l(this.node).to(this.shakeInterval,{angle:-this.shakeAngle}),l(this.node).to(this.shakeInterval,{angle:0})).repeatForever().start()},t}(o)).prototype,"shakeAngle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),p=t(c.prototype,"shakeInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),k=t(c.prototype,"delay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),h=c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillMgr.ts","./SkillType.ts","./UIMgr.ts","./UI.ts","./EventMgr.ts","./EventType.ts"],(function(t){var i,n,e,l,o,r,s,a,c,p,u,k,d,f,S,h,v,y,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Label,a=t.SpriteFrame,c=t.Node,p=t.Sprite,u=t.tween,k=t.v3,d=t.Component},function(t){f=t.SkillMgr},function(t){S=t.SkillType},function(t){h=t.UIMgr},function(t){v=t.UI},function(t){y=t.EventMgr},function(t){C=t.EventType}],execute:function(){var g,M,T,b,U,m,z;o._RF.push({},"09a20WNxM5GvKRrrrZpxp+K","SkillBox",void 0);var B=r.ccclass,E=r.property;t("SkillBox",(g=B("Game/SkillBox"),M=E([s]),T=E([a]),g((m=i((U=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,e(i,"skillCntTips",m,l(i)),e(i,"skillIcons",z,l(i)),i}n(i,t);var o=i.prototype;return o.onLoad=function(){y.on(C.UpdateSkillCnt,this.onUpdateSkillCnt,this),y.on(C.AddSkill,this.onAddSkill,this)},o.start=function(){for(var t=0;t<this.skillCntTips.length;t++){var i=this.skillCntTips[t],n=f.skillCnt(t);i.string=""+n,i.node.parent.active=n>0}},o.onDestroy=function(){y.off(C.UpdateSkillCnt,this.onUpdateSkillCnt,this),y.off(C.AddSkill,this.onAddSkill,this)},o.onUpdateSkillCnt=function(t,i){var n=this.skillCntTips[t];n.string=""+i,n.node.parent.active=i>0},o.onAddSkill=function(t){var i=new c;i.addComponent(p).spriteFrame=this.skillIcons[t],this.node.parent.addChild(i);var n=this.node.children[t],e=u(i);e.set({scale:k(0,0,0)}),e.to(.2,{scale:k(1,1,1)},{easing:"backOut"}),e.delay(.1),e.parallel(u(i).to(.5,{worldPosition:n.worldPosition}),u(i).to(.5,{scale:k(.5,.5,.5)})),e.call((function(){i.destroy(),u(n).to(.2,{scale:k(1.2,1.2,1)}).to(.2,{scale:k(1,1,1)}).start()})),e.start()},o.onBtnFreezeClick=function(){f.hasSkill(S.Freeze)?f.useSkill(S.Freeze):h.open(v.Skill,S.Freeze)},o.onBtnEraseClick=function(){f.hasSkill(S.Erase)?f.useSkill(S.Erase):h.open(v.Skill,S.Erase)},o.onBtnMoveClick=function(){f.hasSkill(S.Move)?f.useSkill(S.Move):h.open(v.Skill,S.Move)},i}(d)).prototype,"skillCntTips",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(U.prototype,"skillIcons",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=U))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillMgr.ts",["cc","./CfgItem.ts","./EventType.ts","./SkillType.ts","./EventMgr.ts","./ItemMgr.ts","./TrackMgr.ts","./EventUtil.ts"],(function(e){var t,r,n,l,a,i,s,o;return{setters:[function(e){t=e.cclegacy},function(e){r=e.CfgItem},function(e){n=e.EventType},function(e){l=e.PowerType},function(e){a=e.EventMgr},function(e){i=e.ItemMgr},function(e){s=e.TrackMgr},function(e){o=e.EventUtil}],execute:function(){var u;t._RF.push({},"14e94Hls5BC/L6+D8gmVEoB","SkillMgr",void 0);var c=e("PowerMgr",function(){function e(){}return e.usePower=function(e){var t=this.getPowerId(e),r=i.updateItem(t,-1);this.broadcastPowerStatusChange(e,r),s.track("use_skill",{skill_name:this.getPowerName(e)});var n=this.getPowerEventType(e);n&&a.emit(n)},e.addPower=function(e,t){void 0===t&&(t=1);var r=this.getPowerId(e),n=i.updateItem(r,t);this.broadcastPowerStatusChange(e,n);var l=this.getAddPowerEventType(e);l&&a.emit(l)},e.broadcastPowerStatusChange=function(e,t){o.throttleEmit(n.UpdateSkillCnt,this.POWER_UPDATE_THROTTLE,e,t)},e.getPowerEventType=function(e){switch(e){case l.IceFreezer:return n.UseSkillFreeze;case l.BallEraser:return n.UseSkillErase;case l.BallMover:return n.UseSkillMove;default:return null}},e.getAddPowerEventType=function(e){switch(e){case l.IceFreezer:return n.AddSkillFreeze;case l.BallEraser:return n.AddSkillErase;case l.BallMover:return n.AddSkillMove;default:return null}},e.getPowerId=function(e){for(var t=0;t<r.length;t++){var n=r[t];if((null==n?void 0:n.skillType)===e)return n.id}return-1},e.getPowerName=function(e){switch(e){case l.IceFreezer:return"freeze";case l.BallEraser:return"erase";case l.BallMover:return"move";default:return"unknown"}},e.hasPower=function(e){var t=this.getPowerId(e);return i.getCnt(t)>0},e.powerCnt=function(e){var t=this.getPowerId(e);return i.getCnt(t)},e.clearTimers=function(){o.clearTimers(n.UpdateSkillCnt)},e}());u=c,c.POWER_UPDATE_THROTTLE=100,c.useSkill=u.usePower,c.addSkill=u.addPower,c.hasSkill=u.hasPower,c.skillCnt=u.powerCnt,c.getSkillName=u.getPowerName;e("SkillMgr",c);t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillType.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"33fdaV78DhHR7dAPW9O4uUX","SkillType",void 0);var l=e("PowerType",function(e){return e[e.IceFreezer=0]="IceFreezer",e[e.BallEraser=1]="BallEraser",e[e.BallMover=2]="BallMover",e}({})),a=e("PowerName",["冰冻","消除","移出"]);e("SkillType",{Freeze:l.IceFreezer,Erase:l.BallEraser,Move:l.BallMover}),e("SkillName",a);r._RF.pop()}}}));

System.register("chunks:///_virtual/Stage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./EventType.ts","./InputBlock.ts","./UIMgr.ts","./UI.ts","./BallBox.ts","./GameMgr.ts","./Global.ts","./GameMode.ts","./ResMgr.ts","./Bundle.ts","./AudioMgr.ts","./FailType.ts","./Ball.ts","./cfg_ball.ts","./CollectMgr.ts","./GameUtil.ts","./ScoreMgr.ts"],(function(e){var n,t,i,o,l,a,s,r,c,h,u,d,p,f,S,g,v,C,_,T,M,m,b,E,B,y,I,w,x,G,A,L,P,D,O,R,U,N,k;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createForOfIteratorHelperLoose,a=e.createClass,s=e.asyncToGenerator},function(e){r=e.cclegacy,c=e._decorator,h=e.Prefab,u=e.Graphics,d=e.Color,p=e.Vec2,f=e.UITransform,S=e.Node,g=e.view,v=e.PhysicsSystem2D,C=e.instantiate,_=e.Vec3,T=e.tween,M=e.Component},function(e){m=e.EventMgr},function(e){b=e.EventType},function(e){E=e.InputBlock},function(e){B=e.UIMgr},function(e){y=e.UI},function(e){I=e.BallBox},function(e){w=e.GameMgr},function(e){x=e.Global},function(e){G=e.GameMode},function(e){A=e.ResMgr},function(e){L=e.Bundle},function(e){P=e.AudioMgr},function(e){D=e.FailType},function(e){O=e.Ball},function(e){R=e.SpecialSoundBalls},function(e){U=e.CollectMgr},function(e){N=e.GameUtil},function(e){k=e.ScoreMgr}],execute:function(){var F,H,W,V,z,Y,q,X,K;r._RF.push({},"c2315EwLzxLtYgpLudlGqgB","Stage",void 0);var Z=c.ccclass,j=c.property,J=(e("Stage",(F=Z("Game/Stage"),H=j(h),W=j(I),V=j(u),F((q=n((Y=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return n=e.call.apply(e,[this].concat(l))||this,i(n,"parMergePre",q,o(n)),i(n,"ballBox",X,o(n)),i(n,"lineGraphics",K,o(n)),n._uiTrans=null,n._minConnectCount=3,n._lineDefaultColor=new d(200,200,200,150),n._lineDefaultWidth=8,n._maxConnectionDistanceSq=w.Mode===G.Super?Math.pow(215,2):Math.pow(265,2),n._SCREEN_WIDTH=720,n._TOUCH_OFFSET_X=80,n._SCREEN_HEIGHT=1200,n._WORLD_Y_TOP=250,n._WORLD_Y_BOTTOM=1e3,n._SCREEN_CENTER_Y=600,n._WORLD_CENTER_Y=650,n._Y_SCALE_FACTOR=.8,n._MOVE_DISTANCE_THRESHOLD=5,n._initialConnectPos=new p,n._lastConnectedTime=0,n._BALL_CONNECTION_DISTANCE=250,n._BALL_DETECTION_RADIUS_SCALE=2,n._linePool=void 0,n._lineNodes=[],n._lineSpriteFrame=null,n._previewLine=null,n._LINE_DEFAULT_WIDTH=15,n._LINE_DEFAULT_COLOR=new d(255,255,255,150),n._lastTouchTime=0,n._touchThrottleInterval=.033,n._ballSearchCache=[],n._cacheUpdateTime=0,n.CACHE_LIFETIME=.1,n._renderFrameCounter=0,n.RENDER_SKIP_FRAMES=2,n.ballSelectionManager={isConnecting:!1,connectedBalls:[],lastTouchPos:new p,touchPath:[],startConnection:function(e,t){n.ballSelectionManager.connectedBalls.forEach((function(e){var n;null!=e&&null!=(n=e.node)&&n.isValid&&e.disconnect()})),n.ballSelectionManager.isConnecting=!0,n.ballSelectionManager.connectedBalls=[e],n.ballSelectionManager.lastTouchPos=t.clone(),n.ballSelectionManager.touchPath=[],e.connect(),m.emit(b.SelectBall,e),n.lineGraphics&&n.lineGraphics.clear()},addBall:function(e){return!n.ballSelectionManager.connectedBalls.includes(e)&&(n.ballSelectionManager.connectedBalls.push(e),e.connect(),!0)},updatePath:function(e){0===n.ballSelectionManager.touchPath.length&&n.ballSelectionManager.touchPath.push(n.ballSelectionManager.lastTouchPos.clone()),n.ballSelectionManager.touchPath.push(e.clone()),n.ballSelectionManager.touchPath.length>8&&n.ballSelectionManager.touchPath.shift(),n.ballSelectionManager.lastTouchPos=e.clone()},reset:function(){var e;n.ballSelectionManager.connectedBalls.forEach((function(e){var n;null!=e&&null!=(n=e.node)&&n.isValid&&e.disconnect()})),n.ballSelectionManager.isConnecting=!1,n.ballSelectionManager.connectedBalls=[],n.ballSelectionManager.touchPath=[],null==(e=n.lineGraphics)||e.clear()},canConnect:function(){return n.ballSelectionManager.connectedBalls.length>=n._minConnectCount},getLastBall:function(){return n.ballSelectionManager.connectedBalls[n.ballSelectionManager.connectedBalls.length-1]},detectReverseSwipe:function(){return!1}},n}t(n,e);var r=n.prototype;return r.onLoad=function(){this._uiTrans=this.getComponent(f),m.on(b.TimeOut,this.onTimeOut,this),m.on(b.UseSkillFreeze,this.onUseSkillFreeze,this),m.on(b.UseSkillErase,this.onUseSkillErase,this),m.on(b.UseSkillMove,this.onUseSkillMove,this),m.on(b.Revive,this.onRevive,this),this.node.off(S.EventType.TOUCH_START,this.onTouchStart_Swipe,this),this.node.off(S.EventType.TOUCH_MOVE,this.onTouchMove_Swipe,this),this.node.off(S.EventType.TOUCH_END,this.onTouchEnd_Swipe,this),this.node.off(S.EventType.TOUCH_CANCEL,this.onTouchEnd_Swipe,this),this.node.on(S.EventType.TOUCH_START,this.onTouchStart_Swipe,this,!0),this.node.on(S.EventType.TOUCH_MOVE,this.onTouchMove_Swipe,this,!0),this.node.on(S.EventType.TOUCH_END,this.onTouchEnd_Swipe,this,!0),this.node.on(S.EventType.TOUCH_CANCEL,this.onTouchEnd_Swipe,this,!0);var e=this.getComponent(f);if(e){var n=g.getVisibleSize();e.setContentSize(n.width,n.height)}this.ensureLineGraphics();var t=v.instance;if(t){var i=x.PHYSICS.SYSTEM;t.fixedTimeStep=i.FIXED_TIME_STEP,t.velocityIterations=i.VELOCITY_ITERATIONS,t.positionIterations=i.POSITION_ITERATIONS,t.gravity=new p(0,i.GRAVITY),t.allowSleep=!0,t.debugDrawFlags=0}},r.onDestroy=function(){this.unscheduleAllCallbacks(),m.off(b.TimeOut,this.onTimeOut,this),m.off(b.UseSkillFreeze,this.onUseSkillFreeze,this),m.off(b.UseSkillErase,this.onUseSkillErase,this),m.off(b.UseSkillMove,this.onUseSkillMove,this),m.off(b.Revive,this.onRevive,this),B.close(y.Game),this.node.off(S.EventType.TOUCH_START,this.onTouchStart_Swipe,this),this.node.off(S.EventType.TOUCH_MOVE,this.onTouchMove_Swipe,this),this.node.off(S.EventType.TOUCH_END,this.onTouchEnd_Swipe,this),this.node.off(S.EventType.TOUCH_CANCEL,this.onTouchEnd_Swipe,this)},r.start=function(){m.emit(b.GameStart)},r.update=function(e){if(x.Performance_Mode){var n=this.ballManager.getBallCount();n>x.Max_Visible_Balls?(this._touchThrottleInterval=.02,x.Ball_Update_Rate=20):n>.8*x.Max_Visible_Balls?(this._touchThrottleInterval=.016,x.Ball_Update_Rate=25):(this._touchThrottleInterval=.012,x.Ball_Update_Rate=30)}},r.onUseSkillFreeze=function(){var e=A.getRes(L.Game,"EffectFreeze"),n=C(e);this.node.addChild(n)},r.onUseSkillErase=function(){var e=this,n=this._maxConnectionDistanceSq;this._maxConnectionDistanceSq=825e4,B.open(y.Toast,"开始使用技能，实现全屏消除吧！"),P.playSfx("点击消除物"),this.scheduleOnce((function(){e._maxConnectionDistanceSq=n}),5)},r.onRevive=function(e){},r.getBallById=function(e,n){if(void 0===n&&(n=1),this.ballManager.isEmpty())return[];for(var t,i=this.ballManager.getAllBalls(),o=[],a=0,s=l(i);!(t=s()).done;){var r,c=t.value;if(a>=n)break;(null==c||null==(r=c.Data)?void 0:r.id)!==e||c.isEliminating||(o.push(c),a++)}return o},r.onUseSkillMove=function(){if(!this.ballManager.isEmpty()){var e=this.ballManager.getActiveBalls();if(0!==e.length){for(var n=e.map((function(e){return{node:e,position:e.position.clone(),scale:e.scale.clone()}})),t=[].concat(n.map((function(e){return e.position}))),i=t.length-1;i>0;i--){var o=Math.floor(Math.random()*(i+1)),l=[t[o],t[i]];t[i]=l[0],t[o]=l[1]}e.forEach((function(e,n){var i=20*(Math.random()-.5),o=20*(Math.random()-.5),l=t[n].clone();l.x+=i,l.y+=o;var a=e.scale.clone(),s=new _(1*a.x,1*a.y,a.z);T(e).to(.8,{position:l,scale:s},{easing:"linear"}).to(.6,{scale:a}).start()})),P.playSfx("点击消除物"),B.open(y.Toast,"球体位置已打乱！"),k.isTargetScoreReached()&&this.onLevelComplete()}}},r.onTimeOut=function(){k.isTargetScoreReached()?this.onLevelComplete():B.open(y.Revive,D.TimeOut)},r.isTouchInSkillButtonArea=function(e){var n=0,t=720,i=0,o=200;return e.y<o&&e.y>i&&e.x>n&&e.x<t},r.playBallSound=function(e){e.Data&&R.includes(e.Data.name)?P.playSfx("点猪的音效",.4):P.playSfx("点击消除物")},r.onTouchStart_Swipe=function(e){if(!this.ballManager.isEmpty()){var n=e.getUILocation();if(!this.isTouchInSkillButtonArea(n)){this.ballSelectionManager.reset();var t=this.convertTouchToGameCoordinate(n),i=this.getBallAtScreenPosition(t);!i||i.isEliminating||i.isConnected||(e.propagationStopped=!0,this.ballSelectionManager.startConnection(i,n),this.playBallSound(i))}}},r.onTouchMove_Swipe=function(e){var n=e.getUILocation();if(!this.isTouchInSkillButtonArea(n)&&this.ballSelectionManager.isConnecting&&0!==this.ballSelectionManager.connectedBalls.length){var t=.001*Date.now();if(!(t-this._lastTouchTime<this._touchThrottleInterval)){this._lastTouchTime=t;var i=e.getUILocation();if(!(p.distance(this.ballSelectionManager.lastTouchPos,i)<this._MOVE_DISTANCE_THRESHOLD)){e.propagationStopped=!0,this.ballSelectionManager.updatePath(i);var o=this.convertTouchToGameCoordinate(i),l=this.ballSelectionManager.getLastBall();this.drawSwipeLine(l.node,o);var a=this.getNearestConnectableBall(l,o),s=Date.now();a&&s-this._lastConnectedTime>30&&(this.ballSelectionManager.addBall(a),this._lastConnectedTime=s,this.playBallSound(a),this.redrawAllConnectedLines())}}}},r.redrawAllConnectedLines=function(){if(!this.lineGraphics||this.ballSelectionManager.connectedBalls.length<2)this.lineGraphics&&this.lineGraphics.clear();else if(this._renderFrameCounter++,!(this._renderFrameCounter<=this.RENDER_SKIP_FRAMES)){this._renderFrameCounter=0;var e=this.lineGraphics.node.getComponent(f);if(e){this.lineGraphics.clear(),this.lineGraphics.lineWidth=this._lineDefaultWidth,this.lineGraphics.strokeColor=this._lineDefaultColor,this.lineGraphics.fillColor=this._lineDefaultColor;for(var n,t=[],i=l(this.ballSelectionManager.connectedBalls);!(n=i()).done;){var o,a=n.value;if(null!=a&&null!=(o=a.node)&&o.isValid){var s=a.node.getWorldPosition(),r=e.convertToNodeSpaceAR(s);t.push(r)}}if(t.length>=2){this.lineGraphics.moveTo(t[0].x,t[0].y);for(var c=1;c<t.length;c++)this.lineGraphics.lineTo(t[c].x,t[c].y);this.lineGraphics.stroke();var h=1.2*this._lineDefaultWidth;if(this.lineGraphics.circle(t[0].x,t[0].y,h),t.length>1){var u=t[t.length-1];this.lineGraphics.circle(u.x,u.y,h)}this.lineGraphics.fill()}}}},r.onTouchEnd_Swipe=function(e){var n=e.getUILocation();this.isTouchInSkillButtonArea(n)?this.ballSelectionManager.isConnecting&&this.ballSelectionManager.reset():this.ballSelectionManager.isConnecting&&(e.propagationStopped=!0,this.ballSelectionManager.canConnect()?this.eliminateConnectedSwipeBalls():this.ballSelectionManager.reset())},r.getVisibleBalls=function(){var e=.001*Date.now();if(e-this._cacheUpdateTime<this.CACHE_LIFETIME&&this._ballSearchCache.length>0)return this._ballSearchCache;if(this._cacheUpdateTime=e,this._ballSearchCache=[],!this.ballBox||!this.ballBox.node)return this._ballSearchCache;for(var n,t=this.ballBox.node.getComponentsInChildren(O),i=l(t);!(n=i()).done;){var o=n.value;o&&o.node&&o.node.isValid&&!o.isEliminating&&this._ballSearchCache.push(o)}return this._ballSearchCache},r.drawSwipeLine=function(e,n){if(this.lineGraphics&&e&&e.isValid&&this.lineGraphics.node.getComponent(f)&&0!==this.ballSelectionManager.connectedBalls.length){this.redrawAllConnectedLines();var t=this.lineGraphics.node.getComponent(f),i=this.ballSelectionManager.connectedBalls[this.ballSelectionManager.connectedBalls.length-1];if(i&&i.node&&i.node.isValid){var o=i.node.getWorldPosition(),l=t.convertToNodeSpaceAR(o),a=this.node.getComponent(f).convertToWorldSpaceAR(new _(n.x,n.y,0)),s=t.convertToNodeSpaceAR(a);this.lineGraphics.lineWidth=this._lineDefaultWidth;var r=this._lineDefaultColor.clone();r.a=.7*this._lineDefaultColor.a,this.lineGraphics.strokeColor=r,this.lineGraphics.moveTo(l.x,l.y),this.lineGraphics.lineTo(s.x,s.y),this.lineGraphics.stroke();var c=1.2*this._lineDefaultWidth;this.lineGraphics.fillColor=r,this.lineGraphics.circle(s.x,s.y,c),this.lineGraphics.fill()}}},r.canConnectSwipe=function(e,n){return!(!e||!n||e===n||n.isConnected||n.isEliminating)&&(!!e.canBeConnectedWith(n)&&!(_.squaredDistance(e.node.worldPosition,n.node.worldPosition)>this._maxConnectionDistanceSq))},r.eliminateConnectedSwipeBalls=function(){var e=s((function*(){var e=this;if(!(this.ballSelectionManager.connectedBalls.length<this._minConnectCount)){for(var n=1;n<this.ballSelectionManager.connectedBalls.length;n++){var t=this.ballSelectionManager.connectedBalls[n-1],i=this.ballSelectionManager.connectedBalls[n];if(!t.canBeConnectedWith(i))return void this.ballSelectionManager.reset()}var o=this.ballSelectionManager.connectedBalls[0].Data.id,l=this.ballSelectionManager.connectedBalls.length,a=N.getCollectId(o);U.addEliminateCount(a),k.addScore(l,o),this.playBallSound(this.ballSelectionManager.connectedBalls[0]),this.ballSelectionManager.connectedBalls.forEach((function(n){var t=C(e.parMergePre);e.node.addChild(t),t.setWorldPosition(n.node.getWorldPosition())})),yield Promise.all(this.ballSelectionManager.connectedBalls.map((function(e){return e.eliminate()}))),this.ballSelectionManager.reset(),m.emit(b.BallDestroy,l),k.isTargetScoreReached()&&this.onLevelComplete()}}));return function(){return e.apply(this,arguments)}}(),r.ensureLineGraphics=function(){if(!this.lineGraphics){var e=this.node.getChildByName("LineGraphicsNode");if(e)this.lineGraphics=e.getComponent(u)||e.addComponent(u);else{e=new S("LineGraphicsNode"),this.node.addChild(e);var n=e.addComponent(f);this._uiTrans&&(n.setContentSize(this._uiTrans.contentSize),n.setAnchorPoint(this._uiTrans.anchorPoint)),e.setPosition(0,0,0),this.lineGraphics=e.addComponent(u)}}if(this.lineGraphics&&!this.lineGraphics.node.getComponent(f)){var t=this.lineGraphics.node.addComponent(f);this._uiTrans&&(t.setContentSize(this._uiTrans.contentSize),t.setAnchorPoint(this._uiTrans.anchorPoint),this.lineGraphics.node.setPosition(0,0,0))}},r.onCheckWin=function(){w.Pause||k.isTargetScoreReached()&&(this.unschedule(this.onCheckWin),this.onLevelComplete())},r.onLevelComplete=function(){w.Pause=!0,E.setActive(.5),this.scheduleOnce((function(){B.open(y.Win)}),.5)},r.getNearestConnectableBall=function(e,n){var t;if(!this.ballBox||this.ballBox.IsEmpty||!e||!e.node)return null;var i=null==(t=this.node.getComponent(f))?void 0:t.convertToWorldSpaceAR(new _(n.x,n.y,0));if(!i)return null;for(var o,a=this.ballBox.node.getComponentsInChildren(O),s=null,r=Number.MAX_VALUE,c=e.node.worldPosition,h=new p(i.x-c.x,i.y-c.y).normalize(),u=l(a);!(o=u()).done;){var d=o.value;if(d&&d.node&&!d.isEliminating&&!d.isConnected&&d!==e&&e.canBeConnectedWith(d))try{var S=d.node.worldPosition;if(_.squaredDistance(c,S)>this._maxConnectionDistanceSq)continue;var g=new p(S.x-c.x,S.y-c.y).normalize();if(p.dot(h,g)<.5)continue;var v=p.distance(new p(i.x,i.y),new p(S.x,S.y));v<=100*d.node.scale.x*(w.Mode===G.Super?1:1.2)&&v<r&&(r=v,s=d)}catch(e){continue}}return s},r.resetAllConnectedBalls=function(){if(this.ballSelectionManager.reset(),this.ballManager.isValid())for(var e,n=this.ballManager.getAllBalls(),t=l(n);!(e=t()).done;){var i=e.value;if(null!=i&&i.isConnected)try{i.disconnect()}catch(e){}}},r.onNormalModeWin=function(){w.CurLevel++,this.onLevelComplete()},r.onSuperModeWin=function(){w.SuperLevel++,this.onLevelComplete()},r.convertTouchToGameCoordinate=function(e){var n=this.getComponent(f);if(!n)return e.clone();var t=new _(e.x,e.y,0),i=n.convertToNodeSpaceAR(t),o=this.node.scale;return i.x/=o.x,i.y/=o.y,new p(i.x,i.y)},r.getBallAtScreenPosition=function(e){if(!this.ballBox||!this.ballBox.node)return null;for(var n,t=this.ballBox.node.getComponentsInChildren(O),i=null,o=Number.MAX_VALUE,a=l(t);!(n=a()).done;){var s=n.value;if(s&&s.node&&s.node.isValid&&!s.isEliminating){var r=s.node.position,c=p.distance(e,new p(r.x,r.y));c<=80&&c<o&&(o=c,i=s)}}return i},a(n,[{key:"ballManager",get:function(){var e=this;return{isValid:function(){return e.ballBox&&e.ballBox.node&&!e.ballBox.IsEmpty},getAllBalls:function(){var n;return(null==(n=e.ballBox)||null==(n=n.node)?void 0:n.getComponentsInChildren(O))||[]},getActiveBalls:function(){var n;return(null==(n=e.ballBox)||null==(n=n.node)?void 0:n.children.filter((function(e){var n=e.getComponent(O);return n&&e.active&&!n.isEliminating})))||[]},getBallCount:function(){var n;return(null==(n=e.ballBox)?void 0:n.getBallCount())||0},isEmpty:function(){return!e.ballBox||e.ballBox.IsEmpty||!e.ballBox.node}}}}]),n}(M)).prototype,"parMergePre",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(Y.prototype,"ballBox",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(Y.prototype,"lineGraphics",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=Y))||z)),e("BallPool",function(){function e(){}return e.get=function(e){if(this.pool.length>0){var n=this.pool.pop();return n.node.active=!0,n}return C(e).getComponent(O)},e.put=function(e){this.pool.length<this.MAX_POOL_SIZE?(e.node.active=!1,this.pool.push(e)):e.node.destroy()},e}()));J.pool=[],J.MAX_POOL_SIZE=100,r._RF.pop()}}}));

System.register("chunks:///_virtual/StageTimer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeUtil.ts","./EventMgr.ts","./EventType.ts","./GameMgr.ts","./Global.ts","./GameMode.ts","./FailType.ts"],(function(e){var t,i,s,n,o,a,r,l,m,f,h,u,T;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,n=e._decorator,o=e.Label,a=e.Component},function(e){r=e.TimeUtil},function(e){l=e.EventMgr},function(e){m=e.EventType},function(e){f=e.GameMgr},function(e){h=e.Global},function(e){u=e.GameMode},function(e){T=e.FailType}],execute:function(){var c;s._RF.push({},"a8ba4QEbvBErYoZl31/6yha","StageTimer",void 0);var _=n.ccclass;n.property,e("StageTimer",_("Game/StageTimer")(c=function(e){function s(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this)._label=null,t.leftTime=0,t._lastDisplayTime=-1,t._updateCounter=0,t.UPDATE_INTERVAL=10,t._freeze=!1,t._freezeTime=0,t._pause=!1,t}t(s,e);var n=s.prototype;return n.onLoad=function(){this._label=this.getComponent(o),globalThis.StageTimer=this,l.on(m.Revive,this.onRevive,this),l.on(m.UseSkillFreeze,this.onUseSkillFreeze,this),l.on(m.TimeReset,this.onTimeReset,this)},n.onDestroy=function(){l.off(m.Revive,this.onRevive,this),l.off(m.UseSkillFreeze,this.onUseSkillFreeze,this),l.off(m.TimeReset,this.onTimeReset,this)},n.update=function(e){this._pause||f.Pause||-1!==h.Level_Time&&(this._freeze?(this._freezeTime-=e,this._freezeTime<=0&&(this._freeze=!1)):(this.LeftTime-=e,this.leftTime<=0&&(this._pause=!0,l.emit(m.TimeOut))))},n.onTimeReset=function(){this._pause=!1,this.LeftTime=h.Level_Time},n.onRevive=function(e){if(e===T.TimeOut)switch(this._pause=!1,f.Mode){case u.Normal:this.LeftTime=f.isHardLevel?300:60;break;case u.Super:this.LeftTime=300}},n.onUseSkillFreeze=function(){this._freeze=!0,this._freezeTime=h.Freeze_Time},i(s,[{key:"LeftTime",get:function(){return this.leftTime},set:function(e){this.leftTime=Math.max(e,0);var t=Math.round(this.leftTime);t!==this._lastDisplayTime&&(this._lastDisplayTime=t,l.emit(m.TimeTick,this.leftTime),this._label.string=r.formatTime_HHMMSS(1e3*t))}}]),s}(a))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/start-scene",["./Global.ts","./Setting.ts","./CfgDec.ts","./CfgItem.ts","./CfgName.ts","./cfg_ball.ts","./cfg_collection_unlock.ts","./cfg_gashapon.ts","./cfg_level.ts","./cfg_passReward.ts","./DtoBall.ts","./DtoGashapon.ts","./DtoLevel.ts","./DtoPassReward.ts","./DtoRank.ts","./DtoReward.ts","./BallType.ts","./Bundle.ts","./EventType.ts","./FailType.ts","./GameMode.ts","./ItemType.ts","./PhysicGroup.ts","./PhysicsLayerType.ts","./SkillType.ts","./UI.ts","./UIType.ts","./Ball.ts","./BallBox.ts","./BtnSkillBase.ts","./EffectAlert.ts","./EffectFreeze.ts","./SkillBox.ts","./Stage.ts","./StageTimer.ts","./SuperModeTip.ts","./AdMgr.ts","./AudioMgr.ts","./CoinMgr.ts","./CollectMgr.ts","./DecMgr.ts","./EffectMgr.ts","./EnergyMgr.ts","./EventMgr.ts","./GameMgr.ts","./GashaponMgr.ts","./HomeMgr.ts","./ItemMgr.ts","./PassRewardMgr.ts","./RankMgr.ts","./ResMgr.ts","./ScoreMgr.ts","./SkillMgr.ts","./TimeMgr.ts","./TrackMgr.ts","./UIMgr.ts","./Decoration.ts","./Floaty.ts","./InputBlock.ts","./RedPoint.ts","./Rotate.ts","./Shake.ts","./RefButton.ts","./RefSprite.ts","./Load.ts","./Main.ts","./Wechat.ts","./WxAd.ts","./WxShare.ts","./ScoreProgressBar.ts","./UIBase.ts","./UICollect.ts","./UICollectInfo.ts","./UIFail.ts","./UIGame.ts","./UIGashapon.ts","./UIGetReward.ts","./UIHome.ts","./UIMain.ts","./UIPassReward.ts","./UIPause.ts","./UIRank.ts","./UIReplay.ts","./UIRevive.ts","./UISetting.ts","./UISkill.ts","./UIStageTip.ts","./UISuperWin.ts","./UIToast.ts","./UITransition.ts","./UIWin.ts","./UIxiaoyouxi.ts","./CoinItem.ts","./CollectItem.ts","./DecItem.ts","./Egg.ts","./HomeItem.ts","./HomePieceItem.ts","./RankItem.ts","./TimeOutReviveTip.ts","./BtnExtend.ts","./CirclePageView.ts","./LabelTick.ts","./Switcher.ts","./ToggleExtend.ts","./ArrayUtil.ts","./Debug.ts","./EventUtil.ts","./GameUtil.ts","./MathUtil.ts","./ObjUtil.ts","./PerformanceManager.ts","./PerformanceMonitor.ts","./StorageUtil.ts","./TimeUtil.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/StorageUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"610021vdilF1atM5/90llvj","StorageUtil",void 0);t("StorageUtil",function(){function t(){}return t.setItem=function(t,e,r){var l;"boolean"==typeof e&&(e=Number(e));var o=this.getFullKey(t);localStorage.setItem(o,(null==(l=e)?void 0:l.toString())||"")},t.setObj=function(t,e,r){var l=JSON.stringify(e),o=this.getFullKey(t);localStorage.setItem(o,l)},t.getItem=function(t,e){var r=this.getFullKey(t),l=localStorage.getItem(r);return l?JSON.parse(l):e},t.getObj=function(t,e){var r=this.getFullKey(t),l=localStorage.getItem(r);return l?JSON.parse(l):e},t.removeItem=function(t){var e=this.getFullKey(t);localStorage.removeItem(e)},t.clear=function(){localStorage.clear()},t.getFullKey=function(t){return"zxz_"+t},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SuperModeTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeMgr.ts"],(function(e){var t,i,r,n,o,p,a,c,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator},function(e){p=e.cclegacy,a=e._decorator,c=e.Node,u=e.Component},function(e){l=e.TimeMgr}],execute:function(){var s,f,y,d,h,v,g;p._RF.push({},"dcc74mCkNhBe75W0E2ZY9+f","SuperModeTip",void 0);var m=a.ccclass,T=a.property;e("SuperModeTip",(s=m("Game/SuperModeTip"),f=T(c),y=T(c),s((v=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),p=0;p<i;p++)o[p]=arguments[p];return t=e.call.apply(e,[this].concat(o))||this,r(t,"tip0",v,n(t)),r(t,"tip1",g,n(t)),t}return i(t,e),t.prototype.start=function(){var e=o((function*(){this.tip0.active=!0,this.tip1.active=!1,yield l.delay(1),this.tip0.active=!1,this.tip1.active=!0}));return function(){return e.apply(this,arguments)}}(),t}(u)).prototype,"tip0",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(h.prototype,"tip1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));p._RF.pop()}}}));

System.register("chunks:///_virtual/Switcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,s,c,a,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,c=t._decorator,a=t.Button,p=t.Node,l=t.Component}],execute:function(){var u,f,h,y,d,v,O,C,I;s._RF.push({},"4772djXcEtGA6kLkEpQOZ0P","Switcher",void 0);var b=c.ccclass,g=c.property,w=c.requireComponent,k=c.executeInEditMode;t("Switcher",(u=b("UIExtend/Switcher"),f=w(a),h=k(!0),y=g(p),d=g(p),u(v=f(v=h((C=e((O=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"on",C,o(e)),i(e,"off",I,o(e)),e._isOn=!0,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.node.on(a.EventType.CLICK,this.onClick,this)},s.onDestroy=function(){this.node.off(a.EventType.CLICK,this.onClick,this)},s.onClick=function(){this.IsOn=!this.IsOn},r(e,[{key:"IsOn",get:function(){return this._isOn},set:function(t){this._isOn=t,this.on&&(this.on.active=t),this.off&&(this.off.active=!t)}}]),e}(l)).prototype,"on",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(O.prototype,"off",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e(O.prototype,"IsOn",[g],Object.getOwnPropertyDescriptor(O.prototype,"IsOn"),O.prototype),v=O))||v)||v)||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/TimeMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,s,o;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator},function(t){i=t.cclegacy,r=t._decorator,s=t.director,o=t.Component}],execute:function(){var c,u;i._RF.push({},"9a36f5tW91Gnp7BUUKYgzAc","TimeMgr",void 0);var a=r.ccclass;r.property,t("TimeMgr",a("Manager/TimeMgr")(((u=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.onLoad=function(){i._inst=this,s.addPersistRootNode(this.node)},i.delay=function(){var t=n((function*(t){var e=this;return void 0===t&&(t=0),new Promise((function(n,i){e._inst.scheduleOnce((function(){n()}),t)}))}));return function(e){return t.apply(this,arguments)}}(),i.setTimer=function(t,e,n){var i=this;void 0===n&&(n=1);var r=0,s=this.nextId++;s>1e4&&(s=0);var o=function(){t&&t(),++r>=n&&i.clearTimer(s)};return this._timerMap.set(s,o),this._inst.schedule(o,e,n),s},i.clearTimer=function(t){this._timerMap.has(t)&&(this._inst.unschedule(this._timerMap.get(t)),this._timerMap.delete(t))},i}(o))._inst=null,u._timerMap=new Map,u.nextId=0,c=u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/TimeOutReviveTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts","./GameMode.ts"],(function(e){var t,n,i,r,o,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,r=e.Label,o=e.Component},function(e){a=e.GameMgr},function(e){c=e.GameMode}],execute:function(){var u;n._RF.push({},"c7898GD5FZCzo7nuKx61Thf","TimeOutReviveTip",void 0);var s=i.ccclass;i.property,e("TimeOutReviveTip",s("Item/TimeOutReviveTip")(u=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).label=null,t}t(n,e);var i=n.prototype;return i.onLoad=function(){this.label=this.getComponent(r)},i.start=function(){var e=1;switch(a.Mode){case c.Normal:e=a.isHardLevel?1:5;break;case c.Super:e=1===a.SuperLevel?1:5}this.label.string="复活并加时"+e+"分钟"},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"07102ahwgBFAZu9HS4Vb7oI","TimeUtil",void 0);var r=e("TimeUtil",function(){function e(){}return e.getCurrTimeStamp=function(){return Date.now()},e.getHours=function(){return(new Date).getHours()},e.getCurrTimeDate=function(){return new Date(this.getCurrTimeStamp())},e.getCurWeekDay=function(){var e=this.getCurrTimeDate().getDay();return 0==e?7:e},e.isSameDay=function(e){var t=new Date(e),r=this.getCurrTimeDate();return t.getFullYear()==r.getFullYear()&&t.getMonth()==r.getMonth()&&t.getDate()==r.getDate()},e.isSameWeek=function(e){for(var t=this.getCurrTimeStamp(),r=this.getCurWeekDay(),n=new Date(e).toLocaleDateString(),i=1;i<=7;i++)if(n==new Date(t+24*(i-r)*3600*1e3).toLocaleDateString())return!0;return!1},e.getAssignTimestamp=function(e){return e=e.replace(/-/g,"/"),new Date(e).getTime()},e.formatTime_HHMMSS=function(e){var t=e/1e3,r=(Array(2).join("0")+Math.floor(t/3600)).slice(-2),n=(Array(2).join("0")+Math.floor(t%3600/60)).slice(-2),i=(Array(2).join("0")+Math.floor(t)%60).slice(-2);return"00"==r?n+":"+i:r+":"+n+":"+i},e.formatTime_DDHHMMSS=function(e){var t=e/1e3,r=t%60,n=(t=Math.floor(t/60))%60,i=(t=Math.floor(t/60))%24,a=(t=Math.floor(t/24),"");return t>0?(a=t+"天",i>0&&(a+=i+"小时")):(i>0&&(a+=i+"小时"),n>0?a+=n+"分":i>0&&(a+="零"),r>0&&(a+=Math.floor(r)+"秒")),a},e.isWithinTimeRange=function(e,t,r){var n=new Date(e).getHours(),i=r<t;return n>=t&&n<(i?r+24:r)},e.getTodayTimestampAtHour=function(e,t){void 0===t&&(t=0);var r=new Date;return r.setHours(e,t,0,0),r.getTime()},e}());globalThis.TimeUtil=r,t._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleExtend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(e){var t,n,i,o,c,r,l,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,l=e.Toggle,s=e.Component},function(e){a=e.AudioMgr}],execute:function(){var u,f,g,h,p,d,v,T;c._RF.push({},"659835HTWVKuJmTmyMhYpAf","ToggleExtend",void 0);var k=r.ccclass,S=r.property,x=r.disallowMultiple,y=r.requireComponent;e("ToggleExtend",(u=k("UIExtend/ToggleExtend"),f=x(!0),g=y(l),h=S({range:[0,1,.1],slide:!0}),u(p=f(p=g((v=t((d=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,i(t,"safeTime",v,o(t)),i(t,"clickSfx",T,o(t)),t.toggle=null,t.checkEvents=void 0,t.isSafe=!0,t}n(t,e);var c=t.prototype;return c.onLoad=function(){this.toggle=this.getComponent(l)},c.start=function(){this.toggle.node.on(l.EventType.TOGGLE,this.onToggle,this)},c.onToggle=function(){this.handleSafe(),this.handleClickSfx()},c.handleSafe=function(){var e=this;this.isSafe&&(this.isSafe=!1,this.scheduleOnce((function(){e.checkEvents=e.toggle.checkEvents,e.toggle.checkEvents=[],e.scheduleOnce(e.recover,e.safeTime)})))},c.handleClickSfx=function(){this.clickSfx&&a.playSfx(this.clickSfx)},c.recover=function(){this.isSafe=!0,this.toggle.checkEvents=this.checkEvents},t}(s)).prototype,"safeTime",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),T=t(d.prototype,"clickSfx",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"btnClick"}}),p=d))||p)||p)||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/TrackMgr.ts",["cc"],(function(c){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"1bfe3XhK75EuqLFQtbsWn1e","TrackMgr",void 0);c("TrackMgr",function(){function c(){}return c.track=function(c,t){},c}());t._RF.pop()}}}));

System.register("chunks:///_virtual/UI.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"c8a08FNqdVHerPY3SIR/1mx","UI",void 0);e("UI",function(e){return e.Main="UIMain",e.Level="UILevel",e.Game="UIGame",e.Pause="UIPause",e.Win="UIWin",e.SuperWin="UISuperWin",e.Fail="UIFail",e.Confirm="UIConfirm",e.Setting="UISetting",e.Top="UITop",e.Toast="UIToast",e.SideBar="UISideBar",e.Rank="UIRank",e.Replay="UIReplay",e.Revive="UIRevive",e.Skill="UISkill",e.Transition="UITransition",e.Collect="UICollect",e.CollectInfo="UICollectInfo",e.Gashapon="UIGashapon",e.GetReward="UIGetReward",e.xiaoyouxi="UIxiaoyouxi",e.StageTip="UIStageTip",e.Home="UIHome",e.PassReward="UIPassReward",e.ShareVideo="UIShareVideo",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIType.ts","./EventMgr.ts","./EventType.ts"],(function(e){var n,t,i,o,c,r,s,u,a,l,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,s=e.Widget,u=e.Enum,a=e.Component},function(e){l=e.UIType},function(e){p=e.EventMgr},function(e){f=e.EventType}],execute:function(){var y,d,h,v,m,g;c._RF.push({},"111f5/XxgFNRZIz42m+GGGf","UIBase",void 0);var I=r.ccclass,E=r.property,b=r.requireComponent;e("UIBase",(y=I("ScriptBase/UIBase"),d=b(s),h=E({type:u(l)}),y(v=d((g=n((m=function(e){function n(){for(var n,t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return n=e.call.apply(e,[this].concat(c))||this,i(n,"uiType",g,o(n)),n}t(n,e);var c=n.prototype;return c.onOpen=function(e){},c.onClose=function(e){},c.open=function(e,n,t){p.emit(f.OpenUI,e,n,t)},c.delayOpen=function(e,n,t,i){this.scheduleOnce(this.open.bind(this,n,t,i),e)},c.close=function(e,n){e||(e=this.node.name),p.emit(f.CloseUI,e,n)},c.delayClose=function(e,n,t){this.scheduleOnce(this.close.bind(this,n,t),e)},c.bindClick=function(e,n,t,i,o){var c=new a.EventHandler;c.target=n,c.component=t,c.handler=i,c.customEventData=o,e.clickEvents=[c]},c.unbindClick=function(e){e.clickEvents=[]},n}(a)).prototype,"uiType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.Common}}),v=m))||v)||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/UICollect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CollectItem.ts","./CfgItem.ts","./ItemType.ts"],(function(t){var e,n,o,i,r,l,c,a,u,s,f,p,m,C,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,c=t.Widget,a=t.Prefab,u=t.Label,s=t.Node,f=t.instantiate},function(t){p=t.UIBase},function(t){m=t.CollectItem},function(t){C=t.CfgItem},function(t){I=t.ItemType}],execute:function(){var b,g,h,y,d,v,B,P,U,w;r._RF.push({},"f3992PYq8hNko7Dog9oR/w8","UICollect",void 0);var z=l.ccclass,D=l.property,x=l.requireComponent;t("UICollect",(b=z("UI/UICollect"),g=x(c),h=D(a),y=D(u),d=D(s),b(v=g((P=e((B=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"collectItemPre",P,i(e)),o(e,"lbCnt",U,i(e)),o(e,"itemBox",w,i(e)),e}n(e,t);var r=e.prototype;return r.onOpen=function(t){for(var e=0;e<C.length;e++){var n=C[e];n.id;if(n.type===I.Collection){var o=f(this.collectItemPre);this.itemBox.addChild(o),o.getComponent(m).Data=n}}this.lbCnt.string="每种小怪兽消除多次，即可解锁"},r.onClose=function(t){},r.onBtnCloseClick=function(){this.close()},e}(p)).prototype,"collectItemPre",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(B.prototype,"lbCnt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(B.prototype,"itemBox",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=B))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/UICollectInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./ResMgr.ts"],(function(e){var n,t,i,r,o,l,c,a,s,u,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,c=e.Widget,a=e.Sprite,s=e.Label},function(e){u=e.UIBase},function(e){p=e.ResMgr}],execute:function(){var f,b,I,g,h,m,y,C;o._RF.push({},"beabfq4X/hF5IJAA/fGzHQJ","UICollectInfo",void 0);var d=l.ccclass,v=l.property,U=l.requireComponent;e("UICollectInfo",(f=d("UI/UICollectInfo"),b=U(c),I=v(a),g=v(s),f(h=b((y=n((m=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,i(n,"icon",y,r(n)),i(n,"lbName",C,r(n)),n}t(n,e);var o=n.prototype;return o.onOpen=function(e){this.icon.spriteFrame=p.getSpriteFrame(e.bundle,e.icon),this.lbName.string=e.name},o.onClose=function(e){},o.onBtnCloseClick=function(){this.close()},n}(u)).prototype,"icon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(m.prototype,"lbName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h)||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIFail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./UI.ts","./AudioMgr.ts","./TrackMgr.ts","./ScoreMgr.ts"],(function(e){var t,n,o,r,i,c,a,s,u,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Widget},function(e){i=e.UIBase},function(e){c=e.GameMgr},function(e){a=e.UI},function(e){s=e.AudioMgr},function(e){u=e.TrackMgr},function(e){l=e.ScoreMgr}],execute:function(){var f;n._RF.push({},"ab20cnijD5PGqJcDkVABmrI","UIFail",void 0);var p=o.ccclass,g=(o.property,o.requireComponent);e("UIFail",p("UI/UIFail")(f=g(r)(f=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onOpen=function(e){s.stopBgm(),s.playSfx("a通关失败"),c.Pause=!0,u.track("game_fail",{mode:c.CurrentModeTitle,level:c.GameLevelId})},o.onClose=function(e){c.Pause=!1},o.onBtnReplayClick=function(){u.track("restart_game",{mode:c.CurrentModeTitle,level:c.GameLevelId}),c.startGame(),l.startLevel(),this.close()},o.onBtnCloseClick=function(){var e=this;c.quitGame(),this.scheduleOnce((function(){e.close(),e.open(a.Main)}),.5)},n}(i))||f)||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./EventMgr.ts","./EventType.ts","./GameMode.ts","./AudioMgr.ts","./Global.ts"],(function(e){var t,n,i,o,r,l,a,c,s,u,p,v,f,d,h,m,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Widget,c=e.Label,s=e.Node},function(e){u=e.UIBase},function(e){p=e.UI},function(e){v=e.GameMgr},function(e){f=e.EventMgr},function(e){d=e.EventType},function(e){h=e.GameMode},function(e){m=e.AudioMgr},function(e){L=e.Global}],execute:function(){var b,g,U,y,G,I,M,B;r._RF.push({},"b5168XlFOBNW7ZntKcA7QRv","UIGame",void 0);var C=l.ccclass,k=l.property,R=l.requireComponent;e("UIGame",(b=C("UI/UIGame"),g=R(a),U=k(c),y=k(s),b(G=g((M=t((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"lbLevel",M,o(t)),i(t,"timer",B,o(t)),t}n(t,e);var r=t.prototype;return r.onOpen=function(e){switch(this.timer.active=L.Level_Time>0,m.playBgm("游戏内音乐"),f.on(d.UpdateLevel,this.onUpdateLevel,this),v.Mode){case h.Normal:this.lbLevel.node.active=!0,this.onUpdateLevel(v.CurLevel);break;case h.Super:this.lbLevel.node.active=!1,this.onUpdateLevel(v.SuperLevel)}},r.onClose=function(e){f.off(d.UpdateLevel,this.onUpdateLevel,this)},r.onBtnSettingClick=function(){this.open(p.Setting)},r.onBtnReplayClick=function(){this.open(p.Replay)},r.onBtnPauseClick=function(){this.open(p.Pause)},r.onUpdateLevel=function(e){this.lbLevel.string="第"+e+"关"},t}(u)).prototype,"lbLevel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"timer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=I))||G)||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIGashapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./CoinMgr.ts","./Global.ts","./EventMgr.ts","./EventType.ts","./CoinItem.ts","./GashaponMgr.ts","./AudioMgr.ts","./ItemMgr.ts","./InputBlock.ts","./TimeMgr.ts","./AdMgr.ts","./TrackMgr.ts"],(function(n){var t,o,e,i,a,r,s,c,u,p,f,l,h,d,C,m,g,v,I,y,G,M;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,a=n.asyncToGenerator},function(n){r=n.cclegacy,s=n._decorator,c=n.Widget},function(n){u=n.UIBase},function(n){p=n.UI},function(n){f=n.CoinMgr},function(n){l=n.Global},function(n){h=n.EventMgr},function(n){d=n.EventType},function(n){C=n.CoinItem},function(n){m=n.GashaponMgr},function(n){g=n.AudioMgr},function(n){v=n.ItemMgr},function(n){I=n.InputBlock},function(n){y=n.TimeMgr},function(n){G=n.AdMgr},function(n){M=n.TrackMgr}],execute:function(){var T,k,R,w,_,A;r._RF.push({},"c3642ZvhMZBRaOwnHx75sbo","UIGashapon",void 0);var B=s.ccclass,U=s.property,b=s.requireComponent;n("UIGashapon",(T=B("UI/UIGashapon"),k=b(c),R=U(C),T(w=k((A=t((_=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,e(t,"coinItem",A,i(t)),t}o(t,n);var r=t.prototype;return r.onOpen=function(n){this.coinItem.init(f.CurCoin)},r.onClose=function(n){},r.onBtnCloseClick=function(){this.close(),this.open(p.Main)},r.onBtnOneClick=function(){var n=a((function*(){if(f.CurCoin<l.Gashapon_One_Cost)this.open(p.Toast,"金币不足");else{g.playSfx("a摇晃扭蛋"),h.emit(d.StartGashapon),M.track("gashapon",{mode:"单次"}),f.CurCoin-=l.Gashapon_One_Cost,f.fakeCoin=f.CurCoin,this.coinItem.updateCoin(f.CurCoin,!1);var n=m.getRandReward(),t=n.itemId,o=n.cnt;v.updateItem(t,o),I.Active=!0,yield y.delay(2),I.Active=!1,h.emit(d.EndGashapon),this.open(p.GetReward,[n])}}));return function(){return n.apply(this,arguments)}}(),r.onBtnTwoClick=function(){var n=a((function*(){var n=this,t=function(){var t=a((function*(t){M.track("gashapon",{mode:"看视频"}),g.playSfx("a摇晃扭蛋"),h.emit(d.StartGashapon),f.fakeCoin=f.CurCoin;for(var o=[],e=0;e<2;e++){var i=m.getRandReward(),a=i.itemId,r=i.cnt;v.updateItem(a,r),o.push(i)}I.Active=!0,yield y.delay(2),I.Active=!1,h.emit(d.EndGashapon),n.open(p.GetReward,o)}));return function(n){return t.apply(this,arguments)}}();G.showRewardedVideo(t,(function(){n.open(p.Toast,"激励视频播放未完成")}),(function(){n.open(p.Toast,"暂时没有合适的广告")}))}));return function(){return n.apply(this,arguments)}}(),r.onBtnTenClick=function(){var n=a((function*(){if(f.CurCoin<l.Gashapon_Ten_Cost)this.open(p.Toast,"金币不足");else{g.playSfx("a摇晃扭蛋"),h.emit(d.StartGashapon),M.track("gashapon",{mode:"十连"}),f.CurCoin-=l.Gashapon_Ten_Cost,f.fakeCoin=f.CurCoin,this.coinItem.updateCoin(f.CurCoin,!1);for(var n=[],t=0;t<10;t++){var o=m.getRandReward(),e=o.itemId,i=o.cnt;v.updateItem(e,i),n.push(o)}I.Active=!0,yield y.delay(2),I.Active=!1,h.emit(d.EndGashapon),this.open(p.GetReward,n)}}));return function(){return n.apply(this,arguments)}}(),t}(u)).prototype,"coinItem",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=_))||w)||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIGetReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CfgItem.ts","./ResMgr.ts","./ItemType.ts","./CoinMgr.ts","./InputBlock.ts","./AudioMgr.ts","./ItemMgr.ts","./CoinItem.ts","./UI.ts","./AdMgr.ts","./TrackMgr.ts"],(function(t){var e,n,r,i,o,a,c,u,s,l,f,d,p,h,b,g,w,I,m,v,y,C,R,k,G,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator},function(t){c=t.cclegacy,u=t._decorator,s=t.Widget,l=t.Sprite,f=t.Label,d=t.Node,p=t.tween,h=t.v3},function(t){b=t.UIBase},function(t){g=t.CfgItem},function(t){w=t.ResMgr},function(t){I=t.ItemType},function(t){m=t.CoinMgr},function(t){v=t.InputBlock},function(t){y=t.AudioMgr},function(t){C=t.ItemMgr},function(t){R=t.CoinItem},function(t){k=t.UI},function(t){G=t.AdMgr},function(t){A=t.TrackMgr}],execute:function(){var M,T,U,z,D,_,B,F,L,S,x,O,P,j;c._RF.push({},"3dacejXH+FCKJvYNd+LzdQ0","UIGetReward",void 0);var H=u.ccclass,N=u.property,q=u.requireComponent;t("UIGetReward",(M=H("UI/UIGetReward"),T=q(s),U=N(l),z=N(f),D=N(d),_=N(d),B=N(R),M(F=T((S=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"icon",S,i(e)),r(e,"lbCnt",x,i(e)),r(e,"btnDoubleGet",O,i(e)),r(e,"btnGet",P,i(e)),r(e,"coinItem",j,i(e)),e.rewardArr=[],e.tw=void 0,e.curReward=null,e}n(e,t);var c=e.prototype;return c.onLoad=function(){},c.onOpen=function(t){this.coinItem.init(m.fakeCoin),this.rewardArr=t,this.CurReward=this.rewardArr.shift()},c.onClose=function(t){},c.onBtnGetClick=function(){var t=a((function*(){var t=this.rewardArr.length;this.btnGet.active=t>0,this.btnDoubleGet.active=t>0,A.track("get_reward",{is_video:"看"}),t<=0?(yield this.getItem(),this.close()):(yield this.getItem(),this.CurReward=this.rewardArr.shift())}));return function(){return t.apply(this,arguments)}}(),c.onBtnDoubleClick=function(){var t=a((function*(){var t=this,e=function(){var e=a((function*(e){var n=t.rewardArr.length;t.btnGet.active=n>0,t.btnDoubleGet.active=n>0,A.track("get_reward",{is_video:"没看"}),n<=0?(yield t.getItem(1),t.close()):(yield t.getItem(1),t.CurReward=t.rewardArr.shift())}));return function(t){return e.apply(this,arguments)}}();G.showRewardedVideo(e,(function(){t.open(k.Toast,"激励视频播放未完成")}),(function(){t.open(k.Toast,"暂时没有合适的广告")}))}));return function(){return t.apply(this,arguments)}}(),c.getItem=function(t){var e=this;return void 0===t&&(t=0),new Promise((function(n,r){var i=e.curReward,o=i.itemId,a=i.cnt,c=C.getType(o);switch(t>0&&(e.lbCnt.string="x"+(t+1)*a,C.updateItem(o,t*a)),c){case I.Coin:e.coinItem.updateCoin(e.coinItem.coin+(t+1)*a),v.setActive(2),e.scheduleOnce((function(){n()}),2);break;case I.Skill:n();break;case I.Collection:n()}}))},o(e,[{key:"CurReward",set:function(t){this.curReward=t;var e=t.itemId,n=t.cnt,r=g[e],i=r.bundle,o=r.icon,a=r.type;this.lbCnt.string="x"+n;var c=w.getSpriteFrame(i,o);this.icon.spriteFrame=c,a===I.Collection&&y.playSfx("a通关成功"),this.tw&&this.tw.stop(),this.tw=p(this.icon.node),this.tw.set({scale:h()}),this.tw.to(.5,{scale:h(1,1,1)},{easing:"backOut"}),this.tw.start()}}]),e}(b)).prototype,"icon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(L.prototype,"lbCnt",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(L.prototype,"btnDoubleGet",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"btnGet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(L.prototype,"coinItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=L))||F)||F));c._RF.pop()}}}));

System.register("chunks:///_virtual/UIHome.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./CoinItem.ts","./CoinMgr.ts"],(function(e){var t,i,n,o,r,a,c,u,l,s,g,p,h,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Widget,u=e.Prefab,l=e.PageView,s=e.instantiate,g=e.math},function(e){p=e.UIBase},function(e){h=e.UI},function(e){f=e.CoinItem},function(e){m=e.CoinMgr}],execute:function(){var I,P,d,C,w,x,b,y,v,U;r._RF.push({},"3fe06H4NjBAcppp/pA55uBO","UIHome",void 0);var V=a.ccclass,B=a.property,H=a.requireComponent;e("UIHome",(I=V("UI/UIHome"),P=H(c),d=B(u),C=B(l),w=B(f),I(x=P((y=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"homeItemPre",y,o(t)),n(t,"pageView",v,o(t)),n(t,"coinItem",U,o(t)),t.curPageIdx=0,t.maxPageCnt=0,t}i(t,e);var r=t.prototype;return r.onOpen=function(e){this.coinItem.init(m.CurCoin);for(var t=0;t<3;t++){var i=s(this.homeItemPre);this.pageView.addPage(i)}this.maxPageCnt=this.pageView.content.children.length},r.onClose=function(e){},r.onBtnCloseClick=function(){this.close(),this.open(h.Main)},r.onBtnLeftClick=function(){this.curPageIdx=g.clamp(this.curPageIdx-1,0,this.maxPageCnt-1),this.pageView.scrollToPage(this.curPageIdx,.5)},r.onBtnRightClick=function(){this.curPageIdx=g.clamp(this.curPageIdx+1,0,this.maxPageCnt-1),this.pageView.scrollToPage(this.curPageIdx,.5)},r.onPageViewScrolling=function(){},r.onPageViewPageTurning=function(){},t}(p)).prototype,"homeItemPre",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(b.prototype,"pageView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(b.prototype,"coinItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=b))||x)||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./GameMode.ts","./AudioMgr.ts","./CollectMgr.ts","./CoinMgr.ts","./Global.ts","./PassRewardMgr.ts","./CoinItem.ts","./RedPoint.ts","./AdMgr.ts","./StorageUtil.ts"],(function(n){var t,e,i,o,r,a,u,c,l,s,p,f,d,h,C,b,R,g,m,I,P;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,r=n.asyncToGenerator},function(n){a=n.cclegacy,u=n._decorator,c=n.Widget},function(n){l=n.UIBase},function(n){s=n.UI},function(n){p=n.GameMgr},function(n){f=n.GameMode},function(n){d=n.AudioMgr},function(n){h=n.CollectMgr},function(n){C=n.CoinMgr},function(n){b=n.Global},function(n){R=n.DailyShareMgr},function(n){g=n.CoinItem},function(n){m=n.RedPoint},function(n){I=n.AdMgr},function(n){P=n.StorageUtil}],execute:function(){var y,M,G,w,k,B,S,_,U,v,A,D,T,z,E,F,O;a._RF.push({},"13f93pPWxlEjb7hG/ltNGEc","UIMain",void 0);var H=u.ccclass,x=u.property,N=u.requireComponent;n("UIMain",(y=H("UI/UIMain"),M=N(c),G=x(g),w=x(m),k=x(m),B=x(m),S=x(m),_=x(m),y(U=M(((O=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"coinItem",A,o(t)),i(t,"btnDecRedPoint",D,o(t)),i(t,"btnCollectRedPoint",T,o(t)),i(t,"btnHomeRedPoint",z,o(t)),i(t,"btnPassRewardRedPoint",E,o(t)),i(t,"btnGashaponRedPoint",F,o(t)),t}e(t,n);var a=t.prototype;return a.onOpen=function(n){this.coinItem.init(C.CurCoin),this.btnDecRedPoint.updateFunc=function(){return!P.getItem(t.DECORATION_VISIT_KEY,!1)},this.btnCollectRedPoint.updateFunc=function(){return h.hasCollectCanUnlock()},this.btnHomeRedPoint.updateFunc=function(){return C.CurCoin>=b.HomePeice_Unlock_Cost},this.btnGashaponRedPoint.updateFunc=function(){return C.CurCoin>=b.Gashapon_One_Cost},this.btnPassRewardRedPoint.updateFunc=function(){return R.canShare()||R.hasRewardToCollect()},d.playBgm("主界面音乐")},a.onClose=function(n){d.stopBgm()},a.onBtnStartClick=function(){var n=r((function*(){yield I.showInterstitialAd(),p.Mode=f.Normal,p.startGame(),this.delayClose(.5)}));return function(){return n.apply(this,arguments)}}(),a.onBtnSuperClick=function(){var n=r((function*(){yield I.showInterstitialAd(),p.Mode=f.Super,p.SuperLevel=1,p.startGame(),this.delayClose(.5)}));return function(){return n.apply(this,arguments)}}(),a.onBtnSettingClick=function(){this.open(s.Setting)},a.onBtnGashaponClick=function(){this.close(),this.open(s.Gashapon)},a.onBtnCollectClick=function(){this.open(s.Collect)},a.onBtnxiaoyouxiClick=function(){P.setItem(t.DECORATION_VISIT_KEY,!0),this.open(s.xiaoyouxi)},a.onBtnHomeClick=function(){this.close(),this.open(s.Home)},a.onBtnRewardClick=function(){this.open(s.PassReward)},a.onBtnRankClick=function(){this.open(s.Rank)},t}(l)).DECORATION_VISIT_KEY="decorationFirstVisit",A=t((v=O).prototype,"coinItem",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(v.prototype,"btnDecRedPoint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(v.prototype,"btnCollectRedPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(v.prototype,"btnHomeRedPoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(v.prototype,"btnPassRewardRedPoint",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"btnGashaponRedPoint",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=v))||U)||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIType.ts","./EventMgr.ts","./EventType.ts","./ResMgr.ts","./UIBase.ts","./UI.ts"],(function(t){var e,i,n,s,o,r,p,a,c,u,l,h,d,f,g,U,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator},function(t){r=t.cclegacy,p=t._decorator,a=t.Node,c=t.Component,u=t.instantiate,l=t.isValid},function(t){h=t.UIType},function(t){d=t.EventMgr},function(t){f=t.EventType},function(t){g=t.ResMgr},function(t){U=t.UIBase},function(t){_=t.UI}],execute:function(){var I,v,y,M,k,S;r._RF.push({},"2c522MGUX1PWKPa7gjqU4Ab","UIMgr",void 0);var b=p.ccclass,R=p.property;t("UIMgr",(I=b("Manager/UIMgr"),v=R(a),I(((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"popUpMask",k,s(e)),e}return i(e,t),e.prototype.onLoad=function(){globalThis.UIMgr=e,e._inst=this,e._node=this.node,e.init(),e.regist()},e.init=function(){d.on(f.OpenUI,this.open,this),d.on(f.CloseUI,this.close,this)},e.open=function(){var t=o((function*(t,e,i){if(!this.isOpened(t)){g.isLoaded("ui",t)||(yield g.loadRes("ui",t));var n=g.getRes("ui",t);if(n){var s=this._register[t];(null==s?void 0:s.ref)&&n.addRef();var o=u(n),r=o.getComponent(U);if(i||(i=r.uiType),this._node.children[i].addChild(o),r.onOpen(e),i===h.PopUp){var p=o.getSiblingIndex();this._inst.popUpMask.active=!0,this._inst.popUpMask.setSiblingIndex(p-1),this._popUpStack.push(t)}i===h.Toast?(l(this._toast)&&this._toast.destroy(),this._toast=o):this._openedUI[t]=r}}}));return function(e,i,n){return t.apply(this,arguments)}}(),e.close=function(t,e){if(this.isOpened(t)){var i=this._register[t];if(null!=i&&i.ref){var n=g.getRes("ui",t);n.decRef(),n.refCount}var s=this._openedUI[t];if(s.uiType===h.PopUp){var o=this._popUpStack.indexOf(t);if(this._popUpStack.splice(o,1),this._popUpStack.length<=0)this._inst.popUpMask.active=!1;else{var r=this._popUpStack[this._popUpStack.length-1],p=this._openedUI[r].node.getSiblingIndex();this._inst.popUpMask.setSiblingIndex(Math.max(0,p))}}s.onClose(e),delete this._openedUI[t],s.node.destroy()}},e.get=function(t){return this._openedUI[t]},e.isOpened=function(t){return this._openedUI.hasOwnProperty(t)},e.regist=function(){this._register[_.Main]={ref:!1},this._register[_.Pause]={ref:!1},this._register[_.Rank]={ref:!1}},e}(c))._inst=null,S._node=null,S._openedUI={},S._popUpStack=[],S._toast=null,S._register={},k=e((M=S).prototype,"popUpMask",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=M))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPassReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./UIBase.ts","./PassRewardMgr.ts","./TrackMgr.ts","./UI.ts","./ResMgr.ts","./Bundle.ts","./ItemType.ts","./ItemMgr.ts"],(function(e){var s,o,t,a,r,n,i,l,c,d,u,h,w,I,p,g,f,R,b;return{setters:[function(e){s=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,i=e.Widget,l=e.Label,c=e.Node,d=e.Sprite},function(e){u=e.WECHAT},function(e){h=e.UIBase},function(e){w=e.DailyShareMgr},function(e){I=e.TrackMgr},function(e){p=e.UI},function(e){g=e.ResMgr},function(e){f=e.Bundle},function(e){R=e.ItemType},function(e){b=e.ItemMgr}],execute:function(){var m,U,P,y,S,v,C,T,k,M,q,x,F,_,z,B;r._RF.push({},"a4299iX6cZCU5/ndRDbdW7L","UIPassReward",void 0);var A=n.ccclass,L=n.property,W=n.requireComponent;e("UIPassReward",(m=A("UI/UIPassReward"),U=W(i),P=L(l),y=L(c),S=L(c),v=L(c),C=L(d),T=L(d),m(k=U((q=s((M=function(e){function s(){for(var s,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return s=e.call.apply(e,[this].concat(r))||this,t(s,"lbTip",q,a(s)),t(s,"btnShare",x,a(s)),t(s,"btnCollect",F,a(s)),t(s,"rewardBox",_,a(s)),t(s,"questionIcon",z,a(s)),t(s,"rewardIcon",B,a(s)),s}o(s,e);var r=s.prototype;return r.onOpen=function(e){this.updateState()},r.onClose=function(e){},r.updateState=function(){var e=w.canShare(),s=w.hasRewardToCollect(),o=w.isTodayCompleted();console.log("[UIPassReward] updateState - canShare:",e,"hasReward:",s,"isCompleted:",o),o?(this.btnShare&&(this.btnShare.active=!1),this.btnCollect&&(this.btnCollect.active=!1),this.lbTip&&(this.lbTip.string="记得明天再来哦～"),this.showQuestionMark()):s?(this.btnShare&&(this.btnShare.active=!1),this.btnCollect&&(this.btnCollect.active=!0),this.lbTip&&(this.lbTip.string="分享成功！点击领取奖励"),this.showReward()):e?(this.btnShare&&(this.btnShare.active=!0),this.btnCollect&&(this.btnCollect.active=!1),this.lbTip&&(this.lbTip.string="每日分享可获得未知奖励"),this.showQuestionMark()):(this.btnShare&&(this.btnShare.active=!1),this.btnCollect&&(this.btnCollect.active=!1),this.lbTip&&(this.lbTip.string="今日已分享"),this.showQuestionMark())},r.showQuestionMark=function(){this.questionIcon&&(this.questionIcon.node.active=!0),this.rewardIcon&&(this.rewardIcon.node.active=!1)},r.showReward=function(){var e=w.getTodayReward();if(console.log("[UIPassReward] showReward called with reward:",e),!e)return console.log("[UIPassReward] No reward, showing question mark"),void this.showQuestionMark();if(console.log("[UIPassReward] questionIcon exists:",!!this.questionIcon),console.log("[UIPassReward] rewardIcon exists:",!!this.rewardIcon),this.questionIcon&&this.rewardIcon&&(console.log("[UIPassReward] questionIcon === rewardIcon:",this.questionIcon===this.rewardIcon),console.log("[UIPassReward] questionIcon node:",this.questionIcon.node.name),console.log("[UIPassReward] rewardIcon node:",this.rewardIcon.node.name)),this.questionIcon&&(this.questionIcon.node.active=!1,console.log("[UIPassReward] questionIcon hidden")),this.rewardIcon&&(this.rewardIcon.node.active=!0,console.log("[UIPassReward] rewardIcon shown")),0===e.itemId)if(console.log("[UIPassReward] Processing coin reward"),this.rewardIcon){console.log("[UIPassReward] Loading coin sprite...");try{this.rewardIcon.spriteFrame=g.getSpriteFrame(f.UI,"zzb","image/common/"),console.log("[UIPassReward] Coin sprite assigned successfully")}catch(e){console.error("[UIPassReward] Failed to load coin sprite:",e)}}else console.log("[UIPassReward] rewardIcon is null!");else{console.log("[UIPassReward] Processing item reward, itemId:",e.itemId);var s=b.getType(e.itemId);if(console.log("[UIPassReward] Item type:",s),s===R.Skill){var o="";switch(e.itemId){case 1:o="icon_bd";break;case 2:o="icon_pd";break;case 3:o="icon_yc"}if(console.log("[UIPassReward] Selected icon name:",o),this.rewardIcon&&o){console.log("[UIPassReward] Loading item sprite from uiPassReward:",f.UI,o,"image/uiPassReward/");try{this.rewardIcon.spriteFrame=g.getSpriteFrame(f.UI,o,"image/uiPassReward/"),console.log("[UIPassReward] Item sprite assigned successfully from uiPassReward")}catch(e){console.error("[UIPassReward] Failed to load item sprite from uiPassReward:",e);try{console.log("[UIPassReward] Fallback: Loading from Icon bundle"),this.rewardIcon.spriteFrame=g.getSpriteFrame(f.Icon,o,"item/"),console.log("[UIPassReward] Fallback loading successful")}catch(e){console.error("[UIPassReward] Fallback loading also failed:",e)}}}else console.log("[UIPassReward] rewardIcon or iconName is missing:",!!this.rewardIcon,o)}}},r.onBtnCloseClick=function(){this.close()},r.onBtnShareClick=function(){var e=this;if(console.log("[UIPassReward] 分享按钮被点击"),!w.canShare())return console.log("[UIPassReward] 今日已分享过了"),void this.open(p.Toast,"今日已分享过了");console.log("[UIPassReward] 开始分享流程"),console.log("[UIPassReward] 环境检查 - WECHAT:",u,"typeof wx:",typeof wx),"undefined"!=typeof wx&&wx.shareAppMessage?(console.log("[UIPassReward] 微信环境，调用wx.shareAppMessage"),wx.shareAppMessage({title:"我是办公室摸鱼新宠！老板路过前赶紧滑两下，快帮我消灭它们！",imageUrl:"https://mmocgame.qpic.cn/wechatgame/tMyjfVdAWpVvxjZfYrVuXxR1lmpvWWSdF8KP65gcU7uMY77gwxicPw0OrJU5lMnyV/0",success:function(){console.log("[UIPassReward] 微信分享成功回调"),I.track("daily_share",{result:"success"}),w.onShareComplete(),console.log("[UIPassReward] 分享状态更新完成，刷新UI"),e.updateState()},fail:function(s){console.log("[UIPassReward] 微信分享失败回调",s),I.track("daily_share",{result:"fail"}),e.open(p.Toast,"分享失败，请重试")}}),console.log("[UIPassReward] 微信分享API调用完成，立即处理成功状态"),I.track("daily_share",{result:"success_immediate"}),w.onShareComplete(),console.log("[UIPassReward] 立即分享状态更新完成，刷新UI"),this.updateState()):(console.log("[UIPassReward] 非微信环境，模拟分享成功"),I.track("daily_share",{result:"simulate"}),w.onShareComplete(),console.log("[UIPassReward] 模拟分享状态更新完成，刷新UI"),this.updateState())},r.onBtnCollectClick=function(){w.hasRewardToCollect()?(I.track("daily_share_collect"),w.collectReward(),this.updateState()):this.open(p.Toast,"没有奖励可领取")},s}(h)).prototype,"lbTip",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=s(M.prototype,"btnShare",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=s(M.prototype,"btnCollect",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=s(M.prototype,"rewardBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=s(M.prototype,"questionIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=s(M.prototype,"rewardIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=M))||k)||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPause.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./Setting.ts","./AudioMgr.ts"],(function(t){var e,n,i,o,r,u,s,c,a,l,f,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,s=t.Widget,c=t.Toggle},function(t){a=t.UIBase},function(t){l=t.UI},function(t){f=t.GameMgr},function(t){g=t.Setting},function(t){p=t.AudioMgr}],execute:function(){var d,h,m,B,b,y,I,C;r._RF.push({},"9f380B0izdKPaV3/4q4Vp9j","UIPause",void 0);var S=u.ccclass,P=u.property,U=u.requireComponent;t("UIPause",(d=S("UI/UIPause"),h=U(s),m=P(c),B=P(c),d(b=h((I=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,i(e,"tgSfx",I,o(e)),i(e,"tgBgm",C,o(e)),e}n(e,t);var r=e.prototype;return r.onOpen=function(t){f.Pause=!0,this.tgSfx.setIsCheckedWithoutNotify(g.SfxEnabled),this.tgBgm.setIsCheckedWithoutNotify(g.BgmEnabled)},r.onClose=function(t){f.Pause=!1},r.onBtnQuitClick=function(){this.close(),this.open(l.Fail)},r.onBtnContinueClick=function(){this.close()},r.onBtnCloseClick=function(){this.close()},r.onTgSfxClick=function(){g.SfxEnabled=!g.SfxEnabled},r.onTgBgmClick=function(){g.BgmEnabled=!g.BgmEnabled,g.BgmEnabled?p.resumeBgm():p.pauseBgm()},e}(a)).prototype,"tgSfx",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"tgBgm",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b)||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIRank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./RankMgr.ts","./GameMgr.ts","./RankItem.ts"],(function(e){var n,t,i,o,r,a,s,l,c,u,h,d,k,p,v,y,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator},function(e){a=e.cclegacy,s=e._decorator,l=e.Widget,c=e.Node,u=e.Label,h=e.Prefab,d=e.instantiate,k=e.UITransform},function(e){p=e.UIBase},function(e){v=e.RankMgr},function(e){y=e.GameMgr},function(e){f=e.RankItem}],execute:function(){var R,g,w,C,I,m,x,U,z,P,b,O,N,L,W,A,E,_;a._RF.push({},"ab975fudz9Ji6N0qDxAskW/","UIRank",void 0);var T=s.ccclass,D=s.property,M=s.requireComponent;e("UIRank",(R=T("UI/UIRank"),g=M(l),w=D(c),C=D(c),I=D(u),m=D(h),x=D(c),U=D(c),z=D(c),R(P=g((O=n((b=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"layout",O,o(n)),i(n,"selfItem",N,o(n)),i(n,"lbLevel",L,o(n)),i(n,"rankItemPre",W,o(n)),i(n,"rankOverlay",A,o(n)),i(n,"localRankNode",E,o(n)),i(n,"wxRankNode",_,o(n)),n._openContext=null,n.isWeChatEnvironment=!1,n.isPrivacyAuthorized=!1,n.isInitialized=!1,n}t(n,e);var a=n.prototype;return a.onLoad=function(){this.isWeChatEnvironment="undefined"!=typeof wx&&"function"==typeof wx.getOpenDataContext,this.rankOverlay||console.error("[UIRank] rankOverlay node is not assigned in the inspector"),this.localRankNode||console.error("[UIRank] localRankNode is not assigned in the inspector"),this.wxRankNode||console.error("[UIRank] wxRankNode is not assigned in the inspector"),this.localRankNode&&(this.localRankNode.active=!1),this.wxRankNode&&(this.wxRankNode.active=!1),this.rankOverlay&&(this.rankOverlay.active=!1)},a.onOpen=function(){var e=r((function*(e){if(yield new Promise((function(e){return requestAnimationFrame(e)})),this.isInitialized)this.isWeChatEnvironment&&this.isPrivacyAuthorized&&this._openContext&&(yield this.showWxRank());else if(this.isInitialized=!0,this.isWeChatEnvironment)try{(yield this.checkPrivacyAuthorization())&&(yield new Promise((function(e){return setTimeout(e,100)})),yield this.initOpenContext(),yield this.showWxRank())}catch(e){console.error("[UIRank] Failed to initialize WeChat rank:",e)}}));return function(n){return e.apply(this,arguments)}}(),a.checkPrivacyAuthorization=function(){var e=r((function*(){var e=this;if(!this.isWeChatEnvironment)return!1;try{return(yield new Promise((function(e,n){wx.getPrivacySetting({success:function(n){return e(n)},fail:function(e){return n(e)}})}))).needAuthorization?(console.log("[UIRank] Privacy authorization needed, showing dialog"),new Promise((function(n){wx.requirePrivacyAuthorize({success:function(){console.log("[UIRank] Privacy authorization granted by user"),e.isPrivacyAuthorized=!0,n(!0)},fail:function(){console.log("[UIRank] Privacy authorization denied by user"),e.isPrivacyAuthorized=!1,n(!1)}})}))):(console.log("[UIRank] Privacy setting check indicates authorization is not needed."),this.isPrivacyAuthorized=!0,!0)}catch(e){return console.error("[UIRank] Privacy check failed:",e),this.isPrivacyAuthorized=!1,!1}}));return function(){return e.apply(this,arguments)}}(),a.initOpenContext=function(){var e=r((function*(){if(this.isWeChatEnvironment&&this.isPrivacyAuthorized)if(this._openContext)console.log("[UIRank] OpenContext already initialized");else try{console.log("[UIRank] Initializing OpenContext...");var e=wx.getOpenDataContext();if(e&&"function"==typeof e.postMessage)return console.log("[UIRank] Successfully obtained OpenDataContext"),this._openContext=e,void(yield this.updateViewport());throw new Error("Invalid OpenContext")}catch(e){throw console.error("[UIRank] Error during OpenContext initialization:",e),this.showErrorToast("排行榜初始化失败"),e}else console.log("[UIRank] Cannot initialize OpenContext: environment or privacy check failed")}));return function(){return e.apply(this,arguments)}}(),a.updateViewport=function(){var e=r((function*(){if(this._openContext&&this.rankOverlay)try{if(yield new Promise((function(e){return requestAnimationFrame(e)})),!this.rankOverlay.isValid)return void console.log("[UIRank] RankOverlay node is no longer valid");var e=this.rankOverlay.getComponent(k);if(!e)return void console.error("[UIRank] RankOverlay missing UITransform component");var n=this.rankOverlay.worldPosition,t=e.width,i=e.height;if(!n)return void console.error("[UIRank] Cannot update viewport: worldPosition is null");this._openContext.postMessage({type:"engine",event:"viewport",x:n.x,y:n.y,width:t,height:i}),console.log("[UIRank] Updated viewport:",{x:n.x,y:n.y,width:t,height:i})}catch(e){console.error("[UIRank] Error updating viewport:",e)}else console.log("[UIRank] Cannot update viewport: missing openContext or rankOverlay")}));return function(){return e.apply(this,arguments)}}(),a.updateLocalRankList=function(){if(this.selfItem&&this.layout&&this.lbLevel)try{var e=v.getRankByName("自己")<7;this.selfItem.active=!e,this.lbLevel.string=y.CurLevel+"关";var n=e?7:6;this.layout.removeAllChildren();for(var t=0;t<n;t++){if(!this.rankItemPre)return void console.error("[UIRank] rankItemPre prefab not assigned");var i=d(this.rankItemPre);if(i){this.layout.addChild(i);var o=i.getComponent(f);if(o){var r=v.RankArr[t];r?o.init(t,r):console.warn("[UIRank] No rank data for index "+t)}else console.error("[UIRank] RankItem component not found on instantiated node")}else console.error("[UIRank] Failed to instantiate rank item")}}catch(e){console.error("[UIRank] Error updating local rank list:",e)}else console.error("[UIRank] Required nodes for local rank not found:",{selfItem:!!this.selfItem,layout:!!this.layout,lbLevel:!!this.lbLevel})},a.showLocalRank=function(){console.log("[UIRank] Showing local rank"),this.localRankNode?(this.wxRankNode&&(this.wxRankNode.active=!1),this.rankOverlay&&(this.rankOverlay.active=!1),this.localRankNode.active=!0,this.updateLocalRankList()):console.error("[UIRank] localRankNode is null")},a.showWxRank=function(){var e=r((function*(){if(console.log("[UIRank] Attempting to show WeChat rank"),!this.isWeChatEnvironment||!this.isPrivacyAuthorized)return console.log("[UIRank] Cannot show WeChat rank, conditions not met:",{isWeChatEnvironment:this.isWeChatEnvironment,isPrivacyAuthorized:this.isPrivacyAuthorized}),void this.showLocalRank();if(!this.wxRankNode||!this.rankOverlay)return console.error("[UIRank] Required nodes not found:",{wxRankNode:!!this.wxRankNode,rankOverlay:!!this.rankOverlay}),void this.showLocalRank();try{if(this._openContext||(yield this.initOpenContext()),!this._openContext)return console.error("[UIRank] Failed to initialize OpenContext"),void this.showLocalRank();console.log("[UIRank] Showing WeChat rank"),this.localRankNode&&(this.localRankNode.active=!1),this.wxRankNode.active=!0,this.rankOverlay.active=!0,yield new Promise((function(e){return setTimeout(e,100)})),yield this.updateViewport(),this._openContext.postMessage({type:"engine",event:"show",key:"passCount"}),console.log("[UIRank] Refreshed WeChat rank display")}catch(e){console.error("[UIRank] Error showing WeChat rank:",e),this.showLocalRank()}}));return function(){return e.apply(this,arguments)}}(),a.onClose=function(e){var n;this.isWeChatEnvironment&&this._openContext&&null!=(n=this.wxRankNode)&&n.active&&this._openContext.postMessage({type:"engine",event:"hide"}),this.localRankNode&&(this.localRankNode.active=!1),this.wxRankNode&&(this.wxRankNode.active=!1),this.rankOverlay&&(this.rankOverlay.active=!1)},a.onBtnCloseClick=function(){this.close()},a.reportPassToWxRank=function(){var e=r((function*(){if(this.isWeChatEnvironment)try{if(!(yield this.checkPrivacyAuthorization()))return void console.log("[UIRank] Cannot report pass: privacy not authorized");this._openContext||(yield this.initOpenContext());var e=yield new Promise((function(e,n){wx.getUserCloudStorage({keyList:["passCount"],success:e,fail:n})})),n=0;if(e.KVDataList&&e.KVDataList.length>0){var t=e.KVDataList.find((function(e){return"passCount"===e.key}));t&&(n=parseInt(t.value)||0)}var i=n+1;yield new Promise((function(e,n){wx.setUserCloudStorage({KVDataList:[{key:"passCount",value:""+i}],success:e,fail:n})})),console.log("[UIRank] Successfully reported pass count: "+i),this._openContext&&this._openContext.postMessage({type:"engine",event:"dataUpdate",key:"passCount"})}catch(e){console.error("[UIRank] Error reporting pass count:",e),this.showErrorToast("记录更新失败")}else console.log("[UIRank] Cannot report pass: not in WeChat environment")}));return function(){return e.apply(this,arguments)}}(),a.showErrorToast=function(e){this.isWeChatEnvironment&&"function"==typeof wx.showToast&&wx.showToast({title:e,icon:"none",duration:2e3})},n}(p)).prototype,"layout",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(b.prototype,"selfItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(b.prototype,"lbLevel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(b.prototype,"rankItemPre",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(b.prototype,"rankOverlay",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(b.prototype,"localRankNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(b.prototype,"wxRankNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=b))||P)||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIReplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts"],(function(n){var e,t,o,i,c,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,i=n.Widget},function(n){c=n.UIBase},function(n){s=n.GameMgr}],execute:function(){var r;t._RF.push({},"269f7XcQRpFiK9QjxRWiOY+","UIReplay",void 0);var u=o.ccclass,a=(o.property,o.requireComponent);n("UIReplay",u("UI/UIReplay")(r=a(i)(r=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onOpen=function(n){s.Pause=!0},o.onClose=function(n){s.Pause=!1},o.onBtnContinueClick=function(){this.close()},o.onBtnReplayClick=function(){s.startGame(),this.close()},o.onBtnCloseClick=function(){this.close()},t}(c))||r)||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIRevive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UI.ts","./GameMgr.ts","./EventMgr.ts","./EventType.ts","./GameMode.ts","./AdMgr.ts"],(function(e){var i,n,t,o,r,a,c,s,l,u,f,p,v,d,h,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Widget,s=e.Label,l=e.Node},function(e){u=e.UIBase},function(e){f=e.UI},function(e){p=e.GameMgr},function(e){v=e.EventMgr},function(e){d=e.EventType},function(e){h=e.GameMode},function(e){y=e.AdMgr}],execute:function(){var g,T,b,I,M,R,m,U;r._RF.push({},"a186eB7CSRBNoppDC1ert1x","UIRevive",void 0);var B=a.ccclass,C=a.property,w=a.requireComponent;e("UIRevive",(g=B("UI/UIRevive"),T=w(c),b=C(s),I=C([l]),g(M=T((m=i((R=function(e){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,t(i,"lbTip",m,o(i)),t(i,"failNodes",U,o(i)),i.failType=void 0,i}n(i,e);var r=i.prototype;return r.onOpen=function(e){var i=this;p.Pause=!0,this.failType=e,this.failNodes.forEach((function(e,n){e.active=n===i.failType}));var n=p.isHardLevel||p.Mode===h.Super?5:1;this.scheduleOnce((function(){i.lbTip.string="复活并加时"+n+"分钟"}))},r.onClose=function(e){p.Pause=!1},r.onBtnReviveClick=function(){var e=this;y.showRewardedVideo((function(i){v.emit(d.Revive,e.failType),e.close()}),(function(){e.open(f.Toast,"激励视频播放未完成")}),(function(){e.open(f.Toast,"暂时没有合适的广告")}))},r.onBtnCloseClick=function(){this.close(),this.open(f.Fail)},i}(u)).prototype,"lbTip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(R.prototype,"failNodes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=R))||M)||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/UISetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./Setting.ts","./AudioMgr.ts","./Global.ts"],(function(t){var e,n,i,o,r,l,u,a,s,c,g,f,b,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,u=t.Widget,a=t.Toggle,s=t.Label},function(t){c=t.UIBase},function(t){g=t.GameMgr},function(t){f=t.Setting},function(t){b=t.AudioMgr},function(t){p=t.Global}],execute:function(){var d,m,h,B,S,y,I,v,x,C;r._RF.push({},"d59142/iI5MZYvh8knF5b5G","UISetting",void 0);var k=l.ccclass,E=l.property,U=l.requireComponent;t("UISetting",(d=k("UI/UISetting"),m=U(u),h=E(a),B=E(a),S=E(s),d(y=m((v=e((I=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"tgSfx",v,o(e)),i(e,"tgBgm",x,o(e)),i(e,"lbVersion",C,o(e)),e}n(e,t);var r=e.prototype;return r.onOpen=function(t){g.Pause=!0,this.tgSfx.setIsCheckedWithoutNotify(f.SfxEnabled),this.tgBgm.setIsCheckedWithoutNotify(f.BgmEnabled),this.lbVersion.string="v"+p.Version},r.onClose=function(t){g.Pause=!1},r.onBtnCloseClick=function(){this.close()},r.onTgSfxClick=function(){f.SfxEnabled=!f.SfxEnabled},r.onTgBgmClick=function(){f.BgmEnabled=!f.BgmEnabled,f.BgmEnabled?b.resumeBgm():b.pauseBgm()},e}(c)).prototype,"tgSfx",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(I.prototype,"tgBgm",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(I.prototype,"lbVersion",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=I))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/UISkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./SkillMgr.ts","./GameMgr.ts","./UI.ts","./AdMgr.ts","./TrackMgr.ts"],(function(t){var i,e,s,n,l,a,r,o,h,c,u,S,k,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,r=t.Widget,o=t.Node},function(t){h=t.UIBase},function(t){c=t.SkillMgr},function(t){u=t.GameMgr},function(t){S=t.UI},function(t){k=t.AdMgr},function(t){g=t.TrackMgr}],execute:function(){var f,d,p,w,_,m,y,v;l._RF.push({},"26b12M+SaxJvKeKOhwaFZyy","UISkill",void 0);var b=a.ccclass,T=a.property,x=a.requireComponent;t("UIGetSkill",(f=b("UI/UIGetSkill"),d=x(r),p=T([o]),w=T([o]),f(_=d((y=i((m=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l))||this,s(i,"contents",y,n(i)),s(i,"btnShares",v,n(i)),i.skill=null,i.SHARE_COUNT_KEY="skill_share_count_",i.SHARE_DATE_KEY="skill_share_date_",i.isSharing=!1,i.shareTimer=null,i}e(i,t);var l=i.prototype;return l.onOpen=function(t){u.Pause=!0,this.skill=t;for(var i=0;i<this.contents.length;i++){this.contents[i].active=this.skill===i}this.checkAndUpdateShareState(),this.setupShareCallback()},l.onClose=function(t){u.Pause=!1,this.clearShareTimer(),window.wx&&window.wx.offShow(this.onWxShow)},l.clearShareTimer=function(){this.shareTimer&&(clearTimeout(this.shareTimer),this.shareTimer=null)},l.setupShareCallback=function(){window.wx&&window.wx.onShow(this.onWxShow.bind(this))},l.onWxShow=function(){var t=this;this.isSharing&&(this.isSharing=!1,this.shareTimer=setTimeout((function(){t.handleShareSuccess()}),100))},l.getStorageKey=function(t){return"zxz_"+t+(null!==this.skill?this.skill.toString():"0")},l.getShareCount=function(){try{return parseInt(localStorage.getItem("skill_"+this.skill+"_share_count")||"0")}catch(t){return 0}},l.getShareDate=function(){try{return localStorage.getItem("skill_"+this.skill+"_share_date")||""}catch(t){return""}},l.setShareData=function(t,i){try{localStorage.setItem("skill_"+this.skill+"_share_count",t.toString()),localStorage.setItem("skill_"+this.skill+"_share_date",i)}catch(t){}},l.checkAndUpdateShareState=function(){if(null!==this.skill&&void 0!==this.skill){var t=(new Date).toDateString(),i=this.getShareCount(),e=this.getShareDate();e&&e===t?this.updateShareButtonVisibility(i):(this.setShareData(0,t),this.updateShareButtonVisibility(0))}},l.updateShareButtonVisibility=function(t){if(null!==this.skill&&void 0!==this.skill&&this.btnShares[this.skill]){var i=t<1;this.btnShares[this.skill].active=i}},l.handleShareSuccess=function(){if(null!==this.skill&&void 0!==this.skill)try{var t=(new Date).toDateString();c.addSkill(this.skill),this.setShareData(1,t),this.updateShareButtonVisibility(1),g.track("get_skill_by_share",{skill_name:c.getSkillName(this.skill)}),this.close()}catch(t){}},l.onBtnShareClick=function(){var t=this;null!==this.skill&&void 0!==this.skill&&(window.wx&&window.wx.shareAppMessage?(this.isSharing=!0,window.wx.shareAppMessage({title:"指尖连击×10！今日KPI：把它们统统消灭！",imageUrl:"https://mmocgame.qpic.cn/wechatgame/tMyjfVdAWpVvxjZfYrVuXxR1lmpvWWSdF8KP65gcU7uMY77gwxicPw0OrJU5lMnyV/0",fail:function(){t.isSharing=!1,t.open(S.Toast,"分享失败，请重试")}})):this.open(S.Toast,"当前环境不支持分享"))},l.onBtnGetClick=function(){var t=this;k.showRewardedVideo((function(i){g.track("get_skill",{skill_name:c.getSkillName(t.skill)}),c.addSkill(t.skill),t.close()}),(function(){t.open(S.Toast,"激励视频播放未完成")}),(function(){t.open(S.Toast,"暂时没有合适的广告")}))},l.onBtnCloseClick=function(){this.close()},i}(h)).prototype,"contents",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=i(m.prototype,"btnShares",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=m))||_)||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIStageTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){var i,e,r,n,o,a,l,p,u,c,s,f,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Widget,p=t.Label,u=t.Node,c=t.UIOpacity,s=t.tween,f=t.v3},function(t){y=t.UIBase}],execute:function(){var b,g,h,d,v,w,I,T,U,O;o._RF.push({},"20f65pXklxMXLCKLZwpj4Q3","UIStageTip",void 0);var m=a.ccclass,z=a.property,L=a.requireComponent;t("UIStageTip",(b=m("UI/UIStageTip"),g=L(l),h=z(p),d=z(u),v=z(c),b(w=g((T=i((I=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"lbTip",T,n(i)),r(i,"arrow",U,n(i)),r(i,"uiOpacity",O,n(i)),i}e(i,t);var o=i.prototype;return o.onOpen=function(t){var i=this;this.lbTip.string=t,s(this.lbTip.node).to(.5,{position:f(0,0,0)},{easing:"sineOut"}).start(),s(this.arrow).to(10,{position:f(850,0)}).start(),s(this.uiOpacity).delay(2).to(1,{opacity:0}).call((function(){i.node.destroy()})).start()},o.onClose=function(t){},i}(y)).prototype,"lbTip",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(I.prototype,"arrow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(I.prototype,"uiOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=I))||w)||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/UISuperWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./UI.ts","./AudioMgr.ts","./CoinMgr.ts","./TimeMgr.ts","./InputBlock.ts","./CoinItem.ts","./Global.ts"],(function(n){var t,e,i,o,r,u,c,a,s,l,p,f,I,C,y,g,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,r=n.asyncToGenerator},function(n){u=n.cclegacy,c=n._decorator,a=n.Widget},function(n){s=n.UIBase},function(n){l=n.GameMgr},function(n){p=n.UI},function(n){f=n.AudioMgr},function(n){I=n.CoinMgr},function(n){C=n.TimeMgr},function(n){y=n.InputBlock},function(n){g=n.CoinItem},function(n){m=n.Global}],execute:function(){var d,h,v,M,U,b;u._RF.push({},"55107CbYKpNdYvorZkVfQTb","UISuperWin",void 0);var _=c.ccclass,B=c.property,G=c.requireComponent;n("UISuperWin",(d=_("UI/UISuperWin"),h=G(a),v=B(g),d(M=h((b=t((U=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return t=n.call.apply(n,[this].concat(r))||this,i(t,"coinItem",b,o(t)),t}e(t,n);var u=t.prototype;return u.onOpen=function(n){l.Pause=!0,this.coinItem.init(I.CurCoin),f.stopBgm(),f.playSfx("a通关成功"),I.CurCoin+=m.Super_Level_Coin_Default_Cnt},u.onClose=function(n){l.Pause=!1,y.Active=!1},u.onBtnGetClick=function(){var n=r((function*(){y.Active=!0,this.coinItem.updateCoin(I.CurCoin),yield C.delay(2),l.quitGame(),yield C.delay(.5),this.close(),this.open(p.Main)}));return function(){return n.apply(this,arguments)}}(),t}(s)).prototype,"coinItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=U))||M)||M));u._RF.pop()}}}));

System.register("chunks:///_virtual/UIToast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){var n,o,e,s,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,s=t.Widget,r=t.Label},function(t){i=t.UIBase}],execute:function(){var c;o._RF.push({},"77689t//+dLirYhKMrlJsQa","UIToast",void 0);var a=e.ccclass,l=(e.property,e.requireComponent);t("UIToast",a("UI/UIToast")(c=l(s)(c=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).lbToast=null,n}n(o,t);var e=o.prototype;return e.onLoad=function(){this.lbToast=this.getComponentInChildren(r)},e.onDestroy=function(){this.unscheduleAllCallbacks()},e.onOpen=function(t){var n=this;this.lbToast.string=""+t,this.scheduleOnce((function(){n.node.destroy()}),2)},e.onClose=function(t){},o}(i))||c)||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/UITransition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(n){var t,e,o,r,i,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,r=n.Widget,i=n.tween,s=n.v3},function(n){c=n.UIBase}],execute:function(){var a;e._RF.push({},"faba7hDNr5JFqtokzdEi3+k","UITransition",void 0);var u=o.ccclass,l=(o.property,o.requireComponent);n("UITransition",u("UI/UITransition")(a=l(r)(a=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.onOpen=function(n){for(var t=this,e=this.node.children,o=0;o<e.length;o++){var r=e[o];i(r).sequence(i(r).to(.2,{angle:8}),i(r).to(.2,{angle:-8})).repeatForever().start(),i(r).by(1,{position:s(-2e3,0,0)}).start()}this.scheduleOnce((function(){t.close()}),1)},o.onClose=function(n){},e}(c))||a)||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIType.ts",["cc"],(function(o){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"5e880vRZzdPbr6TDMq95Hni","UIType",void 0);o("UIType",function(o){return o[o.Common=0]="Common",o[o.PopUp=1]="PopUp",o[o.Top=2]="Top",o[o.Toast=3]="Toast",o}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/UIWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./GameMgr.ts","./AudioMgr.ts","./Global.ts","./CoinMgr.ts","./ArrayUtil.ts","./InputBlock.ts","./TimeMgr.ts","./CoinItem.ts","./UI.ts","./AdMgr.ts","./RankMgr.ts","./TrackMgr.ts"],(function(t){var n,e,i,o,r,a,u,l,s,c,p,f,d,C,g,m,v,h,y,I,k,w,M,b,_,A,U,x;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass,a=t.asyncToGenerator},function(t){u=t.cclegacy,l=t._decorator,s=t.Widget,c=t.Node,p=t.Label,f=t.v2,d=t.tween,C=t.v3,g=t.math},function(t){m=t.UIBase},function(t){v=t.GameMgr},function(t){h=t.AudioMgr},function(t){y=t.Global},function(t){I=t.CoinMgr},function(t){k=t.ArrayUtil},function(t){w=t.InputBlock},function(t){M=t.TimeMgr},function(t){b=t.CoinItem},function(t){_=t.UI},function(t){A=t.AdMgr},function(t){U=t.RankMgr},function(t){x=t.TrackMgr}],execute:function(){var W,T,R,L,N,B,G,P,z,D,F,S;u._RF.push({},"53080JFSltPuag+WxVvfmJN","UIWin",void 0);var q=l.ccclass,J=l.property,O=l.requireComponent;t("UIWin",(W=q("UI/UIWin"),T=O(s),R=J(c),L=J(p),N=J(b),B=J(c),W(G=T((z=n((P=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"pointer",z,o(n)),i(n,"lbCoin",D,o(n)),i(n,"coinItem",F,o(n)),i(n,"rankNode",S,o(n)),n.coin=0,n.multi=1,n.uiRank=null,n.posArr=[f(-180,-90),f(-90,0),f(0,60),f(60,120),f(120,180)],n.multiArr=[2,3,4,3,2],n.tw=null,n}e(n,t);var u=n.prototype;return u.onOpen=function(){var t=a((function*(t){h.stopBgm(),h.playSfx("a通关成功"),A.showInterstitialAd(),x.track("game_win",{mode:v.CurrentModeTitle,level:v.GameLevelId}),this.coinItem.init(I.CurCoin),v.Pause=!0;this.tw=d(this.pointer).sequence(d(this.pointer).to(.75,{position:C(180,-170)}),d(this.pointer).to(.75,{position:C(-180,-170)})).repeatForever().start(),this.Coin=y.Normal_Level_Coin_Default_Cnt+(v.CurLevel-1)*y.Normal_Level_Coin_Add_Cnt,I.CurCoin+=this.coin,yield this.reportToWxRank(),U.updateRankData()}));return function(n){return t.apply(this,arguments)}}(),u.reportToWxRank=function(){var t=a((function*(){if("undefined"!=typeof wx)try{var t=wx.getOpenDataContext();t&&"function"==typeof t.postMessage&&(t.postMessage({type:"engine",event:"updatePassCount"}),console.log("[UIWin] Notified open data context to update pass count"))}catch(t){console.error("[UIWin] Error reporting pass to WeChat rank:",t)}else console.log("[UIWin] Not in WeChat environment, skipping rank report")}));return function(){return t.apply(this,arguments)}}(),u.onClose=function(t){this.tw&&(this.tw.stop(),this.tw=null),v.Pause=!1,w.Active=!1},u.onBtnMultiClick=function(){var t=a((function*(){var t=this,n=function(){var n=a((function*(n){x.track("get_level_reward",{is_video:"看"}),t.tw.stop();var e=k.pickItem([0,0,0,4,4,1,2,3]);t.multi=t.multiArr[e];var i=t.posArr[e],o=g.randomRangeInt(i.x,i.y);t.pointer.setPosition(o,-170);var r=(t.multi-1)*t.coin;t.Coin=t.multi*t.coin,I.CurCoin+=r,t.coinItem.updateCoin(I.CurCoin),v.CurLevel++,w.Active=!0,yield M.delay(2),v.startGame(),t.close()}));return function(t){return n.apply(this,arguments)}}();A.showRewardedVideo(n,(function(){t.open(_.Toast,"激励视频播放未完成")}),(function(){t.open(_.Toast,"暂时没有合适的广告")}))}));return function(){return t.apply(this,arguments)}}(),u.onBtnNextClick=function(){var t=a((function*(){this.coinItem.updateCoin(I.CurCoin),x.track("get_level_reward",{is_video:"没看"}),v.CurLevel++,w.Active=!0,yield M.delay(2),v.startGame(),this.close()}));return function(){return t.apply(this,arguments)}}(),r(n,[{key:"Coin",set:function(t){this.coin=Math.max(t,0),this.lbCoin.string="x"+this.coin}}]),n}(m)).prototype,"pointer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(P.prototype,"lbCoin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(P.prototype,"coinItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(P.prototype,"rankNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=P))||G)||G));u._RF.pop()}}}));

System.register("chunks:///_virtual/UIxiaoyouxi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CfgDec.ts","./DecItem.ts","./StorageUtil.ts","./DecMgr.ts","./CollectMgr.ts"],(function(t){var e,n,i,o,r,a,c,u,l,s,f,p,g,d,h,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Widget,u=t.Prefab,l=t.Node,s=t.instantiate},function(t){f=t.UIBase},function(t){p=t.CfgDec},function(t){g=t.DecItem},function(t){d=t.StorageUtil},function(t){h=t.DecMgr},function(t){C=t.CollectMgr}],execute:function(){var I,m,y,v,D,w,b,x,P,U;r._RF.push({},"78914c1yi1L9553D3+2a7+z","UIxiaoyouxi",void 0);var B=a.ccclass,M=a.property,z=a.requireComponent;t("UIxiaoyouxi",(I=B("UI/UIxiaoyouxi"),m=z(c),y=M(u),v=M(l),D=M(l),I(w=m((x=e((b=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"decItemPre",x,o(e)),i(e,"content",P,o(e)),i(e,"ballsButton",U,o(e)),e}n(e,t);var r=e.prototype;return r.onOpen=function(t){for(var e=p.length,n=0;n<e;n++){var i=p[n];this.createDecItem(i)}},r.onClose=function(t){},r.onBtnCloseClick=function(){this.close()},r.onBallsButtonClick=function(){window.wx&&window.wx.navigateToMiniProgram&&window.wx.navigateToMiniProgram({appId:"wx6ac4289de6475595",success:function(){},fail:function(t){}})},r.createDecItem=function(t){var e=s(this.decItemPre);this.content.addChild(e),e.getComponent(g).Data=t},r.onTest=function(){var t=C.Cnt;d.setItem("curCatchedPigCnt",t+1);for(var e=this.node.getComponentsInChildren(g),n=0;n<e.length;n++){e[n].updateData()}},r.onReset=function(){d.setItem("curCatchedPigCnt",0),h.reset();for(var t=this.node.getComponentsInChildren(g),e=0;e<t.length;e++){t[e].updateData()}},e}(f)).prototype,"decItemPre",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(b.prototype,"content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(b.prototype,"ballsButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w)||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Wechat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./EventMgr.ts","./EventType.ts"],(function(t){var n,e,o,i,r,s;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,o=t.sys},function(t){i=t.wx},function(t){r=t.EventMgr},function(t){s=t.EventType}],execute:function(){e._RF.push({},"70ff6chXrRJP7xFiRqW/U0/","Wechat",void 0),t("WeChat",function(){function t(){}return t.init=function(){o.platform===o.Platform.WECHAT_GAME&&(this._sysInfo=i.getSystemInfoSync(),i.onShow((function(t){r.emit(s.WxOnShow,t)})),i.onHide((function(){r.emit(s.WxOnHide)})))},t.reboot=function(){i.restartMiniProgram()},t.compareVersion=function(t,n){t=t.split("."),n=n.split(".");for(var e=Math.max(t.length,n.length);t.length<e;)t.push("0");for(;n.length<e;)n.push("0");for(var o=0;o<e;o++){var i=parseInt(t[o]),r=parseInt(n[o]);if(i>r)return 1;if(i<r)return-1}return 0},t.showToast=function(t,n,e){void 0===n&&(n="none"),void 0===e&&(e=1500),i.showToast({title:t,icon:n,duration:e})},t.hideToast=function(){i.hideToast({})},t.vibrate=function(){i.vibrateShort(null)},t.postMsg=function(t){i.getOpenDataContext().postMessage(t)},n(t,null,[{key:"StatusBarHeight",get:function(){var t,n;return null!=(t=null==(n=this._sysInfo)?void 0:n.statusBarHeight)?t:0}}]),t}())._sysInfo=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/WxAd.ts",["cc","./Global.ts","./Wechat.ts"],(function(n){var d,e,i;return{setters:[function(n){d=n.cclegacy},function(n){e=n.wx},function(n){i=n.WeChat}],execute:function(){d._RF.push({},"4475fPiCSpPnKWKVEpphPne","WxAd",void 0);var t=n("WxAd",function(){function n(){}return n.init=function(){var n=e.getSystemInfoSync();this._windowWidth=n.windowWidth,this._windowHeight=n.windowHeight},n.preloadRewardedVideo=function(){this.rewardedVideoAd=e.createRewardedVideoAd({adUnitId:""}),this.rewardedVideoAd.load().catch((function(n){}))},n.showRewardedVideo=function(n,d,t){var o=this;void 0===d&&(d=null),void 0===t&&(t=null),this.rewardedVideoAd=e.createRewardedVideoAd({adUnitId:""});this.rewardedVideoAd.offError(),this.rewardedVideoAd.onError((function(n){i.showToast("视频拉取失败"),t&&t()})),this.rewardedVideoAd.show().catch((function(n){o.rewardedVideoAd.load().then((function(){return o.rewardedVideoAd.show()}))}));this.rewardedVideoAd.offClose(),this.rewardedVideoAd.onClose((function(e){o.rewardedVideoAd&&(e&&e.isEnded||void 0===e?n&&n():(i.showToast("中途退出，不下发奖励"),d&&d()))}))},n.showInterstitialAd=function(){if(e){var n=e.createInterstitialAd({adUnitId:""});n.load().then((function(){n.show().then((function(){}))})).catch((function(n){}))}},n.createBanner=function(n){var d=this;this._bannerAd=e.createBannerAd({adUnitId:"",adIntervals:60,style:{width:this._windowWidth,left:0,top:0}}),this._bannerAd&&(this._bannerAd.onLoad((function(){n&&d.showBanner()})),this._bannerAd.onResize((function(n){d._bannerAd.style.top=d._windowHeight-d._bannerAd.style.realHeight})),this._bannerAd.onError((function(n){})))},n.showBanner=function(){this._bannerAd&&this._bannerAd.show().then((function(){})).catch((function(n){}))},n.hideBanner=function(){this._bannerAd&&this._bannerAd.hide()},n}());t.rewardedVideoAd=void 0,t._bannerAd=void 0,t._windowWidth=void 0,t._windowHeight=void 0,d._RF.pop()}}}));

System.register("chunks:///_virtual/WxShare.ts",["cc","./EventMgr.ts","./EventType.ts","./Wechat.ts","./Global.ts"],(function(t){var a,e,s,i,n,c;return{setters:[function(t){a=t.cclegacy,e=t.sys},function(t){s=t.EventMgr},function(t){i=t.EventType},function(t){n=t.WeChat},function(t){c=t.wx}],execute:function(){a._RF.push({},"e43f471eudFlLUTmelPpVbO","WxShare",void 0);var l=t("WxShare",function(){function t(){}return t.share=function(t,a,n){e.platform===e.Platform.WECHAT_GAME&&(this.shareTime=Date.now(),this.succCallBack=t,this.failCallBack=a,s.on(i.WxOnShow,this.onShow,this),c.shareAppMessage({title:"",imageUrlId:"",imageUrl:""}))},t.onShow=function(t){if(!(this.shareTime<=0)){var a=Date.now()-this.shareTime;this.shareTime=0,a>=3e3?(n.showToast("分享成功"),this.succCallBack&&this.succCallBack()):(n.showToast("分享失败"),this.failCallBack&&this.failCallBack())}},t}());l.shareTime=0,l.succCallBack=null,l.failCallBack=null,a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/start-scene', 'chunks:///_virtual/start-scene'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});